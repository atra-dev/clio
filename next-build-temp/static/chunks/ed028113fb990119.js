(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80064,e=>{"use strict";function t(...e){return e.filter(Boolean).join(" ")}e.s(["cn",()=>t])},18566,(e,t,r)=>{t.exports=e.r(76562)},1616,e=>{"use strict";var t=e.i(43476),r=e.i(932),n=e.i(80064);function i(e){let i,s,a,l,o=(0,r.c)(11),{href:c,compact:d,iconOnly:u}=e,h=void 0!==u&&u,m=h?"h-9":"h-full",f=h?"w-9":"w-full",p=!h&&"flex-1 min-w-0 h-full",x=void 0!==d&&d?"text-sm":"text-base";return o[0]!==p||o[1]!==x?(i=(0,n.cn)("inline-flex items-center text-slate-900",p,x),o[0]=p,o[1]=x,o[2]=i):i=o[2],o[3]!==m||o[4]!==f?(s=(0,n.cn)("h-full w-full bg-black object-contain object-left-top",m,f),o[3]=m,o[4]=f,o[5]=s):s=o[5],o[6]!==s?(a=(0,t.jsx)("img",{src:"/logo/atralogo.png",alt:"ATR & Associates",className:s}),o[6]=s,o[7]=a):a=o[7],o[8]!==i||o[9]!==a?(l=(0,t.jsxs)("div",{className:i,children:[a,null]}),o[8]=i,o[9]=a,o[10]=l):l=o[10],l}e.s(["default",()=>i])},83170,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(51718);var n=e.i(18357),i=e.i(18566),s=e.i(1616),a=e.i(47414);function l(){let e=(0,i.useRouter)(),[l,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[m,f]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),[g,b]=(0,r.useState)(0),y=(0,r.useRef)(!1),[w,v]=(0,r.useState)(""),[j,N]=(0,r.useState)(""),[_,S]=(0,r.useState)({challengeToken:"",challengeExpiresAt:"",phoneNumber:"",otpCode:"",otpRequestedAt:""}),[k,T]=(0,r.useState)(null),P=(0,r.useRef)(null),C=(0,r.useRef)(null),A=(0,r.useRef)(null),E=(0,r.useRef)(!1),R=(0,r.useRef)(`clio-login-sms-recaptcha-${Math.random().toString(36).slice(2,10)}`),I=(0,r.useRef)(""),O=(0,r.useRef)(""),q=(0,r.useRef)([]),F="clio_google_redirect_pending",D=()=>{window.sessionStorage.setItem(F,"1")},M=()=>{window.sessionStorage.removeItem(F)},B=(e,t="")=>{let r=String(t||"").trim();return r?`clio_sms_otp_autosend_guard:user:${r}`:`clio_sms_otp_autosend_guard:challenge:${String(e||"").trim()}`},U=async(e,t=5e3)=>e.currentUser?e.currentUser:await new Promise(r=>{let i=!1,s=()=>{},a=e=>{i||(i=!0,s(),r(e||null))},l=window.setTimeout(()=>{a(null)},t);s=(0,n.onAuthStateChanged)(e,e=>{e&&(window.clearTimeout(l),a(e))})}),z=e=>{if(e?.code==="sms_mfa_required")return"SMS authentication is required before login.";let t=String(e?.code||"").trim(),r=String(e?.message||"").trim();return"email_not_verified"===t?"Google account email must be verified.":"provider_not_allowed"===t?"Only Google sign-in is allowed for this workspace.":"role_not_provisioned"===t?"Account is not provisioned for this workspace.":"account_disabled"===t?"Account is disabled. Please contact Super Admin.":"invite_email_verification_required"===t?"Complete invite verification first before login.":"account_inactive"===t?"Account is not active yet. Please contact Super Admin.":"sms_mfa_setup_unavailable"===t?"SMS authentication setup is temporarily unavailable. Please retry sign-in.":"firebase_phone_not_verified"===t?"Phone verification is not complete. Finish OTP verification first.":"auth/unauthorized-domain"===t?"Current domain is not authorized in Firebase Authentication settings.":"auth/invalid-api-key"===t?"Firebase API key is invalid. Check NEXT_PUBLIC_FIREBASE_API_KEY in .env.local.":"auth/internal-error"===t?"Authentication flow was interrupted. Click Continue with Google again.":"auth/invalid-app-credential"===t?"SMS authentication setup failed. Check Firebase Phone provider setup and Authorized domains.":"auth/operation-not-allowed"===t?"Firebase Phone authentication is disabled. Enable it in Firebase Authentication > Sign-in method.":"auth/invalid-phone-number"===t?"Phone number is invalid. Use international format (e.g. +639171234567).":"auth/too-many-requests"===t?"Too many OTP attempts. Please wait before retrying.":"auth/code-expired"===t?"OTP has expired. Request a new code.":"auth/invalid-verification-code"===t?"OTP is invalid. Check the code and try again.":"auth/provider-already-linked"===t?"Phone number is already linked. Continue verification.":"auth/captcha-check-failed"===t?"Captcha validation failed. Retry and complete captcha challenge.":r.toLowerCase().includes("recaptcha has already been rendered")?"Security challenge is refreshing. Please retry OTP in a few seconds.":r.startsWith("firebase_client_not_configured")?"Firebase client is not configured. Set NEXT_PUBLIC_FIREBASE_API_KEY, NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN, NEXT_PUBLIC_FIREBASE_PROJECT_ID, and NEXT_PUBLIC_FIREBASE_APP_ID, then restart npm run dev.":e?.message||"Unable to complete Google sign-in."},L=()=>{if(A.current=null,C.current){try{C.current.clear()}catch{}C.current=null}if("u">typeof document){let e=document.getElementById(R.current);e&&(e.innerHTML="")}},V=async e=>{if(C.current)return C.current;if(A.current)return await A.current;let t=document.getElementById(R.current);if(!t)throw Error("captcha_not_ready");A.current=(async()=>{t.innerHTML="";let r=new n.RecaptchaVerifier(e,R.current,{size:p?"normal":"invisible"});return await r.render(),C.current=r,r})();try{return await A.current}catch(e){try{t.innerHTML=""}catch{}throw C.current=null,e}finally{A.current=null}};(0,r.useEffect)(()=>{if(g<=0)return;let e=window.setInterval(()=>{b(e=>e<=1?0:e-1)},1e3);return()=>{window.clearInterval(e)}},[g]);let H=async(e,t)=>{let r=await t.getIdToken(!0),i=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:r})});if(!i.ok){let r=await i.json().catch(()=>({}));if(r?.reason==="sms_mfa_required"){let e=Error(r.message||"SMS authentication is required before login.");throw e.code="sms_mfa_required",e.challengeToken=String(r?.challengeToken||""),e.challengeExpiresAt=String(r?.challengeExpiresAt||""),e.firebaseUser=t,e}await (0,n.signOut)(e).catch(()=>{});let s=Error(r.message||"Unable to log in.");throw s.code=String(r?.reason||`http_${i.status}`||"").trim(),s}},$=(e,t=null)=>{if(e?.code!=="sms_mfa_required")return!1;let r=String(e?.challengeToken||"").trim();if(!r)return!1;let n=e?.firebaseUser||t||null;return!!n&&(T(n),S({challengeToken:r,challengeExpiresAt:String(e?.challengeExpiresAt||""),phoneNumber:n.phoneNumber||"",otpCode:"",otpRequestedAt:""}),v(""),N(""),E.current=!1,x(!1),P.current=null,I.current="",O.current="",L(),!0)},G=async(e,t="")=>{let r=await e.getIdToken(!0),n=await fetch("/api/auth/mfa/sms/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:r,challengeToken:_.challengeToken,phoneNumber:String(t||_.phoneNumber||"").trim()})}),i=await n.json().catch(()=>({}));if(!n.ok)throw Error(i?.message||"Unable to complete SMS verification.")};(0,r.useEffect)(()=>{let e=!!k?.phoneNumber||k?.providerData?.some(e=>e?.providerId==="phone");if(_.challengeToken&&e&&k&&!c&&!u&&!(g>0)&&!P.current&&!_.otpRequestedAt&&I.current!==_.challengeToken){if(((e,t="")=>{let r=String(e||"").trim();if(!r)return!1;let n=B(r,t),i=window.sessionStorage.getItem(n),s=Number(i);return!Number.isFinite(s)||s<=0?(i&&window.sessionStorage.removeItem(n),!1):!(Date.now()-s>=12e4)||(window.sessionStorage.removeItem(n),!1)})(_.challengeToken,k?.uid))return void N("OTP was recently sent. Enter the current code or tap Send OTP if needed.");I.current=_.challengeToken,N("Sending OTP to your registered mobile number..."),W().catch(()=>null)}},[c,u,g,_.challengeToken,_.otpRequestedAt,k]);let W=async()=>{if(k&&_.challengeToken&&!c&&!E.current){E.current=!0,d(!0),v(""),N("");try{let e,t=(0,a.getFirebaseClientAuth)(),r=t.currentUser||k;if(!r)throw Error("Firebase session expired. Retry Google sign-in.");let i=r.providerData.some(e=>e?.providerId==="phone"),s=String(_.phoneNumber||"").trim(),l=String(r.phoneNumber||s).trim();if(!l)throw Error("auth/invalid-phone-number");let o=async()=>{let e=await V(t);return i?await (0,n.reauthenticateWithPhoneNumber)(r,l,e):await (0,n.linkWithPhoneNumber)(r,l,e)};try{e=await o()}catch(t){if(String(t?.message||"").toLowerCase().includes("recaptcha has already been rendered"))L(),e=await o();else throw t}P.current=e,S(e=>({...e,phoneNumber:l,otpCode:"",otpRequestedAt:new Date().toISOString()})),((e,t="")=>{let r=String(e||"").trim();r&&window.sessionStorage.setItem(B(r,t),String(Date.now()))})(_.challengeToken,r.uid),x(!1),b(0),O.current="",N("OTP sent via SMS. Enter the code to continue.")}catch(r){let e=String(r?.code||"").trim(),t=String(r?.message||"").toLowerCase();("auth/captcha-check-failed"===e||t.includes("recaptcha has already been rendered")||t.includes("recaptcha"))&&!p&&x(!0),"auth/too-many-requests"===String(r?.code||"").trim()&&((e=90)=>{b(Number.isFinite(e)?Math.max(1,Math.trunc(e)):90)})(90),v(z(r)),L(),P.current=null}finally{E.current=!1,d(!1)}}},K=async()=>{let t=String(_.otpCode||"").replace(/\D/g,"").slice(0,6);if(k&&_.challengeToken&&6===t.length&&!u){h(!0),f(!0),v(""),N("");try{let r=(0,a.getFirebaseClientAuth)(),n=P.current;if(!n)throw Error("Request OTP first before entering a verification code.");let i=await n.confirm(t),s=i?.user||r.currentUser||k;if(!s)throw Error("Firebase session expired. Retry Google sign-in.");await G(s,s.phoneNumber||_.phoneNumber),await H(r,s),S({challengeToken:"",challengeExpiresAt:"",phoneNumber:"",otpCode:"",otpRequestedAt:""}),E.current=!1,x(!1),T(null),N(""),P.current=null,I.current="",O.current="",L(),e.replace("/dashboard"),e.refresh()}catch(e){$(e,k)?N("SMS challenge refreshed. Request OTP again."):v(z(e))}finally{h(!1),f(!1)}}};(0,r.useEffect)(()=>{let t=!0;return(async()=>{try{let r=(0,a.getFirebaseClientAuth)(),i="1"===window.sessionStorage.getItem(F),s=await (0,n.getRedirectResult)(r);if(!t)return;let l=s?.user||r.currentUser||(i?await U(r,15e3):null);if(l){o(!0),f(!0),v(""),M(),await H(r,l),y.current=!0,e.replace("/dashboard"),e.refresh();return}if(!i)return;M(),N("Sign-in session was not completed. Click Continue with Google to retry.")}catch(e){if(!t)return;M(),$(e)||v(z(e))}finally{t&&!y.current&&(o(!1),f(!1))}})(),()=>{t=!1,L(),P.current=null}},[e]);let X=async()=>{let t,r;o(!0),v(""),N("");try{let i;t=(0,a.getFirebaseClientAuth)(),(i=new n.GoogleAuthProvider).setCustomParameters({prompt:"select_account"}),r=i;let s=await (0,n.signInWithPopup)(t,r);if(s?.user){M(),f(!0),await H(t,s.user),y.current=!0,e.replace("/dashboard"),e.refresh();return}D(),await (0,n.signInWithRedirect)(t,r);return}catch(i){let e=String(i?.code||"").trim();if(("auth/popup-blocked"===e||"auth/popup-closed-by-user"===e||"auth/cancelled-popup-request"===e||"auth/internal-error"===e)&&t&&r)try{D(),await (0,n.signInWithRedirect)(t,r);return}catch(e){M(),$(e)||v(z(e));return}M(),$(i)||v(z(i))}finally{y.current||(o(!1),f(!1))}},J=m||u||y.current,Y=!!k?.phoneNumber||k?.providerData?.some(e=>e?.providerId==="phone"),Q=!!_.challengeToken,Z=Q&&!Y,ee=_.phoneNumber.trim().length>0,et=!!_.otpRequestedAt||!!P.current,er=g>0,en=Z&&c&&!et,ei=Z&&!et&&!en,es=et||!Z,ea=String(_.otpCode||"").replace(/\D/g,"").slice(0,6),el=Array.from({length:6},(e,t)=>ea[t]||""),eo=e=>{let t=String(e||"").replace(/\D/g,"").slice(0,6);S(e=>({...e,otpCode:t}))};return(0,r.useEffect)(()=>{if(!Q)return;if(ea.length<6){O.current="";return}if(!et||u||c)return;let e=`${_.challengeToken}:${ea}`;O.current!==e&&(O.current=e,K().catch(()=>null))},[Q,et,c,u,_.challengeToken,ea]),(0,r.useEffect)(()=>{if(!Q||!et||u)return;let e=el.findIndex(e=>!e),t=-1===e?5:e;window.requestAnimationFrame(()=>{q.current[t]?.focus()})},[Q,et,u,ea]),(0,t.jsxs)("section",{className:"w-full",children:[(0,t.jsxs)("div",{className:"relative mx-auto w-full max-w-3xl overflow-hidden rounded-3xl border border-[#e6dcc7] bg-[#fffdf7] p-8 shadow-[0_28px_60px_-44px_rgba(15,23,42,0.55)] sm:p-10",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute left-0 right-0 top-0 h-1.5 bg-[linear-gradient(90deg,#0f766e_0%,#0284c7_45%,#f97316_100%)]"}),(0,t.jsx)("div",{className:"pointer-events-none absolute -top-20 -right-20 h-56 w-56 rounded-full bg-[#f1f5f9]"}),(0,t.jsx)("div",{className:"pointer-events-none absolute -bottom-20 -left-20 h-56 w-56 rounded-full bg-[#ffe8c7]"}),(0,t.jsxs)("div",{className:`relative space-y-7 transition-opacity ${Q?"opacity-70":"opacity-100"}`,children:[(0,t.jsx)(s.default,{compact:!0}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.28em] text-[#0f766e]",children:"Clio Workspace"}),(0,t.jsx)("h1",{className:"max-w-xl text-3xl font-semibold tracking-tight text-slate-900 sm:text-4xl",children:"Secure access to your workspace."}),(0,t.jsx)("p",{className:"max-w-lg text-base text-slate-600",children:"Sign in with your verified work account to continue."})]}),(0,t.jsx)("div",{className:"pt-1"}),(0,t.jsxs)("div",{className:"space-y-5 pt-2",children:[(0,t.jsxs)("button",{type:"button",onClick:X,disabled:l||Q,className:"relative inline-flex h-12 w-full items-center justify-center rounded-2xl border border-[#d2d6dc] bg-white px-5 text-[15px] font-semibold text-[#1f1f1f] shadow-[0_1px_2px_rgba(15,23,42,0.08)] transition-all duration-200 hover:border-[#c4c8ce] hover:bg-[#f8f9fa] active:scale-[0.997] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#1a73e8]/35 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-65",children:[(0,t.jsxs)("svg",{viewBox:"0 0 18 18",className:"pointer-events-none absolute left-5 top-1/2 h-5 w-5 -translate-y-1/2","aria-hidden":"true",children:[(0,t.jsx)("path",{fill:"#4285F4",d:"M17.64 9.2045c0-.638-.0573-1.2518-.1636-1.8409H9v3.4818h4.8436c-.2086 1.125-.8427 2.0782-1.7977 2.7155v2.2582h2.9082c1.7018-1.5664 2.6859-3.8741 2.6859-6.6146z"}),(0,t.jsx)("path",{fill:"#34A853",d:"M9 18c2.43 0 4.4673-.8064 5.9564-2.1805l-2.9082-2.2582c-.8064.5409-1.8377.8605-3.0482.8605-2.3468 0-4.3341-1.5859-5.0432-3.7168H.9577v2.3332C2.4382 15.98 5.4818 18 9 18z"}),(0,t.jsx)("path",{fill:"#FBBC05",d:"M3.9568 10.705c-.1809-.5409-.2841-1.1182-.2841-1.705 0-.5868.1032-1.1641.2841-1.705V4.9618H.9577C.3477 6.1732 0 7.5491 0 9c0 1.4509.3477 2.8268.9577 4.0382l2.9991-2.3332z"}),(0,t.jsx)("path",{fill:"#EA4335",d:"M9 3.5795c1.3214 0 2.5077.4545 3.4405 1.3455l2.5805-2.5805C13.4632.891 11.4259 0 9 0 5.4818 0 2.4382 2.02.9577 4.9618l2.9991 2.3332C4.6659 5.1641 6.6532 3.5795 9 3.5795z"})]}),(0,t.jsx)("span",{children:l?"Signing in...":"Continue with Google"})]}),!Q&&w?(0,t.jsx)("p",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:w}):null,!Q&&j?(0,t.jsx)("p",{className:"rounded-xl border border-sky-200 bg-sky-50 px-3 py-2 text-xs text-sky-700",children:j}):null,(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Complete your invite verification first, then use the same invited email for Google sign-in."})]})]})]}),Q?(0,t.jsx)("div",{className:"fixed inset-0 z-40 flex items-end justify-center bg-slate-950/45 p-3 backdrop-blur-sm sm:items-center sm:p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-lg overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-[0_30px_70px_-30px_rgba(15,23,42,0.55)]",children:[(0,t.jsx)("div",{className:"border-b border-slate-100 bg-[linear-gradient(120deg,#f8fafc_0%,#f1f5f9_100%)] px-4 py-3 sm:px-5",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-[#0f766e]",children:"CLIO"}),(0,t.jsx)("h2",{className:"mt-1 text-base font-semibold text-slate-900 sm:text-lg",children:ei?"Register Phone Number":en?"Sending OTP Code":"OTP Verification"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:ei?"Register your mobile number first before you can continue.":en?"Please wait while we send a one-time code to your mobile number.":"Enter the 6-digit code sent to your mobile number."})]}),(0,t.jsx)("span",{className:"inline-flex h-10 w-10 shrink-0 items-center justify-center rounded-2xl bg-slate-900 text-white",children:(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M12 2a4 4 0 0 0-4 4v3H7a3 3 0 0 0-3 3v7a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-7a3 3 0 0 0-3-3h-1V6a4 4 0 0 0-4-4zm-2 7V6a2 2 0 1 1 4 0v3h-4z"})})})]})}),(0,t.jsxs)("div",{className:"space-y-3 px-4 py-4 sm:px-5 sm:py-5",children:[(0,t.jsxs)("div",{className:p?"rounded-xl border border-slate-200 bg-white p-2":"sr-only",children:[(0,t.jsx)("p",{className:p?"mb-2 text-[11px] font-medium text-slate-600":"hidden",children:"Complete the captcha challenge, then tap Register again."}),(0,t.jsx)("div",{id:R.current})]}),(0,t.jsx)("div",{className:"rounded-2xl border border-slate-200 bg-[linear-gradient(180deg,#fcfdff_0%,#f8fafc_100%)] p-3 shadow-[0_18px_38px_-32px_rgba(15,23,42,0.45)] sm:p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[ei?(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"mt-2 block space-y-1",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-slate-700",children:"Mobile Number"}),(0,t.jsx)("input",{type:"tel",value:_.phoneNumber,onChange:e=>S(t=>({...t,phoneNumber:e.target.value})),placeholder:"+639171234567",className:"h-10 w-full rounded-xl border border-slate-300 bg-white px-3 text-sm text-slate-900 placeholder:text-slate-400 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-100",disabled:c||u})]}),(0,t.jsx)("p",{className:`mt-2 text-[11px] ${ee?"text-slate-500":"font-medium text-amber-700"}`,children:ee?"Use international format with country code to register this account.":"Add your mobile number first before requesting OTP."}),(0,t.jsx)("button",{type:"button",onClick:W,disabled:c||er||!ee,className:"mt-3 inline-flex h-10 w-full items-center justify-center rounded-xl border border-sky-300 bg-white px-4 text-sm font-semibold text-sky-700 transition hover:bg-sky-50 disabled:cursor-not-allowed disabled:opacity-60",children:c?"Sending OTP...":er?`Retry in ${g}s`:"Register"}),er?(0,t.jsx)("p",{className:"mt-2 text-[11px] font-medium text-amber-700",children:"OTP is temporarily rate-limited. Please wait before retrying."}):null]}):null,en?(0,t.jsx)("div",{className:"rounded-xl border border-sky-100 bg-sky-50/70 px-4 py-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 text-center",children:[(0,t.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white text-sky-600 shadow-sm",children:(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 3.2l-8 5-8-5V6l8 5 8-5v1.2z"})})}),(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-800",children:"Sending OTP to your mobile number..."}),(0,t.jsxs)("span",{className:"inline-flex w-8 justify-start",children:[(0,t.jsx)("span",{className:"inline-flex h-1.5 w-1.5 animate-bounce rounded-full bg-sky-500 [animation-delay:-0.2s]"}),(0,t.jsx)("span",{className:"ml-1 inline-flex h-1.5 w-1.5 animate-bounce rounded-full bg-sky-500 [animation-delay:-0.1s]"}),(0,t.jsx)("span",{className:"ml-1 inline-flex h-1.5 w-1.5 animate-bounce rounded-full bg-sky-500"})]})]})}):null,es?(0,t.jsxs)("div",{children:[Z?null:(0,t.jsxs)("div",{className:"mb-2 space-y-2",children:[(0,t.jsx)("p",{className:"rounded-xl border border-sky-200 bg-sky-50 px-3 py-2 text-xs text-sky-700",children:"OTP is sent automatically to your registered mobile number."}),(0,t.jsx)("button",{type:"button",onClick:W,disabled:c||u||er||!ee,className:"inline-flex h-9 items-center justify-center rounded-xl border border-sky-300 bg-white px-3 text-xs font-semibold text-sky-700 transition hover:bg-sky-50 disabled:cursor-not-allowed disabled:opacity-60",children:c?"Sending OTP...":er?`Retry in ${g}s`:et?"Resend OTP":"Send OTP"})]}),(0,t.jsxs)("label",{className:"mt-2 block space-y-2",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-slate-700",children:"Verification Code"}),(0,t.jsx)("div",{className:"mx-auto flex max-w-[360px] items-center justify-center gap-2 sm:gap-3",onPaste:e=>{let t=(e.clipboardData?.getData("text")||"").replace(/\D/g,"").slice(0,6);if(!t)return;e.preventDefault(),eo(t);let r=Math.min(t.length,6)-1;window.requestAnimationFrame(()=>{q.current[r]?.focus(),q.current[r]?.select?.()})},children:el.map((e,r)=>(0,t.jsx)("input",{ref:e=>{q.current[r]=e},type:"text",inputMode:"numeric",autoComplete:0===r?"one-time-code":"off",maxLength:1,value:e,onChange:e=>((e,t)=>{let r=String(t||"").replace(/\D/g,""),n=el.slice();if(!r){if(e>=ea.length)return;eo(ea.slice(0,e));return}for(let t=0;t<r.length&&e+t<6;t+=1)n[e+t]=r[t];eo(n.join(""));let i=Math.min(e+r.length,5);window.requestAnimationFrame(()=>{q.current[i]?.focus(),q.current[i]?.select?.()})})(r,e.target.value),onKeyDown:e=>((e,t)=>{if("Backspace"===t.key&&!el[e]&&e>0){t.preventDefault(),eo(ea.slice(0,e-1)),window.requestAnimationFrame(()=>{q.current[e-1]?.focus()});return}if("ArrowLeft"===t.key&&e>0){t.preventDefault(),q.current[e-1]?.focus();return}"ArrowRight"===t.key&&e<5&&(t.preventDefault(),q.current[e+1]?.focus())})(r,e),className:"h-12 w-12 rounded-2xl border border-sky-200 bg-[linear-gradient(180deg,#ffffff_0%,#f8fbff_100%)] text-center text-lg font-semibold text-slate-900 shadow-[0_2px_10px_-8px_rgba(2,132,199,0.45)] transition focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-100 disabled:opacity-60",disabled:c||u},`otp-${r}`))})]}),et?ea.length<6?(0,t.jsx)("p",{className:"mt-2 text-[11px] text-slate-500",children:"Enter the 6-digit code. Verification is automatic."}):null:(0,t.jsx)("p",{className:"mt-2 text-[11px] text-slate-500",children:"Waiting for OTP challenge. Please hold for a moment."})]}):null]})}),w?(0,t.jsx)("p",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:w}):null,j?(0,t.jsx)("p",{className:"rounded-xl border border-sky-200 bg-sky-50 px-3 py-2 text-xs text-sky-700",children:j}):null,_.otpRequestedAt?(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["OTP requested: ",new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(new Date(_.otpRequestedAt))]}):null,_.challengeExpiresAt?(0,t.jsxs)("p",{className:"text-[11px] text-slate-500",children:["Session expires: ",new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(new Date(_.challengeExpiresAt))]}):null]})]})}):null,J?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/75 backdrop-blur-[2px]",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/95 px-5 py-3 text-sm font-semibold text-slate-700 shadow-[0_12px_30px_-20px_rgba(15,23,42,0.45)]",children:[(0,t.jsx)("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-sky-50 text-sky-600",children:(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:(0,t.jsx)("path",{fill:"currentColor",d:"M12 3a5 5 0 0 0-5 5v2H6a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-1V8a5 5 0 0 0-5-5zm-3 7V8a3 3 0 1 1 6 0v2H9z"})})}),(0,t.jsxs)("span",{className:"flex flex-col text-left",children:[(0,t.jsx)("span",{className:"text-[13px] font-semibold text-slate-900",children:"Verifying access"}),(0,t.jsx)("span",{className:"text-[11px] font-medium text-slate-500",children:"Securing your session"})]}),(0,t.jsxs)("span",{className:"inline-flex w-6 justify-start",children:[(0,t.jsx)("span",{className:"inline-flex h-1.5 w-1.5 animate-bounce rounded-full bg-sky-500 [animation-delay:-0.2s]"}),(0,t.jsx)("span",{className:"ml-1 inline-flex h-1.5 w-1.5 animate-bounce rounded-full bg-sky-500 [animation-delay:-0.1s]"}),(0,t.jsx)("span",{className:"ml-1 inline-flex h-1.5 w-1.5 animate-bounce rounded-full bg-sky-500"})]})]})}):null]})}e.s(["default",()=>l])}]);