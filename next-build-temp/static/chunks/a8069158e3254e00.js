(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4644,e=>{"use strict";var t=e.i(43476),a=e.i(57688),s=e.i(71645),l=e.i(38418),r=e.i(93096),i=e.i(46670),n=e.i(94106),o=e.i(77135),d=e.i(74923),c=e.i(12554),m=e.i(13634),u=e.i(9968),p=e.i(97256),x=e.i(32295);let f=[{id:"profile",label:"Employee Profile"},{id:"compliance",label:"Government & Compliance IDs"},{id:"payroll",label:"Payroll Information"},{id:"documents",label:"Employee Attached Documents"},{id:"activity",label:"Recent Activity"}],h=["Active","Probation","Inactive","Archived"],b=["On-site","Hybrid","Remote"],y=[{value:"SUPER_ADMIN",label:"Super Admin"},{value:"GRC",label:"GRC"},{value:"HR",label:"HR"},{value:"EA",label:"EA"},{value:"EMPLOYEE_L1",label:"Employee (L1)"},{value:"EMPLOYEE_L2",label:"Employee (L2)"},{value:"EMPLOYEE_L3",label:"Employee (L3)"}],g=[{value:"Governance, Risk, and Compliance (GRC)",label:"Governance, Risk, and Compliance (GRC)"},{value:"Research and Development (R&D)",label:"Research and Development (R&D)"},{value:"Cyber Security Operations Center (CSOC)",label:"Cyber Security Operations Center (CSOC)"},{value:"Threat Intelligence (TI)",label:"Threat Intelligence (TI)"}],N=[{key:"primaryId",label:"Primary Government ID"},{key:"sss",label:"SSS"},{key:"tin",label:"TIN"},{key:"philhealth",label:"PhilHealth"},{key:"pagibig",label:"Pag-IBIG"},{key:"passport",label:"Passport"}],j=[{key:"compensationType",label:"Compensation Type",placeholder:"Monthly"},{key:"baseSalary",label:"Base Salary",placeholder:"e.g. 45000"},{key:"bankName",label:"Bank Name",placeholder:"e.g. BPI"},{key:"accountName",label:"Account Name",placeholder:"Employee Name"},{key:"accountNumber",label:"Account Number",placeholder:"XXXX-XXXX"},{key:"taxCode",label:"Tax Code",placeholder:"S/ME1"}],v={employeeId:"",lastName:"",firstName:"",middleName:"",suffix:"",email:"",role:"EMPLOYEE_L1",department:"",workSetup:"On-site",hireDate:""},w={employeeId:"",lastName:"",firstName:"",middleName:"",suffix:"",email:"",department:"",hireDate:""},S={role:"EMPLOYEE_L1",workSetup:"On-site"},k={contact:"",address:"",emergencyContact:""},E={primaryId:"",sss:"",tin:"",philhealth:"",pagibig:"",passport:""},C={payrollGroup:"",compensationType:"",baseSalary:"",bankName:"",accountName:"",accountNumber:"",taxCode:""},I={role:"EMPLOYEE_L1",status:"Active",managerEmail:""},L={firstName:"",middleName:"",lastName:"",suffix:"",contact:"",address:"",emergencyContact:""};function A(e){let t=new Date(e||"");return Number.isNaN(t.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}function D(e){return String(e||"").trim().toLowerCase()}function P(e){return String(e||"").trim()}function R(e){return Array.isArray(e)?e:[]}function M(e){return e&&"object"==typeof e&&!Array.isArray(e)?e:{}}function O(e,t){let a=[],s=new Set;return[...R(e),...R(t)].forEach(e=>{let t,l,r=(t=String(e?.value||"").trim(),l=String(e?.label||t).trim(),t?{value:t,label:l||t}:null);if(!r)return;let i=`${r.value}::${r.label}`.toLowerCase();s.has(i)||(s.add(i),a.push(r))}),a}function T(e){return String(e??"").trim()||"-"}function U(e){let t=String(e??"").trim();return"-"===t?"":t}function _(e,t){let a=String(e||"").trim();if(a)return a;let s=String(t||"").trim().toLowerCase();return s.includes("@")?(0,m.formatNameFromEmail)(s,{fallbackLabel:"User"}):T(t)}function F(e,t){let a=String(e||"").trim();if(a.includes("@"))return a.toLowerCase();let s=String(t||"").trim();return s.includes("@")?s.toLowerCase():""}function G(e){let t=String(e||"").trim();if(!t)return"-";let a=t.toUpperCase(),s={EMPLOYEE:"Employee (L1)",EMPLOYEE_L1:"Employee (L1)",EMPLOYEE_L2:"Employee (L2)",EMPLOYEE_L3:"Employee (L3)"};return s[a]?s[a]:t.includes("_")?t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "):t}function B(e){return(0,m.formatEmployeeName)({lastName:e?.lastName,firstName:e?.firstName,middleName:e?.middleName,suffix:e?.suffix,fallback:e?.name,fallbackEmail:e?.email,fallbackLabel:"Employee"})}function $(e,a,s){return(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] font-medium uppercase tracking-[0.08em] text-slate-500",children:e}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-800",children:T(a)})]},s)}function Y({session:e}){let Y=(0,d.useToast)(),q=(0,c.useConfirm)(),z=e?.role||"EMPLOYEE_L1",W=e?.email||"",H=String(z||"").trim().toUpperCase().startsWith("EMPLOYEE_"),X=!H,[V,J]=(0,s.useState)({roles:y,departments:g}),[K,Q]=(0,s.useState)("profile"),[Z,ee]=(0,s.useState)([]),[et,ea]=(0,s.useState)(null),[es,el]=(0,s.useState)(""),[er,ei]=(0,s.useState)(""),[en,eo]=(0,s.useState)(""),[ed,ec]=(0,s.useState)(""),[em,eu]=(0,s.useState)(1),[ep,ex]=(0,s.useState)(!0),[ef,eh]=(0,s.useState)(""),[eb,ey]=(0,s.useState)(null),[eg,eN]=(0,s.useState)(v),[ej,ev]=(0,s.useState)(w),[ew,eS]=(0,s.useState)(S),[ek,eE]=(0,s.useState)(k),[eC,eI]=(0,s.useState)(E),[eL,eA]=(0,s.useState)(C),[eD,eP]=(0,s.useState)(I),[eR,eM]=(0,s.useState)(L),[eO,eT]=(0,s.useState)(!1),[eU,e_]=(0,s.useState)(!1),[eF,eG]=(0,s.useState)(!1),eB=(0,s.useRef)(null),e$=(0,s.useRef)(null),eY=(0,s.useRef)(""),eq=(0,s.useRef)(new Map),ez=(0,s.useMemo)(()=>H?f.filter(e=>"profile"===e.id||"documents"===e.id):f,[H]),eW=(0,s.useMemo)(()=>O(V.roles,y),[V.roles]),eH=(0,s.useMemo)(()=>O(V.departments,g),[V.departments]),eX=(0,s.useCallback)(e=>{let t=P(e?.id||e?.recordId);t?(eh(t),Q("profile"),e_(!0),window.innerWidth<1280&&window.requestAnimationFrame(()=>{eB.current?.scrollIntoView({behavior:"smooth",block:"start"})})):Y.error("Unable to open employee details. Missing record identifier.")},[Y]);(0,s.useEffect)(()=>{if(!eO)return;let e=document.body.style.overflow,t=e=>{"Escape"===e.key&&eT(!1)};return document.body.style.overflow="hidden",window.addEventListener("keydown",t),()=>{document.body.style.overflow=e,window.removeEventListener("keydown",t)}},[eO]),(0,s.useEffect)(()=>{eY.current=ef},[ef]),(0,s.useEffect)(()=>{let e=window.setTimeout(()=>{ei(es)},300);return()=>{window.clearTimeout(e)}},[es]),(0,s.useEffect)(()=>{if(H)return void J({roles:y,departments:g});let e=!0;return(async()=>{try{let t=await p.hrisApi.settings.referenceData.list();if(!e)return;J({roles:O(t?.catalogs?.roles,y),departments:O(t?.catalogs?.departments,g)})}catch{if(!e)return;J({roles:y,departments:g})}})(),()=>{e=!1}},[H]);let eV=(0,s.useCallback)(async()=>{ex(!0);try{let e=await p.hrisApi.employees.list({q:er,status:en,role:ed,page:em,pageSize:10,includeDocuments:!!H||void 0}),t=R(e.records).map(e=>({...e,id:P(e?.id||e?.recordId),name:B(e)})).filter(e=>!!e.id);if(ee(t),ea(e.pagination||null),H){let e=t[0]?.id||"";eY.current!==e&&eh(e),e_(!!e);return}!eY.current&&t[0]?.id&&eh(t[0].id),eY.current&&!t.some(e=>e.id===eY.current)&&eh(t[0]?.id||"")}catch(e){Y.error(e.message||"Unable to load employee directory.")}finally{ex(!1)}},[er,H,em,ed,en,Y]),eJ=(0,s.useCallback)(async()=>{let e=P(ef);if(!e)return void ey(null);try{let t=eq.current.get(e);if(t&&Date.now()-t.at<6e4)return void ey(t.record);let a=await p.hrisApi.employees.get(e),s=a.record?{...a.record,name:B(a.record)}:null;ey(s),s&&eq.current.set(e,{record:s,at:Date.now()})}catch(t){String(t?.message||"").toLowerCase().includes("invalid record identifier")&&(eh(""),e_(!1)),eq.current.delete(e),ey(null),Y.error(t.message||"Unable to load employee profile.")}},[ef,Y]);(0,s.useEffect)(()=>{eV()},[eV]),(0,s.useEffect)(()=>{eJ()},[eJ]),(0,s.useEffect)(()=>{new Set(ez.map(e=>e.id)).has(K)||Q(ez[0]?.id||"profile")},[K,ez]),(0,s.useEffect)(()=>{let e=new Set(ez.map(e=>e.id)),t=(t=window.location.hash)=>{let a=String(t||"").replace(/^#/,"").trim().toLowerCase();if(!a)return;let s=f.find(e=>(0,x.toSubTabAnchor)(e.id)===a);s&&e.has(s.id)&&(Q(s.id),ef&&e_(!0))},a=e=>{if(e?.detail?.moduleId&&"employees"!==e.detail.moduleId)return;let a=e?.detail?.anchor;a?t(`#${a}`):t()};return t(),window.addEventListener("hashchange",t),window.addEventListener("popstate",t),window.addEventListener("clio:subtab-anchor",a),()=>{window.removeEventListener("hashchange",t),window.removeEventListener("popstate",t),window.removeEventListener("clio:subtab-anchor",a)}},[ez,ef]);let eK=(0,s.useMemo)(()=>{let e=Z.find(e=>e.id===ef)||null,t=P(eb?.id||eb?.recordId);if(e&&eb&&t===e.id){let t={...e,...eb,id:e.id};return{...t,name:B(t)}}if(e)return e;if(eb){let e=P(eb.id||eb.recordId);return{...eb,id:e,name:B(eb)}}return null},[Z,ef,eb]),eQ=(0,s.useMemo)(()=>{let e=[...eW],t=String(eK?.role||"").trim();return t&&!e.some(e=>e.value===t)&&e.push({value:t,label:G(t)}),e},[eW,eK?.role]);(0,s.useEffect)(()=>{0!==eW.length&&eN(e=>{let t=String(e.role||"").trim();if(t&&eW.some(e=>e.value===t))return e;let a=eW.find(e=>"EMPLOYEE_L1"===e.value)?.value||eW.find(e=>"Employee"===e.value)?.value||eW[0].value;return{...e,role:a}})},[eW]),(0,s.useEffect)(()=>{if(!eK){ev(w),eS(S),eE(k),eI(E),eA(C),eP(I);return}ev(function(e){if(!e)return w;let t=function(e){let t=String(e||"").trim().replace(/\s+/g," ");if(!t)return{lastName:"",firstName:"",middleName:"",suffix:""};let a=new Set(["JR","JR.","SR","SR.","I","II","III","IV","V"]);if(t.includes(",")){let[e,s]=t.split(",",2),l=String(s||"").trim().split(/\s+/).filter(Boolean),r="";l.length>0&&a.has(l[l.length-1].toUpperCase())&&(r=l.pop()||"");let i=l.shift()||"",n=l.join(" ");return{lastName:String(e||"").trim(),firstName:i,middleName:n,suffix:r}}let s=t.split(/\s+/).filter(Boolean);if(1===s.length)return{lastName:"",firstName:s[0],middleName:"",suffix:""};let l="";return(a.has(s[s.length-1].toUpperCase())&&(l=s.pop()||""),2===s.length)?{lastName:s[1],firstName:s[0],middleName:"",suffix:l}:{lastName:s[s.length-1]||"",firstName:s[0]||"",middleName:s.slice(1,-1).join(" "),suffix:l}}(e.name);return{employeeId:String(e.employeeId||""),lastName:String(e.lastName||t.lastName||""),firstName:String(e.firstName||t.firstName||""),middleName:String(e.middleName||t.middleName||""),suffix:String(e.suffix||t.suffix||""),email:String(e.email||""),department:String(e.department||""),hireDate:String(e.hireDate||"")}}(eK)),eS(eK?{role:String(eK.role||"EMPLOYEE_L1"),workSetup:String(eK.workSetup||"On-site")}:S),eE(function(e){if(!e)return k;let t=M(e.contactInformation);return{contact:String(e.contact||t.primaryPhone||""),address:String(e.address||t.address||""),emergencyContact:String(e.emergencyContact||t.emergencyContact||"")}}(eK)),eI(function(e){if(!e)return E;let t=M(e.governmentIds);return{primaryId:String(e.govId||t.primaryId||""),sss:String(t.sss||""),tin:String(t.tin||""),philhealth:String(t.philhealth||""),pagibig:String(t.pagibig||""),passport:String(t.passport||"")}}(eK)),eA(function(e){if(!e)return C;let t=M(e.payrollInformation);return{payrollGroup:String(e.payrollGroup||""),compensationType:String(t.compensationType||""),baseSalary:String(t.baseSalary||""),bankName:String(t.bankName||""),accountName:String(t.accountName||""),accountNumber:String(t.accountNumber||""),taxCode:String(t.taxCode||"")}}(eK)),eP(eK?{role:String(eK.role||"EMPLOYEE_L1"),status:String(eK.status||"Active"),managerEmail:String(eK.managerEmail||"")}:I)},[eK]);let eZ=e=>t=>{eN(a=>({...a,[e]:t.target.value}))},e0=async e=>{if(e.preventDefault(),!X)return;let t=(0,m.formatEmployeeName)({lastName:eg.lastName,firstName:eg.firstName,middleName:eg.middleName,suffix:eg.suffix,fallback:eg.email,fallbackEmail:eg.email,fallbackLabel:"Employee"}),a=t||String(eg.employeeId||"").trim()||"this employee";if(await q({title:"Create Employee Record",message:`Create employee record for ${a}?`,confirmText:"Create"})){eG(!0);try{await p.hrisApi.employees.create({employeeId:String(eg.employeeId||"").trim(),name:t,lastName:String(eg.lastName||"").trim(),firstName:String(eg.firstName||"").trim(),middleName:String(eg.middleName||"").trim(),suffix:String(eg.suffix||"").trim(),email:D(eg.email),role:String(eg.role||"").trim(),department:String(eg.department||"").trim(),workSetup:String(eg.workSetup||"").trim(),hireDate:String(eg.hireDate||"").trim(),employmentStatus:"Active Employee",status:"Active"}),eN(v),eT(!1),Y.success("Employee record created."),await eV()}catch(e){Y.error(e.message||"Unable to create employee record.")}finally{eG(!1)}}},e1=e=>t=>{eM(a=>({...a,[e]:t.target.value}))},e3=async e=>{if(e.preventDefault(),!H)return;let t=String(eR.firstName||"").trim(),a=String(eR.lastName||"").trim();if(!t||!a)return void Y.error("First name and last name are required.");if(await q({title:"Submit Employee Record",message:"Submit your employee record details?",confirmText:"Submit"})){eG(!0);try{let e=await p.hrisApi.employees.create({firstName:t,middleName:String(eR.middleName||"").trim(),lastName:a,suffix:String(eR.suffix||"").trim(),contact:String(eR.contact||"").trim(),address:String(eR.address||"").trim(),emergencyContact:String(eR.emergencyContact||"").trim()});eM(L),Y.success("Your employee record has been created."),await eV();let s=P(e?.record?.id||e?.record?.recordId);s&&(eh(s),Q("profile"),e_(!0))}catch(e){Y.error(e.message||"Unable to create your employee record.")}finally{eG(!1)}}},e2=async(e,t,a="Save changes to this employee record?")=>{let s=P(ef)||P(eK?.id);if(!s)return Y.error("Employee record reference is missing. Please reopen the employee details."),!1;if(!await q({title:"Confirm Update",message:a,confirmText:"Save"}))return!1;eG(!0);try{return await p.hrisApi.employees.update(s,e),Y.success(t),await Promise.all([eV(),eJ()]),!0}catch(e){return String(e?.message||"").toLowerCase().includes("invalid record identifier")&&(eh(""),e_(!1)),Y.error(e.message||"Unable to update employee profile."),!1}finally{eG(!1)}},e5=async e=>{if(!e||!X)return;let t=Z.find(t=>t.id===e),a=T(t?.name||t?.employeeId||e);if(await q({title:"Archive Employee Record",message:`Archive employee record: ${a}?`,confirmText:"Archive",tone:"danger"})){eG(!0);try{await p.hrisApi.employees.archive(e),e===ef&&eh(""),Y.success("Employee record archived."),await eV()}catch(e){Y.error(e.message||"Unable to archive employee record.")}finally{eG(!1)}}},e9=async e=>{let t=e.target.files?.[0];if(!t)return;let a=P(ef)||P(eK?.id);if(!a||!eK?.id||!X){e.target.value="";return}if(t.size>0xa00000){Y.error("Document upload is limited to 10MB per file."),e.target.value="";return}let s=`Upload document "${t.name}" to this employee record?`;if(!await q({title:"Upload Document",message:s,confirmText:"Upload"})){e.target.value="";return}eG(!0);try{let e=await (0,u.uploadEmployeeDocumentToStorage)({file:t,employeeRecordId:a,employeeEmail:eK.email}),s=R(eK.documents),l={name:String(t.name||"").trim()||"Employee Document",type:function(e){let t=String(e?.type||"").trim().toLowerCase();if(t.includes("pdf"))return"PDF";if(t.includes("image"))return"Image";if(t.includes("sheet")||t.includes("excel")||t.includes("csv"))return"Spreadsheet";if(t.includes("word")||t.includes("document"))return"Document";let a=String(e?.name||"").trim(),s=a.includes(".")?a.split(".").pop():"";return s?s.toUpperCase():"General"}(t),ref:e.downloadUrl,storagePath:e.storagePath,contentType:e.contentType||null,sizeBytes:e.sizeBytes,uploadedAt:new Date().toISOString(),uploadedBy:W};await p.hrisApi.employees.update(a,{documents:[...s,l]}),Y.success("Employee document uploaded to secure storage."),await Promise.all([eV(),eJ()])}catch(e){Y.error(e.message||"Unable to upload employee document.")}finally{eG(!1),e.target.value=""}},e4=async e=>{if(!eK?.id||!X)return;let t=P(ef)||P(eK?.id);if(!t)return void Y.error("Employee record reference is missing. Please reopen the employee details.");let a=R(eK.documents),s=a[e];if(!s)return;let l=String(s?.name||"").trim()||"this document";if(await q({title:"Remove Document",message:`Remove document "${l}" from this employee record?`,confirmText:"Remove",tone:"danger"})){eG(!0);try{await p.hrisApi.employees.update(t,{documents:a.filter((t,a)=>a!==e)});let l=String(s?.storagePath||"").trim();l&&(0,u.removeStorageObjectByPath)(l).catch(()=>null),Y.success("Employee document removed."),await Promise.all([eV(),eJ()])}catch(e){Y.error(e.message||"Unable to remove employee document.")}finally{eG(!1)}}},e8=async(e,t)=>{let a=P(ef)||P(eK?.id);if(!a)return;let s=String(e?.ref||"").trim(),l=String(e?.storagePath||"").trim();if(s||l)try{let r=await p.hrisApi.employees.logDocumentAccess(a,{documentId:String(e?.id||e?.recordId||t).trim(),documentName:String(e?.name||"").trim(),documentType:String(e?.type||"").trim(),documentRef:s,documentStoragePath:l}),i=String(r?.accessUrl||"").trim();if(!i)throw Error("Document access URL is unavailable.");window.open(i,"_blank","noopener,noreferrer")}catch(e){Y.error(e?.message||"Document access is blocked by security policy.")}},e7=async()=>{if(!eK?.id)return;let e={contact:String(ek.contact||"").trim(),address:String(ek.address||"").trim()};X&&(e.emergencyContact=String(ek.emergencyContact||"").trim()),await e2(e,"Contact information updated.",X?"Save contact information changes?":"Save your contact information changes?")},e6=async()=>{if(!eK?.id)return;if(!X)return void await e7();let e=(0,m.formatEmployeeName)({lastName:ej.lastName,firstName:ej.firstName,middleName:ej.middleName,suffix:ej.suffix,fallback:eK?.name||ej.email,fallbackEmail:ej.email,fallbackLabel:"Employee"});await e2({employeeId:String(ej.employeeId||"").trim(),name:e,lastName:String(ej.lastName||"").trim(),firstName:String(ej.firstName||"").trim(),middleName:String(ej.middleName||"").trim(),suffix:String(ej.suffix||"").trim(),email:D(ej.email),department:String(ej.department||"").trim(),hireDate:String(ej.hireDate||"").trim(),role:String(ew.role||"").trim(),workSetup:String(ew.workSetup||"").trim(),contact:String(ek.contact||"").trim(),address:String(ek.address||"").trim(),emergencyContact:String(ek.emergencyContact||"").trim()},"Full profile information updated.","Save all profile updates for this employee?")},te=async()=>{if(eK?.id&&X){let e;await e2({govId:String(eC.primaryId||"").trim(),governmentIds:(e={...M(eK.governmentIds)},N.forEach(({key:t})=>{let a=String(eC?.[t]||"").trim();a?e[t]=a:delete e[t]}),e)},"Government and compliance IDs updated.","Save government and compliance ID changes?")}},tt=async()=>{if(eK?.id&&X){let e;await e2({payrollGroup:String(eL.payrollGroup||"").trim(),payrollInformation:(e={...M(eK.payrollInformation)},j.forEach(({key:t})=>{let a=String(eL?.[t]||"").trim();a?e[t]=a:delete e[t]}),e)},"Payroll information updated.","Save payroll information changes?")}},ta=X&&eO?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 p-4",role:"dialog","aria-modal":"true","aria-label":"Add Employee",onClick:()=>eT(!1),children:(0,t.jsxs)("div",{className:"max-h-[90vh] w-full max-w-5xl overflow-y-auto rounded-2xl border border-slate-200 bg-white p-5 shadow-2xl sm:p-6",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"mb-4 flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:"Add Employee"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Provision employee master data with employment, contact, and restricted PII references"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>eT(!1),className:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 hover:text-slate-900","aria-label":"Close add employee modal",children:(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-4 w-4","aria-hidden":"true",children:(0,t.jsx)("path",{d:"m6 6 12 12M18 6 6 18"})})})]}),(0,t.jsxs)("form",{className:"grid gap-3 md:grid-cols-3",onSubmit:e0,children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employee Number"}),(0,t.jsx)("input",{required:!0,value:eg.employeeId,onChange:eZ("employeeId"),placeholder:"Employee number",className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Last Name"}),(0,t.jsx)("input",{required:!0,value:eg.lastName,onChange:eZ("lastName"),placeholder:"Last name",className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"First Name"}),(0,t.jsx)("input",{required:!0,value:eg.firstName,onChange:eZ("firstName"),placeholder:"First name",className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Middle Name"}),(0,t.jsx)("input",{value:eg.middleName,onChange:eZ("middleName"),placeholder:"Middle name",className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Suffix"}),(0,t.jsx)("input",{value:eg.suffix,onChange:eZ("suffix"),placeholder:"Suffix (optional)",className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Account Email (Google Sign-In)"}),(0,t.jsx)("input",{required:!0,type:"email",value:eg.email,onChange:eZ("email"),placeholder:"employee@gmail.com",className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Assigned Role"}),(0,t.jsxs)("select",{required:!0,value:eg.role,onChange:eZ("role"),className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,t.jsx)("option",{value:"",children:"Select role"}),eW.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Assigned Department"}),(0,t.jsxs)("select",{required:!0,value:eg.department,onChange:eZ("department"),className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,t.jsx)("option",{value:"",children:"Select department"}),eH.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},`create-department-${e.value}`))]})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Work Setup"}),(0,t.jsx)("select",{value:eg.workSetup,onChange:eZ("workSetup"),className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:b.map(e=>(0,t.jsx)("option",{value:e,children:e},`create-work-${e}`))})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employment Start Date"}),(0,t.jsx)("input",{type:"date",required:!0,value:eg.hireDate,onChange:eZ("hireDate"),className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Generated Employee Display Name"}),(0,t.jsx)("input",{value:(0,m.formatEmployeeName)({lastName:eg.lastName,firstName:eg.firstName,middleName:eg.middleName,suffix:eg.suffix,fallback:eg.email,fallbackEmail:eg.email,fallbackLabel:"Employee"}),readOnly:!0,"aria-readonly":"true",className:"h-10 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 text-sm font-medium text-slate-700"})]}),(0,t.jsxs)("div",{className:"md:col-span-3 flex flex-wrap items-center justify-between gap-3",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Data classification: Restricted PII"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>eT(!1),className:"inline-flex h-10 items-center justify-center rounded-lg border border-slate-300 bg-white px-4 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:eF,className:"inline-flex h-10 items-center justify-center rounded-lg bg-sky-600 px-4 text-sm font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:eF?"Saving...":"Create Employee"})]})]})]})]})}):null;return(0,t.jsxs)("div",{className:"space-y-3",children:[eU?(0,t.jsx)("div",{id:"employee-details",ref:eB,className:"min-w-0",children:(0,t.jsx)("div",{className:"space-y-2 xl:max-h-[calc(100dvh-9.5rem)] xl:overflow-y-auto xl:pr-1",children:eK?(0,t.jsxs)(t.Fragment,{children:[H?null:(0,t.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsx)(i.default,{tabs:ez,value:K,onChange:Q,className:"min-w-0 flex-1"}),(0,t.jsxs)("button",{type:"button",onClick:()=>e_(!1),className:"inline-flex h-8 items-center gap-1.5 rounded-lg border border-slate-300 bg-white px-3 text-xs font-medium text-slate-700 transition hover:bg-slate-50",children:[(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-3.5 w-3.5","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M15.5 18 9.5 12l6-6"})}),"Back"]})]}),"profile"===K?(0,t.jsx)(l.default,{title:H?"My Profile":"Employee Profile",subtitle:H?"View your employment snapshot and update personal contact details.":"Full employee information in one consolidated view",className:"p-3 sm:p-4 [&>header]:mb-2 [&>header>div>h2]:text-sm [&>header>div>p]:text-xs",children:eK?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:T((0,m.formatEmployeeName)({lastName:eK.lastName,firstName:eK.firstName,middleName:eK.middleName,suffix:eK.suffix,fallback:eK.name,fallbackEmail:eK.email,fallbackLabel:"Employee"}))}),(0,t.jsxs)("p",{className:"text-[11px] text-slate-600",children:[T(eK.employeeId)," | ",T(eK.email)]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)(o.default,{value:eK.status||"-"}),(0,t.jsx)("span",{className:"rounded-lg border border-slate-300 bg-white px-2 py-1 text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-600",children:"Restricted PII"})]})]})}),(0,t.jsx)("div",{className:"rounded-xl border border-slate-200 bg-white p-3",children:X?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employee Number"}),(0,t.jsx)("input",{value:ej.employeeId,onChange:e=>ev(t=>({...t,employeeId:e.target.value})),placeholder:"Employee number",disabled:!X,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Last Name"}),(0,t.jsx)("input",{value:ej.lastName,onChange:e=>ev(t=>({...t,lastName:e.target.value})),placeholder:"Last name",disabled:!X,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"First Name"}),(0,t.jsx)("input",{value:ej.firstName,onChange:e=>ev(t=>({...t,firstName:e.target.value})),placeholder:"First name",disabled:!X,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Middle Name"}),(0,t.jsx)("input",{value:ej.middleName,onChange:e=>ev(t=>({...t,middleName:e.target.value})),placeholder:"Middle name",disabled:!X,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Suffix"}),(0,t.jsx)("input",{value:ej.suffix,onChange:e=>ev(t=>({...t,suffix:e.target.value})),placeholder:"Suffix (e.g. Jr.)",disabled:!X,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Account Email"}),(0,t.jsx)("input",{value:ej.email,onChange:e=>ev(t=>({...t,email:e.target.value})),placeholder:"Account email (Google Sign-In)",disabled:!X,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Assigned Role"}),(0,t.jsxs)("select",{value:ew.role,onChange:e=>eS(t=>({...t,role:e.target.value})),disabled:!X,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100",children:[(0,t.jsx)("option",{value:"",children:"Assigned role"}),eQ.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},`profile-role-${e.value}`))]})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Department"}),(0,t.jsxs)("select",{value:ej.department,onChange:e=>ev(t=>({...t,department:e.target.value})),disabled:!X,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100",children:[(0,t.jsx)("option",{value:"",children:"Department"}),eH.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},`profile-department-${e.value}`))]})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Work Setup"}),(0,t.jsx)("select",{value:ew.workSetup,onChange:e=>eS(t=>({...t,workSetup:e.target.value})),disabled:!X,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100",children:b.map(e=>(0,t.jsx)("option",{value:e,children:e},`profile-work-${e}`))})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employment Start Date"}),(0,t.jsx)("input",{type:"date",value:ej.hireDate,onChange:e=>ev(t=>({...t,hireDate:e.target.value})),disabled:!X,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"})]})]}),(0,t.jsxs)("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Contact Details (Optional)"}),(0,t.jsxs)("div",{className:"mt-2 grid gap-2 sm:grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Contact Number"}),(0,t.jsx)("input",{value:ek.contact,placeholder:"Contact number",className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:e=>eE(t=>({...t,contact:e.target.value}))})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Address"}),(0,t.jsx)("input",{value:ek.address,placeholder:"Address",className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:e=>eE(t=>({...t,address:e.target.value}))})]}),(0,t.jsxs)("label",{className:"space-y-1 sm:col-span-2",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Emergency Contact"}),(0,t.jsx)("input",{value:ek.emergencyContact,placeholder:"Emergency contact",className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:e=>eE(t=>({...t,emergencyContact:e.target.value}))})]})]})]}),(0,t.jsxs)("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"You can update full profile info in one action."}),(0,t.jsx)("button",{type:"button",onClick:e6,disabled:eF,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save Full Profile"})]})]}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"space-y-2 sm:hidden",children:[["Employee Number",T(ej.employeeId)],["Last Name",T(ej.lastName)],["First Name",T(ej.firstName)],["Middle Name",T(ej.middleName)],["Suffix",T(ej.suffix)],["Account Email",T(ej.email)],["Assigned Role",G(eK.role||ew.role||"EMPLOYEE_L1")],["Assigned Department",T(ej.department)],["Work Setup",T(ew.workSetup)],["Employment Start Date",T(ej.hireDate)]].map(([e,a])=>(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:e}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-800",children:a})]},e))}),(0,t.jsx)("div",{className:"hidden overflow-x-auto rounded-lg border border-slate-200 sm:block",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500",children:[(0,t.jsx)("th",{className:"w-[38%] px-3 py-2 font-medium",children:"Profile Field"}),(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Value"})]})}),(0,t.jsx)("tbody",{children:[["Employee Number",T(ej.employeeId)],["Last Name",T(ej.lastName)],["First Name",T(ej.firstName)],["Middle Name",T(ej.middleName)],["Suffix",T(ej.suffix)],["Account Email",T(ej.email)],["Assigned Role",G(eK.role||ew.role||"EMPLOYEE_L1")],["Assigned Department",T(ej.department)],["Work Setup",T(ew.workSetup)],["Employment Start Date",T(ej.hireDate)]].map(([e,a])=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,t.jsx)("td",{className:"px-3 py-2 text-xs font-semibold uppercase tracking-[0.06em] text-slate-500",children:e}),(0,t.jsx)("td",{className:"px-3 py-2 text-slate-800",children:a})]},e))})]})}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Editable Contact Details"}),(0,t.jsxs)("div",{className:"mt-2 grid gap-2 sm:grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-medium text-slate-600",children:"Contact Number"}),(0,t.jsx)("input",{value:U(ek.contact),placeholder:"Enter contact number",className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:e=>eE(t=>({...t,contact:e.target.value}))})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-medium text-slate-600",children:"Address"}),(0,t.jsx)("input",{value:U(ek.address),placeholder:"Enter address",className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:e=>eE(t=>({...t,address:e.target.value}))})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"All employment details are shown above. You can update contact details here."}),(0,t.jsx)("button",{type:"button",onClick:e6,disabled:eF,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save My Profile"})]})]})})]}):(0,t.jsx)(r.default,{title:"No employee selected",subtitle:"Select a record from the directory to manage employee profile data."})}):null,H||"compliance"!==K?null:(0,t.jsx)(l.default,{title:"Government & Compliance IDs",subtitle:"Restricted PII identifiers with controlled update workflow",children:eK?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[$("Data Classification",eK.classification||"Restricted PII"),N.map(e=>$(e.label,eC[e.key],e.key))]}),X?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid gap-2 md:grid-cols-3",children:N.map(e=>(0,t.jsx)("input",{value:eC[e.key],onChange:t=>eI(a=>({...a,[e.key]:t.target.value})),placeholder:e.label,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"},e.key))}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Government identifiers remain classified as Restricted PII."}),(0,t.jsx)("button",{type:"button",onClick:te,disabled:eF,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save Compliance IDs"})]})]}):(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Sensitive identifiers are role-masked. Contact GRC/HR for compliance updates."})]}):(0,t.jsx)(r.default,{title:"No employee selected",subtitle:"Select a profile to review compliance identifiers."})}),H||"payroll"!==K?null:(0,t.jsx)(l.default,{title:"Payroll Information",subtitle:"Payroll grouping and compensation profile under restricted access",children:eK?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[$("Payroll Group",eL.payrollGroup),j.map(e=>$(e.label,eL[e.key],e.key)),$("Updated At",A(eK.updatedAt))]}),X?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid gap-2 md:grid-cols-3",children:[(0,t.jsx)("input",{value:eL.payrollGroup,onChange:e=>eA(t=>({...t,payrollGroup:e.target.value})),placeholder:"Payroll group",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),j.map(e=>(0,t.jsx)("input",{value:eL[e.key],onChange:t=>eA(a=>({...a,[e.key]:t.target.value})),placeholder:e.placeholder,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"},e.key))]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Payroll information is Restricted PII."}),(0,t.jsx)("button",{type:"button",onClick:tt,disabled:eF,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save Payroll Information"})]})]}):(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Payroll values are restricted by role-based masking policy."})]}):(0,t.jsx)(r.default,{title:"No employee selected",subtitle:"Select a profile to view payroll information."})}),"documents"===K?(0,t.jsx)(l.default,{title:H?"Documents":"Employee Attached Documents",subtitle:H?"Files linked to your employee profile.":"All documents currently attached to this employee record",children:eK?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2 rounded-lg border border-slate-200 bg-slate-50 p-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Attached Files"}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-slate-600",children:[R(eK.documents).length," document(s) linked to this employee."]})]}),X?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>e$.current?.click(),disabled:eF,className:"inline-flex h-8 items-center rounded-lg border border-slate-300 bg-white px-3 text-[11px] font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-70",children:"Upload File"}),(0,t.jsx)("input",{ref:e$,type:"file",className:"hidden",onChange:e9})]}):null]}),0===R(eK.documents).length?(0,t.jsx)(r.default,{title:H?"No files yet":"No attached documents yet",subtitle:H?"HR or onboarding uploads will appear here once attached.":"Upload employee files to build this document list."}):(0,t.jsx)("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Document"}),(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Type"}),(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Size"}),(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Uploaded At"}),(0,t.jsx)("th",{className:"px-3 py-2 font-medium text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:R(eK.documents).map((e,a)=>{let s;return(0,t.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,t.jsx)("td",{className:"px-3 py-2 text-slate-800",children:T(e.name)}),(0,t.jsx)("td",{className:"px-3 py-2 text-slate-700",children:T(e.type)}),(0,t.jsx)("td",{className:"px-3 py-2 text-slate-700",children:!Number.isFinite(s=Number(e.sizeBytes))||s<=0?"-":s<1024?`${s} B`:s<1048576?`${(s/1024).toFixed(1)} KB`:`${(s/1048576).toFixed(1)} MB`}),(0,t.jsx)("td",{className:"px-3 py-2 text-slate-700",children:A(e.uploadedAt)}),(0,t.jsx)("td",{className:"px-3 py-2 text-right",children:(0,t.jsxs)("div",{className:"inline-flex items-center justify-end gap-2",children:[String(e.ref||"").trim()?(0,t.jsx)("button",{type:"button",onClick:()=>e8(e,a),className:"inline-flex h-7 items-center rounded-md border border-sky-200 bg-sky-50 px-2.5 text-[11px] font-semibold text-sky-700 transition hover:bg-sky-100",children:"Open"}):null,X?(0,t.jsx)("button",{type:"button",onClick:()=>e4(a),disabled:eF,className:"inline-flex h-7 items-center rounded-md border border-rose-200 bg-rose-50 px-2.5 text-[11px] font-semibold text-rose-700 transition hover:bg-rose-100 disabled:opacity-70",children:"Remove"}):null]})})]},`${e.name||"document"}-${a}`)})})]})})]}):(0,t.jsx)(r.default,{title:"No employee selected",subtitle:"Select a record to view attached employee documents."})}):null,H||"activity"!==K?null:(0,t.jsx)(l.default,{title:"Recent Activity",subtitle:"Latest change history for the selected employee record",children:eK?0===R(eK.activityHistory).length?(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"No change history yet."}):(0,t.jsx)("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Action"}),(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Performed By"}),(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Timestamp"})]})}),(0,t.jsx)("tbody",{children:R(eK.activityHistory).slice(-20).reverse().map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,t.jsx)("td",{className:"px-3 py-2 text-slate-800",children:G(e.action||"update")}),(0,t.jsx)("td",{className:"px-3 py-2 text-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.default,{src:String(e.byAvatar||"").trim()||"/avatars/default-user.svg",alt:`${_(e.byName,e.byEmail||e.by)} profile`,width:28,height:28,className:"h-7 w-7 rounded-full border border-slate-200 bg-white object-cover"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"truncate text-xs font-medium text-slate-800",children:_(e.byName,e.byEmail||e.by)}),F(e.byEmail,e.by)?(0,t.jsx)("p",{className:"truncate text-[11px] text-slate-500",children:F(e.byEmail,e.by)}):null]})]})}),(0,t.jsx)("td",{className:"px-3 py-2 text-slate-700",children:A(e.at)})]},`${e.at||"activity"}-${s}`))})]})}):(0,t.jsx)(r.default,{title:"No employee selected",subtitle:"Open an employee record to review recent activity."})})]}):(0,t.jsx)(r.default,{title:"No employee selected",subtitle:"Open an employee from the directory to view profile, compliance, and payroll details."})})}):(0,t.jsx)("div",{id:"employee-directory",className:"min-w-0",children:(0,t.jsx)(l.default,{title:H?"My Employee Record":"Employee Directory",subtitle:H?"Provide and maintain your personal employee profile details.":"Centralized employee master data with search, filters, and profile routing",className:"p-3 sm:p-4 [&>header]:mb-2 [&>header>div>h2]:text-sm [&>header>div>p]:text-xs",action:H?(0,t.jsx)("span",{className:"inline-flex h-9 items-center rounded-lg border border-sky-200 bg-sky-50 px-3 text-xs font-medium text-sky-700",children:"Own profile access only"}):(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("input",{value:es,onChange:e=>{eu(1),el(e.target.value)},placeholder:"Search by name, ID, email",className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none"}),(0,t.jsxs)("select",{value:en,onChange:e=>{eu(1),eo(e.target.value)},className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none",children:[(0,t.jsx)("option",{value:"",children:"All Status"}),h.map(e=>(0,t.jsx)("option",{value:e.toLowerCase(),children:e},e.toLowerCase()))]}),(0,t.jsxs)("select",{value:ed,onChange:e=>{eu(1),ec(e.target.value)},className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none",children:[(0,t.jsx)("option",{value:"",children:"All Roles"}),eW.map(e=>(0,t.jsx)("option",{value:e.value.toLowerCase(),children:e.label},e.value))]}),X?(0,t.jsx)("button",{type:"button",onClick:()=>eT(!0),className:"h-9 rounded-lg border border-sky-200 bg-sky-50 px-3 text-xs font-semibold text-sky-700 transition hover:bg-sky-100",children:"Add Employee"}):null]}),children:ep?(0,t.jsxs)("div",{className:"flex min-h-[160px] items-center justify-center",children:[(0,t.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 bg-white",children:(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 animate-spin text-sky-600",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M12 3a9 9 0 1 0 9 9"})})}),(0,t.jsx)("span",{className:"sr-only",children:"Loading employee directory..."})]}):0===Z.length?H?(0,t.jsxs)("div",{className:"mx-auto w-full max-w-4xl rounded-2xl border border-sky-100 bg-gradient-to-b from-sky-50/80 to-white p-5",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-base font-semibold text-slate-900",children:"Complete My Employee Record"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:"This form is for your own employee profile only. Fill in your details to continue."})]}),(0,t.jsxs)("form",{onSubmit:e3,className:"grid gap-3 md:grid-cols-2",children:[(0,t.jsx)("input",{value:eR.lastName,onChange:e1("lastName"),placeholder:"Last name",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eR.firstName,onChange:e1("firstName"),placeholder:"First name",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eR.middleName,onChange:e1("middleName"),placeholder:"Middle name",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eR.suffix,onChange:e1("suffix"),placeholder:"Suffix (optional)",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:W,disabled:!0,className:"h-10 rounded-lg border border-slate-300 bg-slate-100 px-3 text-sm text-slate-700 md:col-span-2"}),(0,t.jsx)("input",{value:eR.contact,onChange:e1("contact"),placeholder:"Contact number",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eR.address,onChange:e1("address"),placeholder:"Address",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eR.emergencyContact,onChange:e1("emergencyContact"),placeholder:"Emergency contact",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none md:col-span-2"}),(0,t.jsx)("div",{className:"md:col-span-2 mt-1 flex justify-end",children:(0,t.jsx)("button",{type:"submit",disabled:eF,className:"inline-flex h-10 items-center rounded-lg bg-sky-600 px-4 text-sm font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:eF?"Saving...":"Submit My Record"})})]})]}):(0,t.jsx)(r.default,{title:"No employee records yet",subtitle:"Add a record to initialize the employee directory."}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee ID"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Name"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Email"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Department"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Role"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employment"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:Z.map(e=>(0,t.jsxs)("tr",{className:`border-b border-slate-100 text-slate-700 last:border-b-0 ${e.id===ef?"bg-sky-50/50":""}`,children:[(0,t.jsx)("td",{className:"px-2 py-3 font-mono text-xs",children:e.employeeId||"-"}),(0,t.jsx)("td",{className:"px-2 py-3 font-medium text-slate-900",children:e.name||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.email||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:T(e.department)}),(0,t.jsx)("td",{className:"px-2 py-3",children:G(e.role)}),(0,t.jsx)("td",{className:"px-2 py-3",children:(0,t.jsx)(o.default,{value:e.status||"-"})}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.employmentStatus||"-"}),(0,t.jsx)("td",{className:"px-2 py-3 text-right",children:(0,t.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>eX(e),className:"rounded-lg border border-slate-300 bg-white px-2.5 py-1.5 text-xs font-medium text-slate-700 transition hover:bg-slate-50",children:"Open"}),X?(0,t.jsx)("button",{type:"button",onClick:()=>e5(e.id),disabled:eF,className:"rounded-lg border border-rose-200 bg-rose-50 px-2.5 py-1.5 text-xs font-medium text-rose-700 transition hover:bg-rose-100 disabled:opacity-60",children:"Archive"}):null]})})]},e.id))})]})}),(0,t.jsx)(n.default,{pagination:et,onPageChange:eu})]})})}),ta]})}e.s(["default",()=>Y])}]);