(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38418,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(80064);function r(e){let r,i,l,n=(0,s.c)(10),{title:o,subtitle:c,className:d,children:m,action:x}=e;return n[0]!==d?(r=(0,a.cn)("rounded-2xl border border-slate-200 bg-white p-5 shadow-[0_12px_30px_-24px_rgba(15,23,42,0.55)]",d),n[0]=d,n[1]=r):r=n[1],n[2]!==x||n[3]!==c||n[4]!==o?(i=(o||c||x)&&(0,t.jsxs)("header",{className:"mb-4 flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[o&&(0,t.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:o}),c&&(0,t.jsx)("p",{className:"text-sm text-slate-600",children:c})]}),x]}),n[2]=x,n[3]=c,n[4]=o,n[5]=i):i=n[5],n[6]!==m||n[7]!==r||n[8]!==i?(l=(0,t.jsxs)("section",{className:r,children:[i,m]}),n[6]=m,n[7]=r,n[8]=i,n[9]=l):l=n[9],l}e.s(["default",()=>r])},97256,e=>{"use strict";function t(e={}){let s=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{if(null==t)return;let a=String(t).trim();a&&s.set(e,a)});let a=s.toString();return a?`?${a}`:""}async function s(e){if((e.headers.get("content-type")||"").includes("text/csv"))return await e.text();let t=await e.json().catch(()=>({}));if(!e.ok)throw Error(t?.message||"Request failed.");return t}async function a(e,t={}){let r=await fetch(e,{...t,headers:{"Content-Type":"application/json",...t.headers||{}},cache:"no-store"});return await s(r)}async function r(e,t={}){let s=await fetch(e,{...t,cache:"no-store"});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e?.message||"Export failed.")}return await s.text()}e.s(["hrisApi",0,{employees:{list:async(e={})=>await a(`/api/hris/employees${t(e)}`,{method:"GET"}),get:async e=>await a(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await a("/api/hris/employees",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await a(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),archive:async e=>await a(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify({status:"Archived"})}),logDocumentAccess:async(e,t)=>await a(`/api/hris/employees/${encodeURIComponent(e)}/documents/access`,{method:"POST",body:JSON.stringify(t||{})})},lifecycle:{list:async(e={})=>await a(`/api/hris/lifecycle${t(e)}`,{method:"GET"}),get:async e=>await a(`/api/hris/lifecycle/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await a("/api/hris/lifecycle",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await a(`/api/hris/lifecycle/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),offboard:async(e,t={})=>await a(`/api/hris/lifecycle/${encodeURIComponent(e)}/offboard`,{method:"POST",body:JSON.stringify(t)}),approve:async(e,t={})=>await a(`/api/hris/lifecycle/${encodeURIComponent(e)}/approve`,{method:"POST",body:JSON.stringify(t)})},attendance:{list:async(e={})=>await a(`/api/hris/attendance${t(e)}`,{method:"GET"}),create:async e=>await a("/api/hris/attendance",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await a(`/api/hris/attendance/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},leave:{list:async(e={})=>await a(`/api/hris/attendance/leave-requests${t(e)}`,{method:"GET"}),create:async e=>await a("/api/hris/attendance/leave-requests",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await a(`/api/hris/attendance/leave-requests/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),approve:async(e,{approved:t,approvalNote:s})=>await a(`/api/hris/attendance/leave-requests/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify({status:t?"Approved":"Rejected",approvalNote:s||""})})},performance:{list:async(e={})=>await a(`/api/hris/performance${t(e)}`,{method:"GET"}),create:async e=>await a("/api/hris/performance",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await a(`/api/hris/performance/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},templates:{list:async(e={})=>await a(`/api/hris/templates${t(e)}`,{method:"GET"}),create:async e=>await a("/api/hris/templates",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await a(`/api/hris/templates/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),archive:async e=>await a(`/api/hris/templates/${encodeURIComponent(e)}`,{method:"DELETE"})},activityLogs:{list:async(e={})=>await a(`/api/hris/activity-logs${t(e)}`,{method:"GET"}),async exportCsv(e={}){let s=t({...e,export:"csv"});return await r(`/api/hris/activity-logs${s}`,{method:"GET"})}},exports:{list:async(e={})=>await a(`/api/hris/exports${t(e)}`,{method:"GET"}),create:async e=>await a("/api/hris/exports",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await a(`/api/hris/exports/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),approve:async(e,t)=>await a(`/api/hris/exports/${encodeURIComponent(e)}/approve`,{method:"POST",body:JSON.stringify(t)}),execute:async e=>await r(`/api/hris/exports/${encodeURIComponent(e)}/execute`,{method:"POST"})},retention:{list:async(e={})=>await a(`/api/hris/retention${t(e)}`,{method:"GET"}),purge:async(e={})=>await a("/api/hris/retention",{method:"POST",body:JSON.stringify(e)})},incidents:{list:async(e={})=>await a(`/api/hris/incidents${t(e)}`,{method:"GET"}),get:async e=>await a(`/api/hris/incidents/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await a("/api/hris/incidents",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await a(`/api/hris/incidents/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},settings:{referenceData:{list:async()=>await a("/api/hris/settings/reference-data",{method:"GET"}),create:async e=>await a("/api/hris/settings/reference-data",{method:"POST",body:JSON.stringify(e)}),remove:async e=>await a("/api/hris/settings/reference-data",{method:"DELETE",body:JSON.stringify(e)})}}}])},46670,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(80064);function r(e){let r,i,l,n=(0,s.c)(12),{tabs:o,value:c,onChange:d,className:m}=e;if(n[0]!==m?(r=(0,a.cn)("flex gap-2 overflow-x-auto pb-1 sm:flex-wrap sm:overflow-visible",m),n[0]=m,n[1]=r):r=n[1],n[2]!==d||n[3]!==o||n[4]!==c){let e;n[6]!==d||n[7]!==c?(e=e=>{let s=e.id===c;return(0,t.jsx)("button",{type:"button",onClick:()=>d(e.id),className:(0,a.cn)("whitespace-nowrap rounded-lg border px-3 py-1.5 text-xs font-medium transition",s?"border-sky-300 bg-sky-50 text-sky-700":"border-slate-300 bg-white text-slate-700 hover:bg-slate-50"),children:e.label},e.id)},n[6]=d,n[7]=c,n[8]=e):e=n[8],i=o.map(e),n[2]=d,n[3]=o,n[4]=c,n[5]=i}else i=n[5];return n[9]!==r||n[10]!==i?(l=(0,t.jsx)("div",{className:r,children:i}),n[9]=r,n[10]=i,n[11]=l):l=n[11],l}e.s(["default",()=>r])},94106,e=>{"use strict";var t=e.i(43476),s=e.i(932);function a(e){let a,r,i,l,n,o,c,d,m,x,p=(0,s.c)(28),{pagination:h,onPageChange:u}=e;if(!h)return null;let{page:y,totalPages:g,total:b}=h,f=void 0===y?1:y,N=void 0===g?1:g,v=void 0===b?0:b;p[0]!==f?(a=(0,t.jsx)("span",{className:"font-semibold text-slate-800",children:f}),p[0]=f,p[1]=a):a=p[1],p[2]!==N?(r=(0,t.jsx)("span",{className:"font-semibold text-slate-800",children:N}),p[2]=N,p[3]=r):r=p[3],p[4]!==v?(i=(0,t.jsx)("span",{className:"font-semibold text-slate-800",children:v}),p[4]=v,p[5]=i):i=p[5],p[6]!==a||p[7]!==r||p[8]!==i?(l=(0,t.jsxs)("p",{className:"text-xs text-slate-600",children:["Page ",a," of"," ",r," | Total"," ",i," records"]}),p[6]=a,p[7]=r,p[8]=i,p[9]=l):l=p[9],p[10]!==u||p[11]!==f?(n=()=>u(f-1),p[10]=u,p[11]=f,p[12]=n):n=p[12];let j=f<=1;p[13]!==n||p[14]!==j?(o=(0,t.jsx)("button",{type:"button",onClick:n,disabled:j,className:"rounded-lg border border-slate-300 bg-white px-3 py-1.5 text-xs font-medium text-slate-700 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:"Previous"}),p[13]=n,p[14]=j,p[15]=o):o=p[15],p[16]!==u||p[17]!==f?(c=()=>u(f+1),p[16]=u,p[17]=f,p[18]=c):c=p[18];let w=f>=N;return p[19]!==c||p[20]!==w?(d=(0,t.jsx)("button",{type:"button",onClick:c,disabled:w,className:"rounded-lg border border-slate-300 bg-white px-3 py-1.5 text-xs font-medium text-slate-700 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:"Next"}),p[19]=c,p[20]=w,p[21]=d):d=p[21],p[22]!==o||p[23]!==d?(m=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[o,d]}),p[22]=o,p[23]=d,p[24]=m):m=p[24],p[25]!==m||p[26]!==l?(x=(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 border-t border-slate-200 pt-3",children:[l,m]}),p[25]=m,p[26]=l,p[27]=x):x=p[27],x}e.s(["default",()=>a])},71635,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(932),r=e.i(57688),i=e.i(13634),l=e.i(80064);let n={Completed:"bg-sky-100 text-sky-700",Approved:"bg-emerald-100 text-emerald-700",Pending:"bg-amber-100 text-amber-700",Failed:"bg-rose-100 text-rose-700",Rejected:"bg-rose-100 text-rose-700"},o={Completed:"bg-sky-500",Approved:"bg-emerald-500",Pending:"bg-amber-500",Failed:"bg-rose-500",Rejected:"bg-rose-500"};function c(e){var t;let s,a="string"==typeof e?.performedByName?e.performedByName.trim():"";return a?a:(s="string"==typeof(t=e?.performedBy)?t.trim():"")?s.includes("@")?(0,i.formatNameFromEmail)(s,{fallbackLabel:"Unknown User",maxTokens:2}):s:"Unknown User"}function d(e){return Array.isArray(e)?e.map(e=>String(e||"").trim()).filter(Boolean):[]}function m(e){let s,r,i,n=(0,a.c)(5),{expanded:o}=e,c=o?"rotate-90":"rotate-0";return n[0]!==c?(s=(0,l.cn)("h-3.5 w-3.5 text-slate-500 transition-transform duration-300 ease-out",c),n[0]=c,n[1]=s):s=n[1],n[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("path",{d:"M7 4.5 13 10l-6 5.5"}),n[2]=r):r=n[2],n[3]!==s?(i=(0,t.jsx)("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"2",className:s,"aria-hidden":"true",children:r}),n[3]=s,n[4]=i):i=n[4],i}function x(e){let i,x,b,f,N,v,j,w,S,C,T,A,k,O,_,R,P=(0,a.c)(70),{rows:$}=e,[E,U]=(0,s.useState)(null),[J,I]=(0,s.useState)("All"),[L,B]=(0,s.useState)("All"),[D,G]=(0,s.useState)(""),[q,H]=(0,s.useState)("");P[0]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{U(t=>t===e?null:e)},P[0]=i):i=P[0];let F=i;P[1]!==$?(x=new Set($.map(g)),P[1]=$,P[2]=x):x=P[2],P[3]!==x?(b=["All",...x],P[3]=x,P[4]=b):b=P[4];let M=b;P[5]===Symbol.for("react.memo_cache_sentinel")?(f=["All","Sensitive","Non-sensitive"],P[5]=f):f=P[5];let W=f,z=y;if(P[6]!==E||P[7]!==D||P[8]!==$||P[9]!==L||P[10]!==J||P[11]!==q||P[12]!==M){let e,s,a,i,x,y,g,b,f,A,k,O,_,R,U;P[20]!==D||P[21]!==L||P[22]!==J||P[23]!==q?(e=e=>{if("All"!==J&&e.module!==J||"All"!==L&&e.sensitivity!==L)return!1;let t=z(e.occurredAt||e.loggedAt),s=z(D),a=z(q);return(!s||!t||!(t<s))&&(!a||!t||!(t>a))},P[20]=D,P[21]=L,P[22]=J,P[23]=q,P[24]=e):e=P[24],N=$.filter(e),P[25]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{I("All"),B("All"),G(""),H("")},P[25]=s):s=P[25];let K=s;T="overflow-hidden rounded-xl border border-slate-300 bg-white",P[26]===Symbol.for("react.memo_cache_sentinel")?(a=e=>I(e.target.value),P[26]=a):a=P[26],P[27]!==M?(i=M.map(u),P[27]=M,P[28]=i):i=P[28],P[29]!==J||P[30]!==i?(x=(0,t.jsxs)("label",{className:"grid gap-1 text-xs font-medium text-slate-600",children:["Filter Type",(0,t.jsx)("select",{value:J,onChange:a,className:"h-9 min-w-[12rem] rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-800 focus:border-sky-400 focus:outline-none",children:i})]}),P[29]=J,P[30]=i,P[31]=x):x=P[31],P[32]===Symbol.for("react.memo_cache_sentinel")?(y=e=>B(e.target.value),P[32]=y):y=P[32],P[33]===Symbol.for("react.memo_cache_sentinel")?(g=W.map(h),P[33]=g):g=P[33],P[34]!==L?(b=(0,t.jsxs)("label",{className:"grid gap-1 text-xs font-medium text-slate-600",children:["Action Class",(0,t.jsx)("select",{value:L,onChange:y,className:"h-9 min-w-[10rem] rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-800 focus:border-sky-400 focus:outline-none",children:g})]}),P[34]=L,P[35]=b):b=P[35],P[36]===Symbol.for("react.memo_cache_sentinel")?(f=e=>G(e.target.value),P[36]=f):f=P[36],P[37]!==D?(A=(0,t.jsxs)("label",{className:"grid gap-1 text-xs font-medium text-slate-600",children:["Date & Time (From)",(0,t.jsx)("input",{type:"datetime-local",value:D,onChange:f,className:"h-9 min-w-[14rem] rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-800 focus:border-sky-400 focus:outline-none"})]}),P[37]=D,P[38]=A):A=P[38],P[39]===Symbol.for("react.memo_cache_sentinel")?(k=e=>H(e.target.value),P[39]=k):k=P[39],P[40]!==q?(O=(0,t.jsxs)("label",{className:"grid gap-1 text-xs font-medium text-slate-600",children:["Date & Time (To)",(0,t.jsx)("input",{type:"datetime-local",value:q,onChange:k,className:"h-9 min-w-[14rem] rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-800 focus:border-sky-400 focus:outline-none"})]}),P[40]=q,P[41]=O):O=P[41],P[42]===Symbol.for("react.memo_cache_sentinel")?(_=(0,t.jsx)("button",{type:"button",onClick:K,className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-sm font-medium text-slate-700 transition hover:bg-slate-100",children:"Reset"}),P[42]=_):_=P[42],P[43]!==$.length?(R=(0,t.jsx)("span",{className:"font-semibold text-slate-700",children:$.length}),P[43]=$.length,P[44]=R):R=P[44];let V=(0,t.jsxs)("p",{className:"ml-auto text-xs text-slate-500",children:["Showing ",(0,t.jsx)("span",{className:"font-semibold text-slate-700",children:N.length})," of"," ",R," activities"]});P[45]!==x||P[46]!==b||P[47]!==A||P[48]!==O||P[49]!==V?(v=(0,t.jsx)("div",{className:"border-b border-slate-200 bg-slate-50/80 px-3 py-3",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-end gap-3",children:[x,b,A,O,_,V]})}),P[45]=x,P[46]=b,P[47]=A,P[48]=O,P[49]=V,P[50]=v):v=P[50],C="overflow-x-auto",w="min-w-[980px] w-full text-left text-sm",P[51]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsx)("thead",{className:"bg-slate-100",children:(0,t.jsxs)("tr",{className:"border-b border-slate-300 text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-700",children:[(0,t.jsx)("th",{className:"w-[35%] px-3 py-2.5",children:"HRIS Activity"}),(0,t.jsx)("th",{className:"w-[10%] px-3 py-2.5",children:"Result"}),(0,t.jsx)("th",{className:"w-[10%] px-3 py-2.5",children:"When"}),(0,t.jsx)("th",{className:"w-[16%] px-3 py-2.5",children:"Logged At"}),(0,t.jsx)("th",{className:"w-[14%] px-3 py-2.5",children:"Module"}),(0,t.jsx)("th",{className:"w-[15%] px-3 py-2.5",children:"Performed By"})]})}),P[51]=S):S=P[51],P[52]!==E?(U=e=>{var s;let a,i="Failed"===e.status||"Rejected"===e.status,x=E===e.id,h=d(e.changedFields),u=d(e.viewedFields),y=Array.isArray(s=e.accessedDocuments)?s.map(e=>{if(!e||"object"!=typeof e)return null;let t=String(e.name||"").trim(),s=String(e.type||"").trim(),a=String(e.id||"").trim();return t||s||a?{name:t||"Employee Document",type:s||"General",id:a}:null}).filter(Boolean):[];return(0,t.jsx)("tr",{className:"border-b border-slate-200 bg-white text-[13px] text-slate-700",children:(0,t.jsx)("td",{colSpan:6,className:"p-0",children:(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"grid grid-cols-[35%_10%_10%_16%_14%_15%]",children:[(0,t.jsx)("div",{className:"px-3 py-2.5",children:(0,t.jsxs)("button",{type:"button",onClick:()=>F(e.id),className:"inline-flex items-center gap-2","aria-expanded":x,"aria-controls":`activity-details-${e.id}`,children:[(0,t.jsx)(m,{expanded:x}),(0,t.jsx)("span",{className:(0,l.cn)("inline-flex h-3 w-3 rounded-full",o[e.status]||(i?"bg-rose-500":"bg-sky-500")),"aria-hidden":"true"}),(0,t.jsx)("span",{className:"font-medium text-slate-800",children:e.activityName})]})}),(0,t.jsx)("div",{className:"px-3 py-2.5",children:(0,t.jsx)("span",{className:(0,l.cn)("inline-flex rounded-md px-2 py-1 text-xs font-semibold",n[e.status]||(i?"bg-rose-100 text-rose-700":"bg-sky-100 text-sky-700")),children:e.status})}),(0,t.jsx)("div",{className:"px-3 py-2.5 text-slate-600",children:e.relativeTime}),(0,t.jsx)("div",{className:"px-3 py-2.5 text-slate-600",children:e.loggedAt}),(0,t.jsx)("div",{className:"px-3 py-2.5",children:(0,t.jsx)("span",{className:"text-sky-700 hover:underline",children:e.module})}),(0,t.jsx)("div",{className:"px-3 py-2.5",children:(0,t.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,t.jsx)(r.default,{src:("string"==typeof e?.performedByAvatar?e.performedByAvatar.trim():"")||"/avatars/default-user.svg",alt:`${c(e)} profile picture`,width:32,height:32,className:"h-8 w-8 rounded-full border border-slate-300 bg-white"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"truncate text-xs font-semibold text-slate-800",children:c(e)}),(0,t.jsx)("p",{className:"truncate text-xs text-slate-500",children:(a="string"==typeof e?.performedByEmail?e.performedByEmail.trim():"")||("string"==typeof e?.performedBy?e.performedBy:"-")})]})]})})]}),(0,t.jsx)("div",{id:`activity-details-${e.id}`,className:(0,l.cn)("overflow-hidden transition-all duration-300 ease-out",x?"max-h-[56rem] opacity-100":"max-h-0 opacity-0"),children:(0,t.jsx)("div",{className:"border-t border-slate-200 bg-slate-50/80 px-3 py-3",children:(0,t.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2 xl:grid-cols-4",children:[(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Activity ID"}),(0,t.jsx)("p",{className:"mt-1 text-xs font-semibold text-slate-800",children:e.id})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Record Ref"}),(0,t.jsx)("p",{className:"mt-1 text-xs font-semibold text-slate-800",children:function(e){let t="string"==typeof e?.recordRef?e.recordRef.trim():"";if(t)return t;let s="string"==typeof e?.activityName?e.activityName:"";if(!s)return"N/A";let a=s.match(/\(([^)]+)\)/);if(a?.[1])return a[1];let r=s.match(/CL-\d+/);return r?.[0]||"N/A"}(e)})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Audit Note"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-700",children:e.auditNote||"No audit note."})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Next Action"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-700",children:e.nextAction||"No further action required."})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Action Class"}),(0,t.jsx)("p",{className:"mt-1 text-xs font-semibold text-slate-800",children:e.sensitivity||"Non-sensitive"})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Request Path"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-700",children:e.requestPath||"N/A"})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Request Method"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-700",children:e.requestMethod||"N/A"})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Source IP"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-700",children:e.sourceIp||"N/A"})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Browser"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-700",children:e.browser||"Unknown Browser"})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Operating System"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-700",children:e.operatingSystem||"Unknown OS"})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Device"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-700",children:e.deviceSummary||"Unknown device"})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Changed Fields"}),h.length>0?(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-700",children:h.join(", ")}):(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-400",children:"No field updates recorded."})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Viewed Fields"}),u.length>0?(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-700",children:u.join(", ")}):(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-400",children:"No field view details."})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 sm:col-span-2 xl:col-span-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Document Access"}),y.length>0?(0,t.jsx)("div",{className:"mt-1 space-y-1",children:y.slice(0,6).map(p)}):(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-400",children:"No document access details."})]})]})})})]})})},e.id)},P[52]=E,P[53]=U):U=P[53],j=N.map(U),P[6]=E,P[7]=D,P[8]=$,P[9]=L,P[10]=J,P[11]=q,P[12]=M,P[13]=N,P[14]=v,P[15]=j,P[16]=w,P[17]=S,P[18]=C,P[19]=T}else N=P[13],v=P[14],j=P[15],w=P[16],S=P[17],C=P[18],T=P[19];return P[54]!==N.length?(A=0===N.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-3 py-8 text-center text-sm text-slate-500",children:"No activity logs match the selected filters."})}):null,P[54]=N.length,P[55]=A):A=P[55],P[56]!==A||P[57]!==j?(k=(0,t.jsxs)("tbody",{children:[j,A]}),P[56]=A,P[57]=j,P[58]=k):k=P[58],P[59]!==k||P[60]!==w||P[61]!==S?(O=(0,t.jsxs)("table",{className:w,children:[S,k]}),P[59]=k,P[60]=w,P[61]=S,P[62]=O):O=P[62],P[63]!==O||P[64]!==C?(_=(0,t.jsx)("div",{className:C,children:O}),P[63]=O,P[64]=C,P[65]=_):_=P[65],P[66]!==v||P[67]!==_||P[68]!==T?(R=(0,t.jsxs)("section",{className:T,children:[v,_]}),P[66]=v,P[67]=_,P[68]=T,P[69]=R):R=P[69],R}function p(e,s){return(0,t.jsxs)("p",{className:"text-xs text-slate-700",children:[e.name,(0,t.jsxs)("span",{className:"text-slate-500",children:[" (",e.type,")"]}),e.id?(0,t.jsxs)("span",{className:"text-slate-400",children:[" #",e.id]}):null]},`${e.id||e.name}-${s}`)}function h(e){return(0,t.jsx)("option",{value:e,children:e},e)}function u(e){return(0,t.jsx)("option",{value:e,children:e},e)}function y(e){if("string"!=typeof e||0===e.trim().length)return null;let t=new Date(e);return Number.isNaN(t.getTime())?null:t.getTime()}function g(e){return e.module}var b=e.i(38418),f=e.i(46670),N=e.i(94106),v=e.i(97256);let j=[{id:"user_activity_logs",label:"User Activity Logs"},{id:"data_change_logs",label:"Data Change Logs"},{id:"login_history",label:"Login History"},{id:"export_events",label:"Export Events"},{id:"document_access_logs",label:"Document Access Logs"}];function w(){let[e,a]=(0,s.useState)("user_activity_logs"),[r,i]=(0,s.useState)(""),[l,n]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),[d,m]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[u,y]=(0,s.useState)(""),[g,w]=(0,s.useState)(1),[S,C]=(0,s.useState)([]),[T,A]=(0,s.useState)(null),[k,O]=(0,s.useState)(!0),[_,R]=(0,s.useState)(!1),[P,$]=(0,s.useState)(""),E=(0,s.useRef)(new Map);(0,s.useEffect)(()=>{let e=window.setTimeout(()=>{m(r),h(l),y(o)},300);return()=>{window.clearTimeout(e)}},[l,r,o]);let U=(0,s.useCallback)(async()=>{O(!0),$("");try{let t=JSON.stringify({category:e,q:d,from:p,to:u,page:g,pageSize:120}),s=E.current.get(t);if(s&&Date.now()-s.at<6e4){C(s.rows),A(s.pagination||null),O(!1);return}let a=await v.hrisApi.activityLogs.list({category:e,q:d,from:p,to:u,page:g,pageSize:120}),r=Array.isArray(a.records)?a.records:[];C(r),A(a.pagination||null),E.current.set(t,{rows:r,pagination:a.pagination||null,at:Date.now()})}catch(e){$(e.message||"Unable to load activity logs.")}finally{O(!1)}},[e,p,d,u,g]);(0,s.useEffect)(()=>{U()},[U]);let J=async()=>{R(!0),$("");try{var t;let s,a,i,n=await v.hrisApi.activityLogs.exportCsv({category:e,q:r,from:l,to:o});t=`clio-activity-logs-${e}.csv`,s=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(s),(i=document.createElement("a")).href=a,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)}catch(e){$(e.message||"Unable to export activity logs.")}finally{R(!1)}};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(f.default,{tabs:j,value:e,onChange:e=>{w(1),a(e)}}),(0,t.jsxs)(b.default,{title:"Investigation Workbench",subtitle:"Advanced filtering, date-range search, and export-ready audit evidence",action:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{value:r,onChange:e=>{w(1),i(e.target.value)},placeholder:"Search activity",className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{type:"datetime-local",value:l,onChange:e=>{w(1),n(e.target.value)},className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{type:"datetime-local",value:o,onChange:e=>{w(1),c(e.target.value)},className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("button",{type:"button",onClick:J,disabled:_,className:"h-9 rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:_?"Exporting...":"Export Logs"})]}),children:[P?(0,t.jsx)("p",{className:"mb-3 rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:P}):null,k?(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Loading activity logs..."}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(x,{rows:S}),(0,t.jsx)(N.default,{pagination:T,onPageChange:w})]})]})]})}e.s(["default",()=>w],71635)}]);