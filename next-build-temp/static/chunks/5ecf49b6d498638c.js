(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38418,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(80064);function i(e){let i,r,n,l=(0,a.c)(10),{title:d,subtitle:c,className:o,children:m,action:x}=e;return l[0]!==o?(i=(0,s.cn)("rounded-2xl border border-slate-200 bg-white p-5 shadow-[0_12px_30px_-24px_rgba(15,23,42,0.55)]",o),l[0]=o,l[1]=i):i=l[1],l[2]!==x||l[3]!==c||l[4]!==d?(r=(d||c||x)&&(0,t.jsxs)("header",{className:"mb-4 flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[d&&(0,t.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:d}),c&&(0,t.jsx)("p",{className:"text-sm text-slate-600",children:c})]}),x]}),l[2]=x,l[3]=c,l[4]=d,l[5]=r):r=l[5],l[6]!==m||l[7]!==i||l[8]!==r?(n=(0,t.jsxs)("section",{className:i,children:[r,m]}),l[6]=m,l[7]=i,l[8]=r,l[9]=n):n=l[9],n}e.s(["default",()=>i])},97256,e=>{"use strict";function t(e={}){let a=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{if(null==t)return;let s=String(t).trim();s&&a.set(e,s)});let s=a.toString();return s?`?${s}`:""}async function a(e){if((e.headers.get("content-type")||"").includes("text/csv"))return await e.text();let t=await e.json().catch(()=>({}));if(!e.ok)throw Error(t?.message||"Request failed.");return t}async function s(e,t={}){let i=await fetch(e,{...t,headers:{"Content-Type":"application/json",...t.headers||{}},cache:"no-store"});return await a(i)}async function i(e,t={}){let a=await fetch(e,{...t,cache:"no-store"});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e?.message||"Export failed.")}return await a.text()}e.s(["hrisApi",0,{employees:{list:async(e={})=>await s(`/api/hris/employees${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/employees",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),archive:async e=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify({status:"Archived"})}),logDocumentAccess:async(e,t)=>await s(`/api/hris/employees/${encodeURIComponent(e)}/documents/access`,{method:"POST",body:JSON.stringify(t||{})})},lifecycle:{list:async(e={})=>await s(`/api/hris/lifecycle${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/lifecycle",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),offboard:async(e,t={})=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}/offboard`,{method:"POST",body:JSON.stringify(t)}),approve:async(e,t={})=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}/approve`,{method:"POST",body:JSON.stringify(t)})},attendance:{list:async(e={})=>await s(`/api/hris/attendance${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/attendance",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/attendance/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},leave:{list:async(e={})=>await s(`/api/hris/attendance/leave-requests${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/attendance/leave-requests",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/attendance/leave-requests/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),approve:async(e,{approved:t,approvalNote:a})=>await s(`/api/hris/attendance/leave-requests/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify({status:t?"Approved":"Rejected",approvalNote:a||""})})},performance:{list:async(e={})=>await s(`/api/hris/performance${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/performance",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/performance/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},templates:{list:async(e={})=>await s(`/api/hris/templates${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/templates",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/templates/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),archive:async e=>await s(`/api/hris/templates/${encodeURIComponent(e)}`,{method:"DELETE"})},activityLogs:{list:async(e={})=>await s(`/api/hris/activity-logs${t(e)}`,{method:"GET"}),async exportCsv(e={}){let a=t({...e,export:"csv"});return await i(`/api/hris/activity-logs${a}`,{method:"GET"})}},exports:{list:async(e={})=>await s(`/api/hris/exports${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/exports",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/exports/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),approve:async(e,t)=>await s(`/api/hris/exports/${encodeURIComponent(e)}/approve`,{method:"POST",body:JSON.stringify(t)}),execute:async e=>await i(`/api/hris/exports/${encodeURIComponent(e)}/execute`,{method:"POST"})},retention:{list:async(e={})=>await s(`/api/hris/retention${t(e)}`,{method:"GET"}),purge:async(e={})=>await s("/api/hris/retention",{method:"POST",body:JSON.stringify(e)})},incidents:{list:async(e={})=>await s(`/api/hris/incidents${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/incidents/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/incidents",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/incidents/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},settings:{referenceData:{list:async()=>await s("/api/hris/settings/reference-data",{method:"GET"}),create:async e=>await s("/api/hris/settings/reference-data",{method:"POST",body:JSON.stringify(e)}),remove:async e=>await s("/api/hris/settings/reference-data",{method:"DELETE",body:JSON.stringify(e)})}}}])},93096,e=>{"use strict";var t=e.i(43476),a=e.i(932);function s(e){let s,i,r,n=(0,a.c)(7),{title:l,subtitle:d}=e;return n[0]!==l?(s=(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:l}),n[0]=l,n[1]=s):s=n[1],n[2]!==d?(i=d?(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-600",children:d}):null,n[2]=d,n[3]=i):i=n[3],n[4]!==s||n[5]!==i?(r=(0,t.jsxs)("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50/80 px-4 py-5 text-center",children:[s,i]}),n[4]=s,n[5]=i,n[6]=r):r=n[6],r}e.s(["default",()=>s])},77135,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(80064);let i={critical:"bg-rose-100 text-rose-700 ring-1 ring-rose-200",high:"bg-orange-100 text-orange-700 ring-1 ring-orange-200",medium:"bg-amber-100 text-amber-700 ring-1 ring-amber-200",low:"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200",open:"bg-cyan-100 text-cyan-700 ring-1 ring-cyan-200",containment:"bg-blue-100 text-blue-700 ring-1 ring-blue-200",investigating:"bg-indigo-100 text-indigo-700 ring-1 ring-indigo-200",escalated:"bg-violet-100 text-violet-700 ring-1 ring-violet-200","regulatory review":"bg-fuchsia-100 text-fuchsia-700 ring-1 ring-fuchsia-200",resolved:"bg-teal-100 text-teal-700 ring-1 ring-teal-200",closed:"bg-slate-200 text-slate-700 ring-1 ring-slate-300",active:"bg-emerald-100 text-emerald-700",approved:"bg-emerald-100 text-emerald-700",completed:"bg-sky-100 text-sky-700",exported:"bg-sky-100 text-sky-700",pending:"bg-amber-100 text-amber-700",rejected:"bg-rose-100 text-rose-700",failed:"bg-rose-100 text-rose-700",archived:"bg-slate-200 text-slate-700","in progress":"bg-indigo-100 text-indigo-700"};function r(e){let r,n,l=(0,a.c)(6),{value:d,className:c}=e,o=i[String(d||"").trim().toLowerCase()]||"bg-slate-100 text-slate-700";l[0]!==c||l[1]!==o?(r=(0,s.cn)("inline-flex rounded-md px-2 py-1 text-xs font-medium",o,c),l[0]=c,l[1]=o,l[2]=r):r=l[2];let m=d||"N/A";return l[3]!==r||l[4]!==m?(n=(0,t.jsx)("span",{className:r,children:m}),l[3]=r,l[4]=m,l[5]=n):n=l[5],n}e.s(["default",()=>r])},46957,e=>{"use strict";var t=e.i(43476),a=e.i(57688),s=e.i(71645),i=e.i(38418),r=e.i(93096),n=e.i(77135),l=e.i(13634),d=e.i(32295),c=e.i(97256);let o=[{id:"monitoring-dashboard",label:"Attendance Monitoring Dashboard"},{id:"records",label:"Records"},{id:"audit-logs",label:"Attendance Audit Logs"}],m=[{id:"morning",sourceShift:"6:00 AM - 2:00 PM",assignedShift:"8:00 AM - 4:00 PM",onTimeLabel:"7:30 AM - 8:00 AM",earlyLabel:"Before 7:30 AM",lateLabel:"After 8:00 AM",startMinute:360,endMinute:840,onTimeStartMinute:450,onTimeEndMinute:480},{id:"afternoon",sourceShift:"2:00 PM - 10:00 PM",assignedShift:"4:00 PM - 12:00 AM",onTimeLabel:"3:30 PM - 4:00 PM",earlyLabel:"Before 3:30 PM",lateLabel:"After 4:00 PM",startMinute:840,endMinute:1320,onTimeStartMinute:930,onTimeEndMinute:960},{id:"graveyard",sourceShift:"10:00 PM - 6:00 AM",assignedShift:"12:00 AM - 8:00 AM",onTimeLabel:"11:30 PM - 12:00 AM",earlyLabel:"Before 11:30 PM",lateLabel:"After 12:00 AM",startMinute:1320,endMinute:360,onTimeStartMinute:1410,onTimeEndMinute:0,wrapsMidnight:!0}];function x(e){let t=String(e||"").trim();return t.length>0&&"-"!==t}function h(e){let t=e instanceof Date?e:new Date(e||"");if(Number.isNaN(t.getTime()))return"";let a=t.getFullYear(),s=`${t.getMonth()+1}`.padStart(2,"0"),i=`${t.getDate()}`.padStart(2,"0");return`${a}-${s}-${i}`}function p(e){let t=String(e||"").trim();if(!t)return"";let a=t.match(/^(\d{4}-\d{2}-\d{2})/);return a?.[1]?a[1]:h(t)}function u(e){let t=String(e||"").trim();if(!t||"-"===t)return null;let a=t.match(/^(\d{1,2}):(\d{2})\s*(AM|PM)$/i);if(a){let e=Number.parseInt(a[1],10),t=Number.parseInt(a[2],10),s=a[3].toUpperCase();return Number.isNaN(e)||Number.isNaN(t)||t<0||t>59||e<1||e>12?null:60*(e%12+12*("PM"===s))+t}let s=t.match(/^(\d{1,2}):(\d{2})$/);if(!s)return null;let i=Number.parseInt(s[1],10),r=Number.parseInt(s[2],10);return Number.isNaN(i)||Number.isNaN(r)||i<0||i>23||r<0||r>59?null:60*i+r}function b(e){let t=e instanceof Date?e:new Date(e||"");return Number.isNaN(t.getTime())?"-":new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).format(t)}function y(e){let t=new Date(e||"");return Number.isNaN(t.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric"}).format(t)}function f(e){return Number.isFinite(e)&&m.find(t=>t.wrapsMidnight?e>=t.startMinute||e<t.endMinute:e>=t.startMinute&&e<t.endMinute)||m[0]}function g(e,t){return Number.isFinite(e)?t.wrapsMidnight?e>=t.startMinute&&e<t.onTimeStartMinute?"Early":e>=t.onTimeStartMinute&&e<1440||e===t.onTimeEndMinute?"On Time":"Late":e<t.onTimeStartMinute?"Early":e<=t.onTimeEndMinute?"On Time":"Late":"Recorded"}function N(e){let t=p(e.date||e.createdAt);if(!t)return new Date(e.updatedAt||e.createdAt||0).getTime();let a=u(e.checkIn),[s,i,r]=t.split("-").map(e=>Number.parseInt(e,10));return new Date(s,(i||1)-1,r||1,Number.isFinite(a)?Math.floor(a/60):0,Number.isFinite(a)?a%60:0).getTime()}function j(e){return Number.isFinite(e)?`${(e/60).toFixed(2)} h`:"-"}function w(e){let t=String(e||"").trim().toLowerCase();return"early"===t?"bg-cyan-100 text-cyan-700":"on time"===t?"bg-emerald-100 text-emerald-700":"late"===t?"bg-amber-100 text-amber-700":"completed"===t?"bg-emerald-100 text-emerald-700":""}function v(e,t,a="System"){let s=String(e||"").trim();if(s)return s;let i=String(t||"").trim();return i?i.includes("@")?(0,l.formatNameFromEmail)(i,{fallbackLabel:a}):i:a}function k(e){let t=String(e||"").trim();return t&&t.includes("@")?t.toLowerCase():""}function S(e){return String(e||"").trim()||"/avatars/default-user.svg"}function M({session:e}){let M=e?.email||"",T=e?.firstName||"",A=e?.middleName||"",C=e?.lastName||"",O=String(e?.role||"EMPLOYEE_L1").trim().toUpperCase().startsWith("EMPLOYEE_"),E=(0,s.useMemo)(()=>(0,l.formatPersonName)({firstName:T,middleName:A,lastName:C,fallbackEmail:M,fallbackLabel:"Employee"}),[M,T,C,A]),I=(0,s.useMemo)(()=>String(E||"").split(" ").map(e=>e.trim()).filter(Boolean).slice(0,2).map(e=>e.charAt(0).toUpperCase()).join("")||"EM",[E]),[$,L]=(0,s.useState)("monitoring-dashboard"),[P,U]=(0,s.useState)([]),[D,R]=(0,s.useState)(!0),[F,J]=(0,s.useState)(!1),[H,_]=(0,s.useState)(""),[G,B]=(0,s.useState)(""),[K,Y]=(0,s.useState)(!1),[q,W]=(0,s.useState)(()=>new Date),[z,Q]=(0,s.useState)("all");(0,s.useEffect)(()=>{let e=window.setInterval(()=>{W(new Date)},1e3);return()=>{window.clearInterval(e)}},[]);let V=(0,s.useCallback)(async()=>{R(!0),_("");try{let e=await c.hrisApi.attendance.list(O?{employeeEmail:M}:{});U(Array.isArray(e.records)?e.records:[])}catch(e){_(e.message||"Unable to load attendance records.")}finally{R(!1)}},[M,O]);(0,s.useEffect)(()=>{V()},[V]),(0,s.useEffect)(()=>{let e=new Set(o.map(e=>e.id)),t=(t=window.location.hash)=>{let a=String(t||"").trim().replace(/^#/,"");if(!a)return void L("monitoring-dashboard");let s=o.find(e=>(0,d.toSubTabAnchor)(e.id)===a);s&&e.has(s.id)&&L(s.id)},a=t=>{let a=String(t?.detail?.anchor||"").trim().replace(/^#/,"");if(!a)return;let s=o.find(e=>(0,d.toSubTabAnchor)(e.id)===a);s&&e.has(s.id)&&L(s.id)},s=()=>t();return t(),window.addEventListener("hashchange",s),window.addEventListener("clio:subtab-anchor",a),()=>{window.removeEventListener("hashchange",s),window.removeEventListener("clio:subtab-anchor",a)}},[]);let X=60*q.getHours()+q.getMinutes(),Z=(0,s.useMemo)(()=>f(X),[X]),ee=(0,s.useMemo)(()=>g(X,Z),[X,Z]),et=(0,s.useMemo)(()=>h(q),[q]),ea=(0,s.useMemo)(()=>P.filter(e=>p(e.date||e.createdAt)===et).sort((e,t)=>N(t)-N(e)),[P,et]),es=(0,s.useMemo)(()=>ea.find(e=>x(e.checkIn)&&!x(e.checkOut))||null,[ea]),ei=(0,s.useMemo)(()=>ea.find(e=>x(e.checkIn)&&x(e.checkOut))||null,[ea]),er=(0,s.useMemo)(()=>[...P].sort((e,t)=>N(t)-N(e)).slice(0,12),[P]),en=(0,s.useMemo)(()=>P.map(e=>{let t,a=function(e,t){let a=u(e),s=u(t);if(!Number.isFinite(a)||!Number.isFinite(s))return null;let i=s-a;return i<0&&(i+=1440),i>=0?i:null}(e.checkIn,e.checkOut),s=String(e.status||"").trim().toLowerCase().includes("late"),i=Number.isFinite(a)&&a<480,r=Number.isFinite(a)?Math.max(0,a-480):0;return{...e,workedMinutes:a,workedHours:j(a),isLate:s,isUndertime:i,overtimeMinutes:r,overtimeHours:j(r),departmentLabel:(t=String(e?.department||"").trim())||"Unassigned"}}),[P]),el=(0,s.useMemo)(()=>{let e=en.filter(e=>p(e.date||e.createdAt)===et),t=e.length,a=e.filter(e=>!x(e.checkIn)).length;return{total:t,absent:a,late:e.filter(e=>e.isLate).length,completed:e.filter(e=>x(e.checkIn)&&x(e.checkOut)).length}},[en,et]),ed=(0,s.useMemo)(()=>en.filter(e=>Number.isFinite(e.overtimeMinutes)&&e.overtimeMinutes>0),[en]),ec=(0,s.useMemo)(()=>{let e=new Map;return en.forEach(t=>{let a=t.departmentLabel,s=e.get(a)||{department:a,total:0,late:0,absent:0,completed:0};s.total+=1,t.isLate&&(s.late+=1),x(t.checkIn)||(s.absent+=1),x(t.checkIn)&&x(t.checkOut)&&(s.completed+=1),e.set(a,s)}),[...e.values()].sort((e,t)=>t.total-e.total)},[en]),eo=(0,s.useMemo)(()=>{let e=new Map;return en.forEach(t=>{let a=p(t.date||t.createdAt);if(!a)return;let s=e.get(a)||{dateKey:a,total:0,late:0,absent:0};s.total+=1,t.isLate&&(s.late+=1),x(t.checkIn)||(s.absent+=1),e.set(a,s)}),[...e.values()].sort((e,t)=>String(t.dateKey).localeCompare(String(e.dateKey))).slice(0,7)},[en]),em=(0,s.useMemo)(()=>"late"===z?en.filter(e=>e.isLate):"undertime"===z?en.filter(e=>e.isUndertime):"overtime"===z?en.filter(e=>Number.isFinite(e.overtimeMinutes)&&e.overtimeMinutes>0):"completed"===z?en.filter(e=>x(e.checkIn)&&x(e.checkOut)):"active"===z?en.filter(e=>x(e.checkIn)&&!x(e.checkOut)):"absent"===z?en.filter(e=>!x(e.checkIn)):en,[en,z]),ex=async()=>{if(O){if(!M)return void _("Signed-in employee email is required.");if(es){_("You already have an active clock-in record for today."),B("");return}if(ei){_("Today's attendance is already completed."),B("");return}J(!0),_(""),B("");try{let e=new Date,t=h(e),a=60*e.getHours()+e.getMinutes(),s=f(a),i=g(a,s),r=b(e),n=`Shift assigned: ${s.assignedShift}. Arrival: ${i}.`,l=ea.find(e=>!x(e.checkIn)),d={employeeEmail:M,employee:E||M,date:t,checkIn:r,checkOut:"",status:i,reason:n};l?.id?await c.hrisApi.attendance.update(l.id,d):await c.hrisApi.attendance.create(d),B(`Clock-in recorded at ${r}.`),await V()}catch(e){_(e.message||"Unable to clock in.")}finally{J(!1)}}},eh=async()=>{if(O){if(!es?.id){_("No active clock-in record found for today."),B("");return}J(!0),_(""),B("");try{var e;let t,a,s=new Date,i=b(s);await c.hrisApi.attendance.update(es.id,{checkOut:i,status:"Completed",reason:(e=es.reason,t=String(e||"").trim(),a=`Clock-out: ${i}`,t?t.toLowerCase().includes("clock-out")?t:`${t} | ${a}`:a)}),B(`Clock-out recorded at ${i}.`),await V()}catch(e){_(e.message||"Unable to clock out.")}finally{J(!1)}}};if(O){let e,s=!F&&!es&&!ei,l=!F&&!!es;return(0,t.jsxs)("div",{className:"space-y-4",children:[H?(0,t.jsx)("p",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:H}):null,G?(0,t.jsx)("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:G}):null,"monitoring-dashboard"===$?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"rounded-2xl border border-sky-200 bg-white px-4 py-3 shadow-[0_12px_30px_-24px_rgba(15,23,42,0.55)]",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsx)("p",{className:"text-base font-semibold text-slate-900",children:"Clock-in Information"}),(0,t.jsx)("button",{type:"button",onClick:()=>Y(e=>!e),"aria-label":K?"Hide clock-in information details":"Show clock-in information details","aria-expanded":K,className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-sky-300 bg-sky-50 text-sm font-semibold text-sky-700 transition hover:bg-sky-100",children:"?"})]})}),K?(0,t.jsx)("div",{className:"absolute inset-x-0 top-[calc(100%+0.5rem)] z-20 flex justify-end",children:(0,t.jsxs)("div",{className:"w-full max-w-[820px] rounded-2xl border border-sky-200 bg-white p-4 shadow-[0_24px_50px_-30px_rgba(14,116,214,0.55)]",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-base font-semibold text-slate-900",children:"Clock-in Information"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Everything you need to know before clocking in"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>Y(!1),"aria-label":"Close clock-in information details",className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-slate-500 transition hover:bg-slate-100 hover:text-slate-700",children:(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M6 6l12 12M18 6l-12 12"})})})]}),(0,t.jsxs)("div",{className:"mt-3 space-y-2 text-sm text-slate-700",children:[(0,t.jsxs)("p",{children:["Date: ",(0,t.jsx)("span",{className:"font-semibold text-slate-900",children:Number.isNaN((e=q instanceof Date?q:new Date(q||"")).getTime())?"-":new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).format(e)})]}),(0,t.jsxs)("p",{children:["Current Time: ",(0,t.jsx)("span",{className:"font-semibold text-slate-900",children:b(q)})]}),(0,t.jsxs)("p",{children:["If you clock in now, your shift will be:"," ",(0,t.jsx)("span",{className:"font-semibold text-sky-700",children:Z.assignedShift})]}),(0,t.jsxs)("p",{children:["Attendance Status: ",(0,t.jsx)("span",{className:"font-semibold text-sky-700",children:ee})]})]}),(0,t.jsxs)("div",{className:"mt-3 rounded-xl border border-sky-100 bg-sky-50/50 p-3",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-slate-700",children:[(0,t.jsx)("span",{className:"mr-2 inline-block h-2 w-2 rounded-full bg-sky-500 align-middle"}),"Clock in anytime. The system will automatically assign your shift."]}),(0,t.jsx)("div",{className:"mt-3 grid gap-3 lg:grid-cols-3",children:m.map(e=>{let a=e.id===Z.id;return(0,t.jsxs)("article",{className:`rounded-xl border p-3 ${a?"border-sky-300 bg-white":"border-slate-200 bg-white/80"}`,children:[(0,t.jsxs)("p",{className:"text-sm font-semibold text-slate-900",children:[e.sourceShift," ","->"," ",e.assignedShift]}),(0,t.jsxs)("p",{className:"mt-2 text-xs text-slate-600",children:["On Time: ",(0,t.jsx)("span",{className:"font-medium text-slate-900",children:e.onTimeLabel})]}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-slate-600",children:["Early: ",(0,t.jsx)("span",{className:"font-medium text-slate-900",children:e.earlyLabel})]}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-slate-600",children:["Late: ",(0,t.jsx)("span",{className:"font-medium text-slate-900",children:e.lateLabel})]})]},e.id)})})]})]})}):null]}),(0,t.jsx)(i.default,{title:"Your Profile",subtitle:"Clock-in and clock-out controls",children:(0,t.jsx)("div",{className:"rounded-xl border border-slate-200 bg-slate-50/80 px-4 py-5",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3 text-center",children:[(0,t.jsx)("span",{className:"inline-flex h-20 w-20 items-center justify-center rounded-full bg-slate-900 text-xl font-semibold text-white",children:I}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:E}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:M})]}),(0,t.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:ex,disabled:!s,className:"inline-flex h-9 items-center rounded-full bg-emerald-600 px-4 text-xs font-semibold text-white transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-60",children:F?"Processing...":`Clock In (${Z.assignedShift} - ${ee})`}),(0,t.jsx)("button",{type:"button",onClick:eh,disabled:!l,className:"inline-flex h-9 items-center rounded-full bg-rose-600 px-4 text-xs font-semibold text-white transition hover:bg-rose-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Clock Out"})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"You can clock in anytime. The system automatically determines your attendance status."}),es?(0,t.jsxs)("p",{className:"text-xs font-medium text-emerald-700",children:["Active record started at ",es.checkIn||"-"]}):null,ei?(0,t.jsx)("p",{className:"text-xs font-medium text-slate-600",children:"Today's attendance is already completed."}):null]})})})]}):null,"records"===$?(0,t.jsx)(i.default,{title:"Attendance Records",subtitle:"Latest attendance logs from your account",children:D?(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Loading attendance data..."}):0===er.length?(0,t.jsx)(r.default,{title:"No attendance records yet",subtitle:"Your clock-in and clock-out activity will appear here."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Date"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock In"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock Out"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Shift"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Summary"})]})}),(0,t.jsx)("tbody",{children:er.map(e=>{let a,s,i=x(e.checkOut)?"Completed":e.status||"Recorded";return(0,t.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,t.jsx)("td",{className:"px-2 py-3 font-medium text-slate-900",children:y(e.date||e.createdAt)}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.checkIn||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.checkOut||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:Number.isFinite(a=u(e.checkIn))?f(a).assignedShift:"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:(0,t.jsx)(n.default,{value:i,className:w(i)})}),(0,t.jsx)("td",{className:"max-w-[460px] px-2 py-3 text-xs text-slate-600",children:(s=String(e.reason||"").trim())||(x(e.checkOut)?"Attendance completed and logged.":x(e.checkIn)?"Clock-in recorded.":"No summary available.")})]},e.id)})})]})})}):null,"audit-logs"===$?(0,t.jsx)(i.default,{title:"Attendance Audit Logs",subtitle:"Modification trail for your attendance records",children:D?(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Loading attendance data..."}):0===P.length?(0,t.jsx)(r.default,{title:"No attendance audit logs yet",subtitle:"Modification trails will appear after updates."}):(0,t.jsx)("div",{className:"space-y-2",children:P.map(e=>(0,t.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[(0,t.jsxs)("p",{className:"text-sm font-semibold text-slate-900",children:[e.employee||"-"," | ",e.date||"-"]}),(0,t.jsx)("div",{className:"mt-2 space-y-1",children:0===(e.modificationTrail||[]).length?(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"No trail entries yet."}):e.modificationTrail.map((s,i)=>{let r=v(s.byName,s.byEmail||s.by,"-"),n=k(s.byEmail||s.by);return(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-2 py-1.5",children:[(0,t.jsxs)("div",{className:"flex min-w-[200px] items-center gap-2",children:[(0,t.jsx)(a.default,{src:S(s.byAvatar),alt:`${r} profile`,width:24,height:24,className:"h-6 w-6 rounded-full border border-slate-200 bg-white object-cover"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"truncate text-xs font-medium text-slate-800",children:r}),n?(0,t.jsx)("p",{className:"truncate text-[11px] text-slate-500",children:n}):null]})]}),(0,t.jsxs)("p",{className:"text-xs text-slate-700",children:["[",y(s.at),"] ",s.action||"update"," | status: ",s.status||"-"]})]},`${e.id}-${i}`)})})]},e.id))})}):null]})}return(0,t.jsxs)("div",{className:"space-y-4",children:[H?(0,t.jsx)("p",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:H}):null,G?(0,t.jsx)("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:G}):null,(0,t.jsx)(i.default,{title:"monitoring-dashboard"===$?"Attendance Monitoring Dashboard":"records"===$?"Attendance Records":"Attendance Audit Logs",subtitle:"Daily attendance summary, monitoring, and traceability",children:D?(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Loading attendance data..."}):(0,t.jsx)(t.Fragment,{children:"monitoring-dashboard"===$?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[(0,t.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.09em] text-slate-500",children:"Daily Attendance Summary"}),(0,t.jsx)("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:el.total})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-3",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.09em] text-rose-600",children:"Absent Employees"}),(0,t.jsx)("p",{className:"mt-2 text-2xl font-semibold text-rose-700",children:el.absent})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-3 py-3",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.09em] text-amber-700",children:"Late Employees"}),(0,t.jsx)("p",{className:"mt-2 text-2xl font-semibold text-amber-700",children:el.late})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 px-3 py-3",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.09em] text-emerald-700",children:"Overtime Reports"}),(0,t.jsx)("p",{className:"mt-2 text-2xl font-semibold text-emerald-700",children:ed.length})]})]}),(0,t.jsxs)("div",{className:"grid gap-3 xl:grid-cols-2",children:[(0,t.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-3",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Department Attendance Overview"}),0===ec.length?(0,t.jsx)("p",{className:"mt-2 text-xs text-slate-500",children:"No department attendance data yet."}):(0,t.jsx)("div",{className:"mt-2 overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-xs",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 uppercase tracking-[0.08em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-2 font-medium",children:"Department"}),(0,t.jsx)("th",{className:"px-2 py-2 font-medium",children:"Total"}),(0,t.jsx)("th",{className:"px-2 py-2 font-medium",children:"Late"}),(0,t.jsx)("th",{className:"px-2 py-2 font-medium",children:"Absent"})]})}),(0,t.jsx)("tbody",{children:ec.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,t.jsx)("td",{className:"px-2 py-2",children:e.department}),(0,t.jsx)("td",{className:"px-2 py-2",children:e.total}),(0,t.jsx)("td",{className:"px-2 py-2",children:e.late}),(0,t.jsx)("td",{className:"px-2 py-2",children:e.absent})]},e.department))})]})})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-3",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Trends and Analytics (Last 7 days)"}),0===eo.length?(0,t.jsx)("p",{className:"mt-2 text-xs text-slate-500",children:"No trend data yet."}):(0,t.jsx)("div",{className:"mt-2 overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-xs",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 uppercase tracking-[0.08em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-2 font-medium",children:"Date"}),(0,t.jsx)("th",{className:"px-2 py-2 font-medium",children:"Total"}),(0,t.jsx)("th",{className:"px-2 py-2 font-medium",children:"Late"}),(0,t.jsx)("th",{className:"px-2 py-2 font-medium",children:"Absent"})]})}),(0,t.jsx)("tbody",{children:eo.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,t.jsx)("td",{className:"px-2 py-2",children:y(e.dateKey)}),(0,t.jsx)("td",{className:"px-2 py-2",children:e.total}),(0,t.jsx)("td",{className:"px-2 py-2",children:e.late}),(0,t.jsx)("td",{className:"px-2 py-2",children:e.absent})]},e.dateKey))})]})})]})]})]}):"audit-logs"===$?0===P.length?(0,t.jsx)(r.default,{title:"No attendance audit logs yet",subtitle:"Modification trails will appear after updates."}):(0,t.jsx)("div",{className:"space-y-2",children:P.map(e=>(0,t.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[(0,t.jsxs)("p",{className:"text-sm font-semibold text-slate-900",children:[e.employee||"-"," | ",e.date||"-"]}),(0,t.jsx)("div",{className:"mt-2 space-y-1",children:0===(e.modificationTrail||[]).length?(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"No trail entries yet."}):e.modificationTrail.map((s,i)=>{let r=v(s.byName,s.byEmail||s.by,"-"),n=k(s.byEmail||s.by);return(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-2 py-1.5",children:[(0,t.jsxs)("div",{className:"flex min-w-[200px] items-center gap-2",children:[(0,t.jsx)(a.default,{src:S(s.byAvatar),alt:`${r} profile`,width:24,height:24,className:"h-6 w-6 rounded-full border border-slate-200 bg-white object-cover"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"truncate text-xs font-medium text-slate-800",children:r}),n?(0,t.jsx)("p",{className:"truncate text-[11px] text-slate-500",children:n}):null]})]}),(0,t.jsxs)("p",{className:"text-xs text-slate-700",children:["[",y(s.at),"] ",s.action||"update"," | status: ",s.status||"-"]})]},`${e.id}-${i}`)})})]},e.id))}):"records"===$?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-3 flex flex-wrap items-end gap-2",children:[(0,t.jsx)("label",{className:"text-xs font-semibold uppercase tracking-[0.09em] text-slate-500",htmlFor:"attendance-records-filter",children:"Records Filter"}),(0,t.jsxs)("select",{id:"attendance-records-filter",value:z,onChange:e=>Q(e.target.value),className:"h-9 min-w-[220px] rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,t.jsx)("option",{value:"all",children:"All records"}),(0,t.jsx)("option",{value:"late",children:"Late only"}),(0,t.jsx)("option",{value:"undertime",children:"Undertime only"}),(0,t.jsx)("option",{value:"overtime",children:"Overtime only"}),(0,t.jsx)("option",{value:"completed",children:"Completed only"}),(0,t.jsx)("option",{value:"active",children:"Active (no clock-out)"}),(0,t.jsx)("option",{value:"absent",children:"Absent (no clock-in)"})]})]}),0===em.length?(0,t.jsx)(r.default,{title:"No matching attendance records",subtitle:"Change filter to view other attendance records."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Date"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock In"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock Out"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Worked"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Overtime"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Flags"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"})]})}),(0,t.jsx)("tbody",{children:em.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,t.jsxs)("td",{className:"px-2 py-3",children:[(0,t.jsx)("p",{className:"font-medium text-slate-900",children:e.employee||"-"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:e.employeeEmail||"-"})]}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.date||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.checkIn||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.checkOut||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.workedHours}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.overtimeHours}),(0,t.jsx)("td",{className:"px-2 py-3",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[e.isLate?(0,t.jsx)(n.default,{value:"Late",className:"bg-amber-100 text-amber-700"}):null,e.isUndertime?(0,t.jsx)(n.default,{value:"Undertime",className:"bg-rose-100 text-rose-700"}):null,e.isLate||e.isUndertime?null:(0,t.jsx)("span",{className:"text-xs text-slate-500",children:"-"})]})}),(0,t.jsx)("td",{className:"px-2 py-3",children:(0,t.jsx)(n.default,{value:e.status||"-",className:w(e.status)})})]},e.id))})]})})]}):(0,t.jsx)(t.Fragment,{children:0===P.length?(0,t.jsx)(r.default,{title:"No attendance records yet",subtitle:"Clock-in and clock-out entries will appear here."}):(0,t.jsx)("div",{className:"space-y-3",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Date"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock In"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock Out"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Reason"})]})}),(0,t.jsx)("tbody",{children:P.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,t.jsxs)("td",{className:"px-2 py-3",children:[(0,t.jsx)("p",{className:"font-medium text-slate-900",children:e.employee||"-"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:e.employeeEmail||"-"})]}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.date||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.checkIn||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.checkOut||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:(0,t.jsx)(n.default,{value:e.status||"-"})}),(0,t.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:e.reason||"-"})]},e.id))})]})})})})})})]})}e.s(["default",()=>M])}]);