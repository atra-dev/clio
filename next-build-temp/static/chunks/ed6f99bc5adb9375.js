(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38418,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(80064);function i(e){let i,r,l,n=(0,a.c)(10),{title:o,subtitle:d,className:c,children:m,action:p}=e;return n[0]!==c?(i=(0,s.cn)("rounded-2xl border border-slate-200 bg-white p-5 shadow-[0_12px_30px_-24px_rgba(15,23,42,0.55)]",c),n[0]=c,n[1]=i):i=n[1],n[2]!==p||n[3]!==d||n[4]!==o?(r=(o||d||p)&&(0,t.jsxs)("header",{className:"mb-4 flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[o&&(0,t.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:o}),d&&(0,t.jsx)("p",{className:"text-sm text-slate-600",children:d})]}),p]}),n[2]=p,n[3]=d,n[4]=o,n[5]=r):r=n[5],n[6]!==m||n[7]!==i||n[8]!==r?(l=(0,t.jsxs)("section",{className:i,children:[r,m]}),n[6]=m,n[7]=i,n[8]=r,n[9]=l):l=n[9],l}e.s(["default",()=>i])},97256,e=>{"use strict";function t(e={}){let a=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{if(null==t)return;let s=String(t).trim();s&&a.set(e,s)});let s=a.toString();return s?`?${s}`:""}async function a(e){if((e.headers.get("content-type")||"").includes("text/csv"))return await e.text();let t=await e.json().catch(()=>({}));if(!e.ok)throw Error(t?.message||"Request failed.");return t}async function s(e,t={}){let i=await fetch(e,{...t,headers:{"Content-Type":"application/json",...t.headers||{}},cache:"no-store"});return await a(i)}async function i(e,t={}){let a=await fetch(e,{...t,cache:"no-store"});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e?.message||"Export failed.")}return await a.text()}e.s(["hrisApi",0,{employees:{list:async(e={})=>await s(`/api/hris/employees${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/employees",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),archive:async e=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify({status:"Archived"})}),logDocumentAccess:async(e,t)=>await s(`/api/hris/employees/${encodeURIComponent(e)}/documents/access`,{method:"POST",body:JSON.stringify(t||{})})},lifecycle:{list:async(e={})=>await s(`/api/hris/lifecycle${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/lifecycle",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),offboard:async(e,t={})=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}/offboard`,{method:"POST",body:JSON.stringify(t)}),approve:async(e,t={})=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}/approve`,{method:"POST",body:JSON.stringify(t)})},attendance:{list:async(e={})=>await s(`/api/hris/attendance${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/attendance",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/attendance/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},leave:{list:async(e={})=>await s(`/api/hris/attendance/leave-requests${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/attendance/leave-requests",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/attendance/leave-requests/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),approve:async(e,{approved:t,approvalNote:a})=>await s(`/api/hris/attendance/leave-requests/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify({status:t?"Approved":"Rejected",approvalNote:a||""})})},performance:{list:async(e={})=>await s(`/api/hris/performance${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/performance",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/performance/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},templates:{list:async(e={})=>await s(`/api/hris/templates${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/templates",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/templates/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),archive:async e=>await s(`/api/hris/templates/${encodeURIComponent(e)}`,{method:"DELETE"})},activityLogs:{list:async(e={})=>await s(`/api/hris/activity-logs${t(e)}`,{method:"GET"}),async exportCsv(e={}){let a=t({...e,export:"csv"});return await i(`/api/hris/activity-logs${a}`,{method:"GET"})}},exports:{list:async(e={})=>await s(`/api/hris/exports${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/exports",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/exports/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),approve:async(e,t)=>await s(`/api/hris/exports/${encodeURIComponent(e)}/approve`,{method:"POST",body:JSON.stringify(t)}),execute:async e=>await i(`/api/hris/exports/${encodeURIComponent(e)}/execute`,{method:"POST"})},retention:{list:async(e={})=>await s(`/api/hris/retention${t(e)}`,{method:"GET"}),purge:async(e={})=>await s("/api/hris/retention",{method:"POST",body:JSON.stringify(e)})},incidents:{list:async(e={})=>await s(`/api/hris/incidents${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/incidents/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/incidents",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/incidents/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},settings:{referenceData:{list:async()=>await s("/api/hris/settings/reference-data",{method:"GET"}),create:async e=>await s("/api/hris/settings/reference-data",{method:"POST",body:JSON.stringify(e)}),remove:async e=>await s("/api/hris/settings/reference-data",{method:"DELETE",body:JSON.stringify(e)})}}}])},93096,e=>{"use strict";var t=e.i(43476),a=e.i(932);function s(e){let s,i,r,l=(0,a.c)(7),{title:n,subtitle:o}=e;return l[0]!==n?(s=(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:n}),l[0]=n,l[1]=s):s=l[1],l[2]!==o?(i=o?(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-600",children:o}):null,l[2]=o,l[3]=i):i=l[3],l[4]!==s||l[5]!==i?(r=(0,t.jsxs)("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50/80 px-4 py-5 text-center",children:[s,i]}),l[4]=s,l[5]=i,l[6]=r):r=l[6],r}e.s(["default",()=>s])},77135,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(80064);let i={critical:"bg-rose-100 text-rose-700 ring-1 ring-rose-200",high:"bg-orange-100 text-orange-700 ring-1 ring-orange-200",medium:"bg-amber-100 text-amber-700 ring-1 ring-amber-200",low:"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200",open:"bg-cyan-100 text-cyan-700 ring-1 ring-cyan-200",containment:"bg-blue-100 text-blue-700 ring-1 ring-blue-200",investigating:"bg-indigo-100 text-indigo-700 ring-1 ring-indigo-200",escalated:"bg-violet-100 text-violet-700 ring-1 ring-violet-200","regulatory review":"bg-fuchsia-100 text-fuchsia-700 ring-1 ring-fuchsia-200",resolved:"bg-teal-100 text-teal-700 ring-1 ring-teal-200",closed:"bg-slate-200 text-slate-700 ring-1 ring-slate-300",active:"bg-emerald-100 text-emerald-700",approved:"bg-emerald-100 text-emerald-700",completed:"bg-sky-100 text-sky-700",exported:"bg-sky-100 text-sky-700",pending:"bg-amber-100 text-amber-700",rejected:"bg-rose-100 text-rose-700",failed:"bg-rose-100 text-rose-700",archived:"bg-slate-200 text-slate-700","in progress":"bg-indigo-100 text-indigo-700"};function r(e){let r,l,n=(0,a.c)(6),{value:o,className:d}=e,c=i[String(o||"").trim().toLowerCase()]||"bg-slate-100 text-slate-700";n[0]!==d||n[1]!==c?(r=(0,s.cn)("inline-flex rounded-md px-2 py-1 text-xs font-medium",c,d),n[0]=d,n[1]=c,n[2]=r):r=n[2];let m=o||"N/A";return n[3]!==r||n[4]!==m?(l=(0,t.jsx)("span",{className:r,children:m}),n[3]=r,n[4]=m,n[5]=l):l=n[5],l}e.s(["default",()=>r])},46670,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(80064);function i(e){let i,r,l,n=(0,a.c)(12),{tabs:o,value:d,onChange:c,className:m}=e;if(n[0]!==m?(i=(0,s.cn)("flex gap-2 overflow-x-auto pb-1 sm:flex-wrap sm:overflow-visible",m),n[0]=m,n[1]=i):i=n[1],n[2]!==c||n[3]!==o||n[4]!==d){let e;n[6]!==c||n[7]!==d?(e=e=>{let a=e.id===d;return(0,t.jsx)("button",{type:"button",onClick:()=>c(e.id),className:(0,s.cn)("whitespace-nowrap rounded-lg border px-3 py-1.5 text-xs font-medium transition",a?"border-sky-300 bg-sky-50 text-sky-700":"border-slate-300 bg-white text-slate-700 hover:bg-slate-50"),children:e.label},e.id)},n[6]=c,n[7]=d,n[8]=e):e=n[8],r=o.map(e),n[2]=c,n[3]=o,n[4]=d,n[5]=r}else r=n[5];return n[9]!==i||n[10]!==r?(l=(0,t.jsx)("div",{className:i,children:r}),n[9]=i,n[10]=r,n[11]=l):l=n[11],l}e.s(["default",()=>i])},19329,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(38418),i=e.i(93096),r=e.i(46670),l=e.i(77135),n=e.i(13634),o=e.i(97256);let d=[{id:"library",label:"Templates Library"},{id:"employee-docs",label:"Employee Documents"},{id:"contracts",label:"Contracts & Agreements"},{id:"versions",label:"Version History"},{id:"upload-audit",label:"Upload Audit Logs"}],c=[{id:"employee-docs",label:"Documents"}],m={templateName:"",category:"HR Template",documentType:"Template",classification:"Restricted PII",version:"v1.0",status:"Active",tags:"",contentRef:"",changeNote:""};function p(e){let t=new Date(e||"");return Number.isNaN(t.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}function x(e,t){let a=String(e||"").trim();if(a)return a;let s=String(t||"").trim();return s.includes("@")?(0,n.formatNameFromEmail)(s,{fallbackLabel:"-"}):s||"-"}function u(e){let t=String(e||"").trim();return t.includes("@")?t.toLowerCase():""}function h({session:e}){let h=String(e?.role||"EMPLOYEE_L1").trim().toUpperCase().startsWith("EMPLOYEE_"),y=!h,[g,b]=(0,a.useState)(h?"employee-docs":"library"),[f,N]=(0,a.useState)([]),[j,v]=(0,a.useState)([]),[w,S]=(0,a.useState)(""),[T,C]=(0,a.useState)(m),[E,A]=(0,a.useState)(!0),[O,k]=(0,a.useState)(!1),[U,$]=(0,a.useState)(""),[P,R]=(0,a.useState)(""),I=(0,a.useMemo)(()=>h?c:d,[h]);(0,a.useEffect)(()=>{I.some(e=>e.id===g)||b(I[0]?.id||"employee-docs")},[g,I]);let B=(0,a.useCallback)(async()=>{A(!0),$("");try{let[e,t]=await Promise.all([o.hrisApi.templates.list(),o.hrisApi.employees.list({page:1,pageSize:200,includeDocuments:!0})]),a=Array.isArray(e.records)?e.records:[];N(a),v(Array.isArray(t.records)?t.records:[]),!w&&a[0]?.id&&S(a[0].id)}catch(e){$(e.message||"Unable to load template repository.")}finally{A(!1)}},[w]);(0,a.useEffect)(()=>{B()},[B]);let J=(0,a.useMemo)(()=>f.find(e=>e.id===w)||null,[f,w]),L=(0,a.useMemo)(()=>{let e=[];return j.forEach(t=>{(t.documents||[]).forEach((a,s)=>{e.push({id:`${t.id}-${s}`,employeeRecordId:t.id,documentId:String(a.id||a.recordId||s),employee:(0,n.formatEmployeeName)({firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,suffix:t.suffix,fallback:t.name,fallbackEmail:t.email,fallbackLabel:"Employee"}),employeeEmail:t.email,name:a.name||"Document",type:a.type||"General",ref:a.ref||"",storagePath:a.storagePath||"",uploadedAt:a.uploadedAt||t.updatedAt||t.createdAt,uploadedBy:a.uploadedBy||t.updatedBy||"-",uploadedByName:a.uploadedByName||t.updatedByName||"",uploadedByEmail:a.uploadedByEmail||t.updatedByEmail||a.uploadedBy||t.updatedBy||""})})}),e},[j]),D=(0,a.useMemo)(()=>f.filter(e=>{let t=`${e.category||""} ${e.documentType||""}`.toLowerCase();return t.includes("contract")||t.includes("agreement")||t.includes("nda")}),[f]),G=e=>t=>{C(a=>({...a,[e]:t.target.value}))},H=async e=>{if(e.preventDefault(),y){k(!0),$(""),R("");try{var t;await o.hrisApi.templates.create({templateName:T.templateName,category:T.category,documentType:T.documentType,classification:T.classification,version:T.version,status:T.status,tags:(t=T.tags,String(t||"").split(",").map(e=>e.trim()).filter(Boolean)),contentRef:T.contentRef,changeNote:T.changeNote}),C(m),R("Template uploaded and versioned."),await B()}catch(e){$(e.message||"Unable to create template.")}finally{k(!1)}}},_=async(e,t)=>{if(w&&y){k(!0),$(""),R("");try{await o.hrisApi.templates.update(w,e),R(t),await B()}catch(e){$(e.message||"Unable to update template.")}finally{k(!1)}}},M=async e=>{if(e&&y){k(!0),$(""),R("");try{await o.hrisApi.templates.archive(e),R("Template archived."),e===w&&S(""),await B()}catch(e){$(e.message||"Unable to archive template.")}finally{k(!1)}}},V=async e=>{let t=String(e?.employeeRecordId||"").trim();if(!t)return void $("Unable to open document. Missing employee record reference.");try{let a=await o.hrisApi.employees.logDocumentAccess(t,{documentId:String(e?.documentId||"").trim(),documentName:String(e?.name||"").trim(),documentType:String(e?.type||"").trim(),documentRef:String(e?.ref||"").trim(),documentStoragePath:String(e?.storagePath||"").trim()}),s=String(a?.accessUrl||"").trim();if(!s)throw Error("Document access URL is unavailable.");window.open(s,"_blank","noopener,noreferrer")}catch(e){$(e?.message||"Document access is blocked by security policy.")}};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(r.default,{tabs:I,value:g,onChange:b}),U?(0,t.jsx)("p",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:U}):null,P?(0,t.jsx)("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:P}):null,y?(0,t.jsx)(s.default,{title:"Upload / Manage Template",subtitle:"Version-controlled templates with tagging and restricted classifications",children:(0,t.jsxs)("form",{className:"grid gap-2 md:grid-cols-3",onSubmit:H,children:[(0,t.jsx)("input",{required:!0,value:T.templateName,onChange:G("templateName"),placeholder:"Template name",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:T.category,onChange:G("category"),placeholder:"Category",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:T.documentType,onChange:G("documentType"),placeholder:"Type",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:T.version,onChange:G("version"),placeholder:"Version",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:T.tags,onChange:G("tags"),placeholder:"Tags (comma separated)",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:T.contentRef,onChange:G("contentRef"),placeholder:"File URL / reference",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:T.changeNote,onChange:G("changeNote"),placeholder:"Change note",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("div",{className:"md:col-span-3",children:(0,t.jsx)("button",{type:"submit",disabled:O,className:"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:O?"Saving...":"Upload Template"})})]})}):null,(0,t.jsx)(s.default,{title:"employee-docs"===g?h?"Documents":"Employee Documents":"contracts"===g?"Contracts & Agreements":"versions"===g?"Version History":"upload-audit"===g?"Upload Audit Logs":"Templates Library",subtitle:h?"Attached files from your employee record.":"Permission-based template and document access",children:E?(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Loading template repository..."}):"employee-docs"===g?0===L.length?(0,t.jsx)(i.default,{title:h?"No files yet":"No employee documents yet",subtitle:h?"Files attached to your profile will appear here.":"Uploaded employee documents will appear here."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[h?null:(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Document"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Type"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Uploaded"}),h?null:(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Uploaded By"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Action"})]})}),(0,t.jsx)("tbody",{children:L.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[h?null:(0,t.jsxs)("td",{className:"px-2 py-3",children:[(0,t.jsx)("p",{className:"font-medium text-slate-900",children:e.employee}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:e.employeeEmail})]}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.name}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.type}),(0,t.jsx)("td",{className:"px-2 py-3",children:p(e.uploadedAt)}),h?null:(0,t.jsxs)("td",{className:"px-2 py-3 text-xs text-slate-600",children:[(0,t.jsx)("p",{className:"font-medium text-slate-800",children:x(e.uploadedByName,e.uploadedBy)}),u(e.uploadedByEmail||e.uploadedBy)?(0,t.jsx)("p",{className:"truncate text-[11px] text-slate-500",children:u(e.uploadedByEmail||e.uploadedBy)}):null]}),(0,t.jsx)("td",{className:"px-2 py-3 text-right",children:String(e.ref||e.storagePath||"").trim()?(0,t.jsx)("button",{type:"button",onClick:()=>V(e),className:"inline-flex h-7 items-center rounded-md border border-sky-200 bg-sky-50 px-2.5 text-[11px] font-semibold text-sky-700 transition hover:bg-sky-100",children:"Open"}):(0,t.jsx)("span",{className:"text-xs text-slate-400",children:"No file link"})})]},e.id))})]})}):"contracts"===g?0===D.length?(0,t.jsx)(i.default,{title:"No contracts or agreements found",subtitle:"Contract-type templates will appear in this section."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Template"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Category"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Version"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Updated"})]})}),(0,t.jsx)("tbody",{children:D.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,t.jsx)("td",{className:"px-2 py-3 font-medium text-slate-900",children:e.templateName||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.category||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.version||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:(0,t.jsx)(l.default,{value:e.status||"-"})}),(0,t.jsx)("td",{className:"px-2 py-3",children:p(e.updatedAt||e.createdAt)})]},e.id))})]})}):"versions"===g?J?0===(J.versionHistory||[]).length?(0,t.jsx)(i.default,{title:"No historical versions yet",subtitle:"Version changes will be recorded after updates."}):(0,t.jsx)("div",{className:"space-y-2",children:(J.versionHistory||[]).map((e,a)=>(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-700",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold text-slate-900",children:e.version||"v1.0"})," changed by"," ",(0,t.jsx)("span",{className:"font-medium",children:x(e.changedByName,e.changedBy)}),u(e.changedByEmail||e.changedBy)?(0,t.jsxs)("span",{className:"text-slate-500",children:[" (",u(e.changedByEmail||e.changedBy),")"]}):null]}),(0,t.jsx)("p",{className:"mt-1 text-slate-500",children:p(e.changedAt)}),(0,t.jsx)("p",{className:"mt-1",children:e.note||"-"})]},`${e.changedAt}-${a}`))}):(0,t.jsx)(i.default,{title:"No template selected",subtitle:"Select a template from the library to inspect version history."}):"upload-audit"===g?J?0===(J.modificationLog||[]).length?(0,t.jsx)(i.default,{title:"No upload logs yet",subtitle:"Template upload and update logs will appear here."}):(0,t.jsx)("div",{className:"space-y-2",children:(J.modificationLog||[]).map((e,a)=>(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-700",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold text-slate-900",children:e.action||"update"})," by"," ",(0,t.jsx)("span",{className:"font-medium",children:x(e.byName,e.by)}),u(e.byEmail||e.by)?(0,t.jsxs)("span",{className:"text-slate-500",children:[" (",u(e.byEmail||e.by),")"]}):null," ","| version ",e.version||"-"]}),(0,t.jsx)("p",{className:"mt-1 text-slate-500",children:p(e.at)})]},`${e.at}-${a}`))}):(0,t.jsx)(i.default,{title:"No template selected",subtitle:"Select a template from the library to inspect upload logs."}):0===f.length?(0,t.jsx)(i.default,{title:"No templates yet",subtitle:"Upload template files and metadata to populate the repository."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Template"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Category"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Version"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Classification"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Tags"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:f.map(e=>(0,t.jsxs)("tr",{className:`border-b border-slate-100 text-slate-700 last:border-b-0 ${e.id===w?"bg-sky-50/50":""}`,children:[(0,t.jsx)("td",{className:"px-2 py-3 font-medium text-slate-900",children:e.templateName||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.category||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.version||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.classification||"-"}),(0,t.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:(e.tags||[]).join(", ")||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:(0,t.jsx)(l.default,{value:e.status||"-"})}),(0,t.jsx)("td",{className:"px-2 py-3 text-right",children:(0,t.jsxs)("div",{className:"inline-flex flex-wrap items-center justify-end gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>S(e.id),className:"rounded-lg border border-slate-300 bg-white px-2.5 py-1.5 text-xs font-medium text-slate-700 transition hover:bg-slate-50",children:"Select"}),y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{type:"button",onClick:()=>_({version:"v1.0"===e.version?"v1.1":e.version,changeNote:"Template metadata update"},"Template version updated."),disabled:O,className:"rounded-lg border border-sky-200 bg-sky-50 px-2.5 py-1.5 text-xs font-medium text-sky-700 transition hover:bg-sky-100 disabled:opacity-60",children:"New Version"}),(0,t.jsx)("button",{type:"button",onClick:()=>M(e.id),disabled:O,className:"rounded-lg border border-rose-200 bg-rose-50 px-2.5 py-1.5 text-xs font-medium text-rose-700 transition hover:bg-rose-100 disabled:opacity-60",children:"Archive"})]}):null]})})]},e.id))})]})})})]})}e.s(["default",()=>h])}]);