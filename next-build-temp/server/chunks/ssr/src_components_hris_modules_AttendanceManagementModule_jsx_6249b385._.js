module.exports=[39727,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(72131),e=a.i(44036),f=a.i(63824),g=a.i(3427),h=a.i(51084);a.i(68248);var i=a.i(63609);let j=[{id:"morning",sourceShift:"6:00 AM - 2:00 PM",assignedShift:"8:00 AM - 4:00 PM",onTimeLabel:"7:30 AM - 8:00 AM",earlyLabel:"Before 7:30 AM",lateLabel:"After 8:00 AM",startMinute:360,endMinute:840,onTimeStartMinute:450,onTimeEndMinute:480},{id:"afternoon",sourceShift:"2:00 PM - 10:00 PM",assignedShift:"4:00 PM - 12:00 AM",onTimeLabel:"3:30 PM - 4:00 PM",earlyLabel:"Before 3:30 PM",lateLabel:"After 4:00 PM",startMinute:840,endMinute:1320,onTimeStartMinute:930,onTimeEndMinute:960},{id:"graveyard",sourceShift:"10:00 PM - 6:00 AM",assignedShift:"12:00 AM - 8:00 AM",onTimeLabel:"11:30 PM - 12:00 AM",earlyLabel:"Before 11:30 PM",lateLabel:"After 12:00 AM",startMinute:1320,endMinute:360,onTimeStartMinute:1410,onTimeEndMinute:0,wrapsMidnight:!0}];function k(a){let b=String(a||"").trim();return b.length>0&&"-"!==b}function l(a){let b=a instanceof Date?a:new Date(a||"");if(Number.isNaN(b.getTime()))return"";let c=b.getFullYear(),d=`${b.getMonth()+1}`.padStart(2,"0"),e=`${b.getDate()}`.padStart(2,"0");return`${c}-${d}-${e}`}function m(a){let b=String(a||"").trim();if(!b)return"";let c=b.match(/^(\d{4}-\d{2}-\d{2})/);return c?.[1]?c[1]:l(b)}function n(a){let b=String(a||"").trim();if(!b||"-"===b)return null;let c=b.match(/^(\d{1,2}):(\d{2})\s*(AM|PM)$/i);if(c){let a=Number.parseInt(c[1],10),b=Number.parseInt(c[2],10),d=c[3].toUpperCase();return Number.isNaN(a)||Number.isNaN(b)||b<0||b>59||a<1||a>12?null:60*(a%12+12*("PM"===d))+b}let d=b.match(/^(\d{1,2}):(\d{2})$/);if(!d)return null;let e=Number.parseInt(d[1],10),f=Number.parseInt(d[2],10);return Number.isNaN(e)||Number.isNaN(f)||e<0||e>23||f<0||f>59?null:60*e+f}function o(a){let b=a instanceof Date?a:new Date(a||"");return Number.isNaN(b.getTime())?"-":new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).format(b)}function p(a){let b=new Date(a||"");return Number.isNaN(b.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric"}).format(b)}function q(a){return Number.isFinite(a)&&j.find(b=>b.wrapsMidnight?a>=b.startMinute||a<b.endMinute:a>=b.startMinute&&a<b.endMinute)||j[0]}function r(a,b){return Number.isFinite(a)?b.wrapsMidnight?a>=b.startMinute&&a<b.onTimeStartMinute?"Early":a>=b.onTimeStartMinute&&a<1440||a===b.onTimeEndMinute?"On Time":"Late":a<b.onTimeStartMinute?"Early":a<=b.onTimeEndMinute?"On Time":"Late":"Recorded"}function s(a){let b=m(a.date||a.createdAt);if(!b)return new Date(a.updatedAt||a.createdAt||0).getTime();let c=n(a.checkIn),[d,e,f]=b.split("-").map(a=>Number.parseInt(a,10));return new Date(d,(e||1)-1,f||1,Number.isFinite(c)?Math.floor(c/60):0,Number.isFinite(c)?c%60:0).getTime()}function t(a){return Number.isFinite(a)?`${(a/60).toFixed(2)} h`:"-"}function u(a){let b=String(a||"").trim().toLowerCase();return"early"===b?"bg-cyan-100 text-cyan-700":"on time"===b?"bg-emerald-100 text-emerald-700":"late"===b?"bg-amber-100 text-amber-700":"completed"===b?"bg-emerald-100 text-emerald-700":""}function v(a,b,c="System"){let d=String(a||"").trim();if(d)return d;let e=String(b||"").trim();return e?e.includes("@")?(0,h.formatNameFromEmail)(e,{fallbackLabel:c}):e:c}function w(a){let b=String(a||"").trim();return b&&b.includes("@")?b.toLowerCase():""}function x(a){return String(a||"").trim()||"/avatars/default-user.svg"}function y({session:a}){let y=a?.email||"",z=a?.firstName||"",A=a?.middleName||"",B=a?.lastName||"",C=String(a?.role||"EMPLOYEE_L1").trim().toUpperCase().startsWith("EMPLOYEE_"),D=(0,d.useMemo)(()=>(0,h.formatPersonName)({firstName:z,middleName:A,lastName:B,fallbackEmail:y,fallbackLabel:"Employee"}),[y,z,B,A]),E=(0,d.useMemo)(()=>String(D||"").split(" ").map(a=>a.trim()).filter(Boolean).slice(0,2).map(a=>a.charAt(0).toUpperCase()).join("")||"EM",[D]),[F,G]=(0,d.useState)("monitoring-dashboard"),[H,I]=(0,d.useState)([]),[J,K]=(0,d.useState)(!0),[L,M]=(0,d.useState)(!1),[N,O]=(0,d.useState)(""),[P,Q]=(0,d.useState)(""),[R,S]=(0,d.useState)(!1),[T,U]=(0,d.useState)(()=>new Date),[V,W]=(0,d.useState)("all");(0,d.useEffect)(()=>{let a=window.setInterval(()=>{U(new Date)},1e3);return()=>{window.clearInterval(a)}},[]);let X=(0,d.useCallback)(async()=>{K(!0),O("");try{let a=await i.hrisApi.attendance.list(C?{employeeEmail:y}:{});I(Array.isArray(a.records)?a.records:[])}catch(a){O(a.message||"Unable to load attendance records.")}finally{K(!1)}},[y,C]);(0,d.useEffect)(()=>{X()},[X]),(0,d.useEffect)(()=>{},[]);let Y=60*T.getHours()+T.getMinutes(),Z=(0,d.useMemo)(()=>q(Y),[Y]),$=(0,d.useMemo)(()=>r(Y,Z),[Y,Z]),_=(0,d.useMemo)(()=>l(T),[T]),aa=(0,d.useMemo)(()=>H.filter(a=>m(a.date||a.createdAt)===_).sort((a,b)=>s(b)-s(a)),[H,_]),ab=(0,d.useMemo)(()=>aa.find(a=>k(a.checkIn)&&!k(a.checkOut))||null,[aa]),ac=(0,d.useMemo)(()=>aa.find(a=>k(a.checkIn)&&k(a.checkOut))||null,[aa]),ad=(0,d.useMemo)(()=>[...H].sort((a,b)=>s(b)-s(a)).slice(0,12),[H]),ae=(0,d.useMemo)(()=>H.map(a=>{let b,c=function(a,b){let c=n(a),d=n(b);if(!Number.isFinite(c)||!Number.isFinite(d))return null;let e=d-c;return e<0&&(e+=1440),e>=0?e:null}(a.checkIn,a.checkOut),d=String(a.status||"").trim().toLowerCase().includes("late"),e=Number.isFinite(c)&&c<480,f=Number.isFinite(c)?Math.max(0,c-480):0;return{...a,workedMinutes:c,workedHours:t(c),isLate:d,isUndertime:e,overtimeMinutes:f,overtimeHours:t(f),departmentLabel:(b=String(a?.department||"").trim())||"Unassigned"}}),[H]),af=(0,d.useMemo)(()=>{let a=ae.filter(a=>m(a.date||a.createdAt)===_),b=a.length,c=a.filter(a=>!k(a.checkIn)).length;return{total:b,absent:c,late:a.filter(a=>a.isLate).length,completed:a.filter(a=>k(a.checkIn)&&k(a.checkOut)).length}},[ae,_]),ag=(0,d.useMemo)(()=>ae.filter(a=>Number.isFinite(a.overtimeMinutes)&&a.overtimeMinutes>0),[ae]),ah=(0,d.useMemo)(()=>{let a=new Map;return ae.forEach(b=>{let c=b.departmentLabel,d=a.get(c)||{department:c,total:0,late:0,absent:0,completed:0};d.total+=1,b.isLate&&(d.late+=1),k(b.checkIn)||(d.absent+=1),k(b.checkIn)&&k(b.checkOut)&&(d.completed+=1),a.set(c,d)}),[...a.values()].sort((a,b)=>b.total-a.total)},[ae]),ai=(0,d.useMemo)(()=>{let a=new Map;return ae.forEach(b=>{let c=m(b.date||b.createdAt);if(!c)return;let d=a.get(c)||{dateKey:c,total:0,late:0,absent:0};d.total+=1,b.isLate&&(d.late+=1),k(b.checkIn)||(d.absent+=1),a.set(c,d)}),[...a.values()].sort((a,b)=>String(b.dateKey).localeCompare(String(a.dateKey))).slice(0,7)},[ae]),aj=(0,d.useMemo)(()=>"late"===V?ae.filter(a=>a.isLate):"undertime"===V?ae.filter(a=>a.isUndertime):"overtime"===V?ae.filter(a=>Number.isFinite(a.overtimeMinutes)&&a.overtimeMinutes>0):"completed"===V?ae.filter(a=>k(a.checkIn)&&k(a.checkOut)):"active"===V?ae.filter(a=>k(a.checkIn)&&!k(a.checkOut)):"absent"===V?ae.filter(a=>!k(a.checkIn)):ae,[ae,V]),ak=async()=>{if(C){if(!y)return void O("Signed-in employee email is required.");if(ab){O("You already have an active clock-in record for today."),Q("");return}if(ac){O("Today's attendance is already completed."),Q("");return}M(!0),O(""),Q("");try{let a=new Date,b=l(a),c=60*a.getHours()+a.getMinutes(),d=q(c),e=r(c,d),f=o(a),g=`Shift assigned: ${d.assignedShift}. Arrival: ${e}.`,h=aa.find(a=>!k(a.checkIn)),j={employeeEmail:y,employee:D||y,date:b,checkIn:f,checkOut:"",status:e,reason:g};h?.id?await i.hrisApi.attendance.update(h.id,j):await i.hrisApi.attendance.create(j),Q(`Clock-in recorded at ${f}.`),await X()}catch(a){O(a.message||"Unable to clock in.")}finally{M(!1)}}},al=async()=>{if(C){if(!ab?.id){O("No active clock-in record found for today."),Q("");return}M(!0),O(""),Q("");try{var a;let b,c,d=new Date,e=o(d);await i.hrisApi.attendance.update(ab.id,{checkOut:e,status:"Completed",reason:(a=ab.reason,b=String(a||"").trim(),c=`Clock-out: ${e}`,b?b.toLowerCase().includes("clock-out")?b:`${b} | ${c}`:c)}),Q(`Clock-out recorded at ${e}.`),await X()}catch(a){O(a.message||"Unable to clock out.")}finally{M(!1)}}};if(C){let a,d=!L&&!ab&&!ac,h=!L&&!!ab;return(0,b.jsxs)("div",{className:"space-y-4",children:[N?(0,b.jsx)("p",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:N}):null,P?(0,b.jsx)("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:P}):null,"monitoring-dashboard"===F?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"rounded-2xl border border-sky-200 bg-white px-4 py-3 shadow-[0_12px_30px_-24px_rgba(15,23,42,0.55)]",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsx)("p",{className:"text-base font-semibold text-slate-900",children:"Clock-in Information"}),(0,b.jsx)("button",{type:"button",onClick:()=>S(a=>!a),"aria-label":R?"Hide clock-in information details":"Show clock-in information details","aria-expanded":R,className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-sky-300 bg-sky-50 text-sm font-semibold text-sky-700 transition hover:bg-sky-100",children:"?"})]})}),R?(0,b.jsx)("div",{className:"absolute inset-x-0 top-[calc(100%+0.5rem)] z-20 flex justify-end",children:(0,b.jsxs)("div",{className:"w-full max-w-[820px] rounded-2xl border border-sky-200 bg-white p-4 shadow-[0_24px_50px_-30px_rgba(14,116,214,0.55)]",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-base font-semibold text-slate-900",children:"Clock-in Information"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Everything you need to know before clocking in"})]}),(0,b.jsx)("button",{type:"button",onClick:()=>S(!1),"aria-label":"Close clock-in information details",className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-slate-500 transition hover:bg-slate-100 hover:text-slate-700",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4","aria-hidden":"true",children:(0,b.jsx)("path",{d:"M6 6l12 12M18 6l-12 12"})})})]}),(0,b.jsxs)("div",{className:"mt-3 space-y-2 text-sm text-slate-700",children:[(0,b.jsxs)("p",{children:["Date: ",(0,b.jsx)("span",{className:"font-semibold text-slate-900",children:Number.isNaN((a=T instanceof Date?T:new Date(T||"")).getTime())?"-":new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).format(a)})]}),(0,b.jsxs)("p",{children:["Current Time: ",(0,b.jsx)("span",{className:"font-semibold text-slate-900",children:o(T)})]}),(0,b.jsxs)("p",{children:["If you clock in now, your shift will be:"," ",(0,b.jsx)("span",{className:"font-semibold text-sky-700",children:Z.assignedShift})]}),(0,b.jsxs)("p",{children:["Attendance Status: ",(0,b.jsx)("span",{className:"font-semibold text-sky-700",children:$})]})]}),(0,b.jsxs)("div",{className:"mt-3 rounded-xl border border-sky-100 bg-sky-50/50 p-3",children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-slate-700",children:[(0,b.jsx)("span",{className:"mr-2 inline-block h-2 w-2 rounded-full bg-sky-500 align-middle"}),"Clock in anytime. The system will automatically assign your shift."]}),(0,b.jsx)("div",{className:"mt-3 grid gap-3 lg:grid-cols-3",children:j.map(a=>{let c=a.id===Z.id;return(0,b.jsxs)("article",{className:`rounded-xl border p-3 ${c?"border-sky-300 bg-white":"border-slate-200 bg-white/80"}`,children:[(0,b.jsxs)("p",{className:"text-sm font-semibold text-slate-900",children:[a.sourceShift," ","->"," ",a.assignedShift]}),(0,b.jsxs)("p",{className:"mt-2 text-xs text-slate-600",children:["On Time: ",(0,b.jsx)("span",{className:"font-medium text-slate-900",children:a.onTimeLabel})]}),(0,b.jsxs)("p",{className:"mt-1 text-xs text-slate-600",children:["Early: ",(0,b.jsx)("span",{className:"font-medium text-slate-900",children:a.earlyLabel})]}),(0,b.jsxs)("p",{className:"mt-1 text-xs text-slate-600",children:["Late: ",(0,b.jsx)("span",{className:"font-medium text-slate-900",children:a.lateLabel})]})]},a.id)})})]})]})}):null]}),(0,b.jsx)(e.default,{title:"Your Profile",subtitle:"Clock-in and clock-out controls",children:(0,b.jsx)("div",{className:"rounded-xl border border-slate-200 bg-slate-50/80 px-4 py-5",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3 text-center",children:[(0,b.jsx)("span",{className:"inline-flex h-20 w-20 items-center justify-center rounded-full bg-slate-900 text-xl font-semibold text-white",children:E}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:D}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:y})]}),(0,b.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:ak,disabled:!d,className:"inline-flex h-9 items-center rounded-full bg-emerald-600 px-4 text-xs font-semibold text-white transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-60",children:L?"Processing...":`Clock In (${Z.assignedShift} - ${$})`}),(0,b.jsx)("button",{type:"button",onClick:al,disabled:!h,className:"inline-flex h-9 items-center rounded-full bg-rose-600 px-4 text-xs font-semibold text-white transition hover:bg-rose-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Clock Out"})]}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"You can clock in anytime. The system automatically determines your attendance status."}),ab?(0,b.jsxs)("p",{className:"text-xs font-medium text-emerald-700",children:["Active record started at ",ab.checkIn||"-"]}):null,ac?(0,b.jsx)("p",{className:"text-xs font-medium text-slate-600",children:"Today's attendance is already completed."}):null]})})})]}):null,"records"===F?(0,b.jsx)(e.default,{title:"Attendance Records",subtitle:"Latest attendance logs from your account",children:J?(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Loading attendance data..."}):0===ad.length?(0,b.jsx)(f.default,{title:"No attendance records yet",subtitle:"Your clock-in and clock-out activity will appear here."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Date"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock In"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock Out"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Shift"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Summary"})]})}),(0,b.jsx)("tbody",{children:ad.map(a=>{let c,d,e=k(a.checkOut)?"Completed":a.status||"Recorded";return(0,b.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-2 py-3 font-medium text-slate-900",children:p(a.date||a.createdAt)}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.checkIn||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.checkOut||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:Number.isFinite(c=n(a.checkIn))?q(c).assignedShift:"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)(g.default,{value:e,className:u(e)})}),(0,b.jsx)("td",{className:"max-w-[460px] px-2 py-3 text-xs text-slate-600",children:(d=String(a.reason||"").trim())||(k(a.checkOut)?"Attendance completed and logged.":k(a.checkIn)?"Clock-in recorded.":"No summary available.")})]},a.id)})})]})})}):null,"audit-logs"===F?(0,b.jsx)(e.default,{title:"Attendance Audit Logs",subtitle:"Modification trail for your attendance records",children:J?(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Loading attendance data..."}):0===H.length?(0,b.jsx)(f.default,{title:"No attendance audit logs yet",subtitle:"Modification trails will appear after updates."}):(0,b.jsx)("div",{className:"space-y-2",children:H.map(a=>(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[(0,b.jsxs)("p",{className:"text-sm font-semibold text-slate-900",children:[a.employee||"-"," | ",a.date||"-"]}),(0,b.jsx)("div",{className:"mt-2 space-y-1",children:0===(a.modificationTrail||[]).length?(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"No trail entries yet."}):a.modificationTrail.map((d,e)=>{let f=v(d.byName,d.byEmail||d.by,"-"),g=w(d.byEmail||d.by);return(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-2 py-1.5",children:[(0,b.jsxs)("div",{className:"flex min-w-[200px] items-center gap-2",children:[(0,b.jsx)(c.default,{src:x(d.byAvatar),alt:`${f} profile`,width:24,height:24,className:"h-6 w-6 rounded-full border border-slate-200 bg-white object-cover"}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"truncate text-xs font-medium text-slate-800",children:f}),g?(0,b.jsx)("p",{className:"truncate text-[11px] text-slate-500",children:g}):null]})]}),(0,b.jsxs)("p",{className:"text-xs text-slate-700",children:["[",p(d.at),"] ",d.action||"update"," | status: ",d.status||"-"]})]},`${a.id}-${e}`)})})]},a.id))})}):null]})}return(0,b.jsxs)("div",{className:"space-y-4",children:[N?(0,b.jsx)("p",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:N}):null,P?(0,b.jsx)("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:P}):null,(0,b.jsx)(e.default,{title:"monitoring-dashboard"===F?"Attendance Monitoring Dashboard":"records"===F?"Attendance Records":"Attendance Audit Logs",subtitle:"Daily attendance summary, monitoring, and traceability",children:J?(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Loading attendance data..."}):(0,b.jsx)(b.Fragment,{children:"monitoring-dashboard"===F?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-[0.09em] text-slate-500",children:"Daily Attendance Summary"}),(0,b.jsx)("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:af.total})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-3",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-[0.09em] text-rose-600",children:"Absent Employees"}),(0,b.jsx)("p",{className:"mt-2 text-2xl font-semibold text-rose-700",children:af.absent})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-3 py-3",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-[0.09em] text-amber-700",children:"Late Employees"}),(0,b.jsx)("p",{className:"mt-2 text-2xl font-semibold text-amber-700",children:af.late})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 px-3 py-3",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-[0.09em] text-emerald-700",children:"Overtime Reports"}),(0,b.jsx)("p",{className:"mt-2 text-2xl font-semibold text-emerald-700",children:ag.length})]})]}),(0,b.jsxs)("div",{className:"grid gap-3 xl:grid-cols-2",children:[(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-3",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Department Attendance Overview"}),0===ah.length?(0,b.jsx)("p",{className:"mt-2 text-xs text-slate-500",children:"No department attendance data yet."}):(0,b.jsx)("div",{className:"mt-2 overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-xs",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 uppercase tracking-[0.08em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-2 py-2 font-medium",children:"Department"}),(0,b.jsx)("th",{className:"px-2 py-2 font-medium",children:"Total"}),(0,b.jsx)("th",{className:"px-2 py-2 font-medium",children:"Late"}),(0,b.jsx)("th",{className:"px-2 py-2 font-medium",children:"Absent"})]})}),(0,b.jsx)("tbody",{children:ah.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-2 py-2",children:a.department}),(0,b.jsx)("td",{className:"px-2 py-2",children:a.total}),(0,b.jsx)("td",{className:"px-2 py-2",children:a.late}),(0,b.jsx)("td",{className:"px-2 py-2",children:a.absent})]},a.department))})]})})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-3",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Trends and Analytics (Last 7 days)"}),0===ai.length?(0,b.jsx)("p",{className:"mt-2 text-xs text-slate-500",children:"No trend data yet."}):(0,b.jsx)("div",{className:"mt-2 overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-xs",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 uppercase tracking-[0.08em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-2 py-2 font-medium",children:"Date"}),(0,b.jsx)("th",{className:"px-2 py-2 font-medium",children:"Total"}),(0,b.jsx)("th",{className:"px-2 py-2 font-medium",children:"Late"}),(0,b.jsx)("th",{className:"px-2 py-2 font-medium",children:"Absent"})]})}),(0,b.jsx)("tbody",{children:ai.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-2 py-2",children:p(a.dateKey)}),(0,b.jsx)("td",{className:"px-2 py-2",children:a.total}),(0,b.jsx)("td",{className:"px-2 py-2",children:a.late}),(0,b.jsx)("td",{className:"px-2 py-2",children:a.absent})]},a.dateKey))})]})})]})]})]}):"audit-logs"===F?0===H.length?(0,b.jsx)(f.default,{title:"No attendance audit logs yet",subtitle:"Modification trails will appear after updates."}):(0,b.jsx)("div",{className:"space-y-2",children:H.map(a=>(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[(0,b.jsxs)("p",{className:"text-sm font-semibold text-slate-900",children:[a.employee||"-"," | ",a.date||"-"]}),(0,b.jsx)("div",{className:"mt-2 space-y-1",children:0===(a.modificationTrail||[]).length?(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"No trail entries yet."}):a.modificationTrail.map((d,e)=>{let f=v(d.byName,d.byEmail||d.by,"-"),g=w(d.byEmail||d.by);return(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-2 py-1.5",children:[(0,b.jsxs)("div",{className:"flex min-w-[200px] items-center gap-2",children:[(0,b.jsx)(c.default,{src:x(d.byAvatar),alt:`${f} profile`,width:24,height:24,className:"h-6 w-6 rounded-full border border-slate-200 bg-white object-cover"}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"truncate text-xs font-medium text-slate-800",children:f}),g?(0,b.jsx)("p",{className:"truncate text-[11px] text-slate-500",children:g}):null]})]}),(0,b.jsxs)("p",{className:"text-xs text-slate-700",children:["[",p(d.at),"] ",d.action||"update"," | status: ",d.status||"-"]})]},`${a.id}-${e}`)})})]},a.id))}):"records"===F?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"mb-3 flex flex-wrap items-end gap-2",children:[(0,b.jsx)("label",{className:"text-xs font-semibold uppercase tracking-[0.09em] text-slate-500",htmlFor:"attendance-records-filter",children:"Records Filter"}),(0,b.jsxs)("select",{id:"attendance-records-filter",value:V,onChange:a=>W(a.target.value),className:"h-9 min-w-[220px] rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"all",children:"All records"}),(0,b.jsx)("option",{value:"late",children:"Late only"}),(0,b.jsx)("option",{value:"undertime",children:"Undertime only"}),(0,b.jsx)("option",{value:"overtime",children:"Overtime only"}),(0,b.jsx)("option",{value:"completed",children:"Completed only"}),(0,b.jsx)("option",{value:"active",children:"Active (no clock-out)"}),(0,b.jsx)("option",{value:"absent",children:"Absent (no clock-in)"})]})]}),0===aj.length?(0,b.jsx)(f.default,{title:"No matching attendance records",subtitle:"Change filter to view other attendance records."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Date"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock In"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock Out"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Worked"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Overtime"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Flags"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"})]})}),(0,b.jsx)("tbody",{children:aj.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,b.jsxs)("td",{className:"px-2 py-3",children:[(0,b.jsx)("p",{className:"font-medium text-slate-900",children:a.employee||"-"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:a.employeeEmail||"-"})]}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.date||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.checkIn||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.checkOut||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.workedHours}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.overtimeHours}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[a.isLate?(0,b.jsx)(g.default,{value:"Late",className:"bg-amber-100 text-amber-700"}):null,a.isUndertime?(0,b.jsx)(g.default,{value:"Undertime",className:"bg-rose-100 text-rose-700"}):null,a.isLate||a.isUndertime?null:(0,b.jsx)("span",{className:"text-xs text-slate-500",children:"-"})]})}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)(g.default,{value:a.status||"-",className:u(a.status)})})]},a.id))})]})})]}):(0,b.jsx)(b.Fragment,{children:0===H.length?(0,b.jsx)(f.default,{title:"No attendance records yet",subtitle:"Clock-in and clock-out entries will appear here."}):(0,b.jsx)("div",{className:"space-y-3",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Date"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock In"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock Out"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Reason"})]})}),(0,b.jsx)("tbody",{children:H.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,b.jsxs)("td",{className:"px-2 py-3",children:[(0,b.jsx)("p",{className:"font-medium text-slate-900",children:a.employee||"-"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:a.employeeEmail||"-"})]}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.date||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.checkIn||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.checkOut||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)(g.default,{value:a.status||"-"})}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:a.reason||"-"})]},a.id))})]})})})})})})]})}a.s(["default",()=>y])}];

//# sourceMappingURL=src_components_hris_modules_AttendanceManagementModule_jsx_6249b385._.js.map