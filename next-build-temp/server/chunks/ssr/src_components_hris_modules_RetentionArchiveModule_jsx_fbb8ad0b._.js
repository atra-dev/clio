module.exports=[1121,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(44036),e=a.i(63824),f=a.i(38014),g=a.i(3427),h=a.i(63609);let i=[{id:"overview",label:"Retention Overview"},{id:"records",label:"Archived Records"},{id:"purge",label:"Purge Console"}],j=[{value:"all",label:"All States"},{value:"due",label:"Due Now"},{value:"due_soon",label:"Due Soon"},{value:"scheduled",label:"Scheduled"},{value:"no_retention",label:"Missing Retention Date"}],k={due:"Due",due_soon:"Due Soon",scheduled:"Scheduled",no_retention:"No Retention Date"},l="PURGE ARCHIVED DATA",m={generatedAt:"",totalArchived:0,dueNow:0,dueWithinWindow:0,scheduledFuture:0,missingRetentionDate:0,nextDeletionAt:null,oldestArchivedAt:null,dueWithinDays:30,moduleBreakdown:[]},n={retentionYears:5,dueWithinDays:30,generatedAt:"",moduleCatalog:[]},o={q:"",module:"all",status:"all",dueWithinDays:30,page:1,pageSize:20};function p(a){let b=new Date(a||"");return Number.isNaN(b.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(b)}function q(a){return Number.isFinite(a)?a<0?`${Math.abs(a)} day(s) overdue`:0===a?"Due today":`${a} day(s) left`:"-"}function r({session:a}){let r=String(a?.role||"").trim().toUpperCase(),s="SUPER_ADMIN"===r||"GRC"===r,[t,u]=(0,c.useState)("overview"),[v,w]=(0,c.useState)(o),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(m),[D,E]=(0,c.useState)(n),[F,G]=(0,c.useState)({page:1,pageSize:20,total:0,totalPages:1}),[H,I]=(0,c.useState)(!0),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)(null),[R,S]=(0,c.useState)({cutoff:function(a){let b=new Date(a||Date.now());if(Number.isNaN(b.getTime()))return"";let c=b.getFullYear(),d=String(b.getMonth()+1).padStart(2,"0"),e=String(b.getDate()).padStart(2,"0"),f=String(b.getHours()).padStart(2,"0"),g=String(b.getMinutes()).padStart(2,"0");return`${c}-${d}-${e}T${f}:${g}`}(new Date().toISOString()),confirmation:""}),T=(0,c.useCallback)(async()=>{I(!0),M("");try{let a=await h.hrisApi.retention.list({q:v.q,module:v.module,status:v.status,dueWithinDays:v.dueWithinDays,page:v.page,pageSize:v.pageSize,view:"employee"});y(Array.isArray(a.employeeGroups)?a.employeeGroups:[]),C(a.summary&&"object"==typeof a.summary?a.summary:m),E(a.policy&&"object"==typeof a.policy?a.policy:n),G(a.pagination&&"object"==typeof a.pagination?a.pagination:{page:1,pageSize:v.pageSize,total:0,totalPages:1})}catch(a){y([]),C(m),E(n),G({page:1,pageSize:v.pageSize,total:0,totalPages:1}),M(a.message||"Unable to load retention archive data.")}finally{I(!1)}},[v]);(0,c.useEffect)(()=>{T()},[T]);let U=(0,c.useMemo)(()=>[{id:"all",label:"All Modules"},...(Array.isArray(D.moduleCatalog)?D.moduleCatalog:[]).map(a=>({id:String(a.id||""),label:String(a.label||a.id||"Module")}))],[D.moduleCatalog]),V=Math.max(0,Number(B.dueWithinWindow||0)-Number(B.dueNow||0)),W=0===F.total?0:(F.page-1)*F.pageSize+1,X=Math.min(F.total,F.page*F.pageSize),Y=(0,c.useMemo)(()=>x.find(a=>a.id===z)||null,[x,z]),Z=(a,b)=>{w(c=>({...c,[a]:b,page:1}))},$=a=>{w(b=>{let c=Math.max(1,Math.min(b.page+a,Math.max(1,F.totalPages)));return{...b,page:c}})},_=()=>{A("")},aa=async a=>{if(a.preventDefault(),M(""),O(""),!s)return void M("You do not have permission to run retention purge.");if(String(R.confirmation||"").trim().toUpperCase()!==l)return void M(`Type "${l}" to confirm purge.`);K(!0);try{let a=await h.hrisApi.retention.purge({cutoff:function(a){let b=String(a||"").trim();if(!b)return"";let c=new Date(b);return Number.isNaN(c.getTime())?"":c.toISOString()}(R.cutoff),confirmation:R.confirmation});Q(a?.result||null),O("Retention purge completed."),S(a=>({...a,confirmation:""})),await T()}catch(a){M(a.message||"Unable to run retention purge.")}finally{K(!1)}};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(f.default,{tabs:i,value:t,onChange:u}),L?(0,b.jsx)("p",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:L}):null,N?(0,b.jsx)("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:N}):null,"overview"===t?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(d.default,{title:"Total Archived",subtitle:"Records currently under retention policy",children:(0,b.jsx)("p",{className:"text-2xl font-semibold text-slate-900",children:B.totalArchived})}),(0,b.jsx)(d.default,{title:"Due Now",subtitle:"Records eligible for immediate secure deletion",children:(0,b.jsx)("p",{className:"text-2xl font-semibold text-rose-700",children:B.dueNow})}),(0,b.jsx)(d.default,{title:`Due in ${B.dueWithinDays||D.dueWithinDays} Days`,subtitle:"Upcoming retention deadlines",children:(0,b.jsx)("p",{className:"text-2xl font-semibold text-amber-700",children:V})}),(0,b.jsx)(d.default,{title:"Missing Retention Date",subtitle:"Archived records needing retention schedule",children:(0,b.jsx)("p",{className:"text-2xl font-semibold text-slate-900",children:B.missingRetentionDate})})]}),(0,b.jsxs)("div",{className:"grid gap-4 lg:grid-cols-3",children:[(0,b.jsx)(d.default,{title:"Policy Window",subtitle:"Retention policy currently enforced",children:(0,b.jsxs)("dl",{className:"space-y-2 text-sm text-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsx)("dt",{children:"Retention Period"}),(0,b.jsxs)("dd",{className:"font-semibold text-slate-900",children:[D.retentionYears," years"]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsx)("dt",{children:"Next Deletion Window"}),(0,b.jsx)("dd",{className:"font-semibold text-slate-900",children:p(B.nextDeletionAt)})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsx)("dt",{children:"Oldest Archived Record"}),(0,b.jsx)("dd",{className:"font-semibold text-slate-900",children:p(B.oldestArchivedAt)})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsx)("dt",{children:"Snapshot Generated"}),(0,b.jsx)("dd",{className:"font-semibold text-slate-900",children:p(B.generatedAt)})]})]})}),(0,b.jsx)(d.default,{title:"Lifecycle Stage",subtitle:"Retention and deletion governance flow",children:(0,b.jsxs)("ul",{className:"space-y-2 text-sm text-slate-700",children:[(0,b.jsx)("li",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:"Active employment records remain editable by authorized roles."}),(0,b.jsx)("li",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:"Separated records shift to archive-only with restricted access."}),(0,b.jsx)("li",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:"Post-retention records are securely purged with deletion evidence."})]})}),(0,b.jsx)(d.default,{title:"Archive Controls",subtitle:"Security and audit safeguards",children:(0,b.jsxs)("ul",{className:"space-y-2 text-sm text-slate-700",children:[(0,b.jsx)("li",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:"Archived datasets are read-only and traceable."}),(0,b.jsx)("li",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:"Purge execution requires explicit confirmation phrase."}),(0,b.jsx)("li",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:"Every purge result is recorded in audit logs."})]})})]}),(0,b.jsx)(d.default,{title:"Module Breakdown",subtitle:"Archived records by module",children:Array.isArray(B.moduleBreakdown)&&B.moduleBreakdown.length>0?(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Module"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Archived Records"})]})}),(0,b.jsx)("tbody",{children:B.moduleBreakdown.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-2 py-3 text-slate-800",children:a.label}),(0,b.jsx)("td",{className:"px-2 py-3 font-semibold text-slate-900",children:a.count})]},`retention-breakdown-${a.id}`))})]})}):(0,b.jsx)(e.default,{title:"No archived records yet",subtitle:"Archive counts will appear once retention records exist."})})]}):null,"records"===t?(0,b.jsxs)(d.default,{title:"Archived Records",subtitle:"Filter archive inventory and retention deletion state",children:[(0,b.jsxs)("div",{className:"grid gap-2 md:grid-cols-5",children:[(0,b.jsx)("input",{value:v.q,onChange:a=>Z("q",a.target.value),placeholder:"Search employee, module, reason",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 placeholder:text-slate-400 focus:border-sky-400 focus:outline-none md:col-span-2"}),(0,b.jsx)("select",{value:v.module,onChange:a=>Z("module",a.target.value),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:U.map(a=>(0,b.jsx)("option",{value:a.id,children:a.label},`retention-module-${a.id}`))}),(0,b.jsx)("select",{value:v.status,onChange:a=>Z("status",a.target.value),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:j.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},`retention-status-${a.value}`))}),(0,b.jsx)("input",{type:"number",min:1,max:365,value:v.dueWithinDays,onChange:a=>{let b;return Z("dueWithinDays",Number.isFinite(b=Number.parseInt(String(a.target.value??""),10))?b:30)},className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none","aria-label":"Due within days"})]}),(0,b.jsx)("div",{className:"mt-4",children:H?(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Loading archived employee groups..."}):0===x.length?(0,b.jsx)(e.default,{title:"No archived employee groups found",subtitle:"Adjust filters or archive records from lifecycle/offboarding flows."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Modules"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Archived Data"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Archived At"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Retention Delete At"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Deletion State"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Countdown"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:x.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,b.jsxs)("td",{className:"px-2 py-3",children:[(0,b.jsx)("p",{className:"font-medium text-slate-900",children:a.employeeName||"Employee"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:a.employeeEmail||"-"})]}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[Array.isArray(a.moduleBreakdown)&&a.moduleBreakdown.length>0?a.moduleBreakdown.slice(0,3).map(c=>(0,b.jsxs)("span",{className:"inline-flex rounded-md border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] text-slate-700",children:[c.moduleLabel," (",c.count,")"]},`${a.id}-${c.moduleId}`)):(0,b.jsx)("span",{className:"text-xs text-slate-500",children:"-"}),Array.isArray(a.moduleBreakdown)&&a.moduleBreakdown.length>3?(0,b.jsxs)("span",{className:"inline-flex rounded-md border border-slate-200 bg-white px-2 py-0.5 text-[11px] text-slate-600",children:["+",a.moduleBreakdown.length-3]}):null]})}),(0,b.jsxs)("td",{className:"px-2 py-3 text-xs text-slate-600",children:[a.totalRecords||0," item(s)"]}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:p(a.archivedAt)}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:p(a.retentionDeleteAt)}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)(g.default,{value:k[a.deletionState]||a.deletionState||"Unknown"})}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:q(a.daysToDeletion)}),(0,b.jsx)("td",{className:"px-2 py-3 text-right",children:(0,b.jsx)("button",{type:"button",onClick:()=>{A(String(a.id||"").trim())},className:"inline-flex h-8 items-center justify-center rounded-lg border border-slate-300 bg-white px-3 text-xs font-medium text-slate-700 transition hover:bg-slate-100",children:"View"})})]},a.id))})]})})}),(0,b.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:[(0,b.jsxs)("p",{children:["Showing ",W,"-",X," of ",F.total," employees"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>$(-1),disabled:F.page<=1||H,className:"inline-flex h-8 items-center justify-center rounded-lg border border-slate-300 bg-white px-3 font-medium text-slate-700 transition hover:bg-slate-100 disabled:opacity-60",children:"Previous"}),(0,b.jsxs)("span",{className:"text-slate-700",children:["Page ",F.page," of ",Math.max(1,F.totalPages)]}),(0,b.jsx)("button",{type:"button",onClick:()=>$(1),disabled:F.page>=F.totalPages||H,className:"inline-flex h-8 items-center justify-center rounded-lg border border-slate-300 bg-white px-3 font-medium text-slate-700 transition hover:bg-slate-100 disabled:opacity-60",children:"Next"})]})]}),Y?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 p-4",role:"dialog","aria-modal":"true","aria-label":"Retention Group Details",onClick:_,children:(0,b.jsxs)("div",{className:"w-full max-w-6xl rounded-2xl border border-slate-200 bg-white p-4 shadow-2xl sm:p-5",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"mb-3 flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-base font-semibold text-slate-900",children:"Retention Details"}),(0,b.jsxs)("p",{className:"text-sm text-slate-600",children:[Y.employeeName||"Employee"," ",Y.employeeEmail?`(${Y.employeeEmail})`:""]})]}),(0,b.jsx)("button",{type:"button",onClick:_,className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50","aria-label":"Close retention details",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-4 w-4","aria-hidden":"true",children:(0,b.jsx)("path",{d:"m6 6 12 12M18 6 6 18"})})})]}),(0,b.jsxs)("div",{className:"mb-3 grid gap-2 sm:grid-cols-3",children:[(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Archived Data"}),(0,b.jsx)("p",{className:"mt-1 text-base font-semibold text-slate-900",children:Y.totalRecords||0})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Next Deletion"}),(0,b.jsx)("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:p(Y.retentionDeleteAt)})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Deletion State"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)(g.default,{value:k[Y.deletionState]||Y.deletionState||"Unknown"})})]})]}),(0,b.jsx)("div",{className:"max-h-[50vh] overflow-auto rounded-lg border border-slate-200",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Module"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Record"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Archived At"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Retention Delete At"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"State"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Countdown"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Reason"})]})}),(0,b.jsx)("tbody",{children:(Y.records||[]).map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-2 py-3 text-slate-900",children:a.moduleLabel||"-"}),(0,b.jsxs)("td",{className:"px-2 py-3",children:[(0,b.jsx)("p",{className:"font-medium text-slate-900",children:a.title||a.recordId||"-"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:a.subtitle||"-"})]}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:p(a.archivedAt)}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:p(a.retentionDeleteAt)}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)(g.default,{value:k[a.deletionState]||a.deletionState||"Unknown"})}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:q(a.daysToDeletion)}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:a.archiveReason||"-"})]},a.id))})]})})]})}):null]}):null,"purge"===t?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(d.default,{title:"Purge Readiness",subtitle:"Deletion scope based on current retention state",children:(0,b.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-[0.08em] text-slate-500",children:"Due Now"}),(0,b.jsx)("p",{className:"mt-1 text-lg font-semibold text-rose-700",children:B.dueNow})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-[0.08em] text-slate-500",children:"Due Window"}),(0,b.jsx)("p",{className:"mt-1 text-lg font-semibold text-amber-700",children:B.dueWithinWindow})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-[0.08em] text-slate-500",children:"Scheduled Future"}),(0,b.jsx)("p",{className:"mt-1 text-lg font-semibold text-slate-900",children:B.scheduledFuture})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-[0.08em] text-slate-500",children:"Missing Retention Date"}),(0,b.jsx)("p",{className:"mt-1 text-lg font-semibold text-slate-900",children:B.missingRetentionDate})]})]})}),(0,b.jsxs)(d.default,{title:"Run Retention Purge",subtitle:"Purge removes records with retentionDeleteAt less than or equal to cutoff",children:[(0,b.jsxs)("form",{className:"grid gap-3 md:grid-cols-3",onSubmit:aa,children:[(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-xs font-medium uppercase tracking-[0.08em] text-slate-600",children:"Cutoff Date & Time"}),(0,b.jsx)("input",{type:"datetime-local",value:R.cutoff,onChange:a=>S(b=>({...b,cutoff:a.target.value})),className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,b.jsx)("span",{className:"text-xs font-medium uppercase tracking-[0.08em] text-slate-600",children:"Confirmation Phrase"}),(0,b.jsx)("input",{value:R.confirmation,onChange:a=>S(b=>({...b,confirmation:a.target.value})),placeholder:l,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 placeholder:text-slate-400 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("div",{className:"md:col-span-3 flex items-center justify-between gap-3",children:[(0,b.jsxs)("p",{className:"text-xs text-slate-600",children:["Required phrase: ",(0,b.jsx)("span",{className:"font-semibold text-slate-900",children:l})]}),(0,b.jsx)("button",{type:"submit",disabled:J||!s,className:"inline-flex h-9 items-center justify-center rounded-lg bg-rose-600 px-4 text-xs font-semibold text-white transition hover:bg-rose-700 disabled:cursor-not-allowed disabled:opacity-60",children:J?"Purging...":"Run Purge"})]})]}),s?null:(0,b.jsx)("p",{className:"mt-3 text-xs text-amber-700",children:"Current role does not have retention purge permission."})]}),(0,b.jsx)(d.default,{title:"Latest Purge Result",subtitle:"Most recent deletion outcome from this console",children:P?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("p",{className:"text-xs text-slate-600",children:["Cutoff: ",p(P.cutoff)]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Collection"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Deleted Records"})]})}),(0,b.jsxs)("tbody",{children:[Object.entries(P.deletedByCollection||{}).map(([a,c])=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-2 py-3 text-slate-800",children:a}),(0,b.jsx)("td",{className:"px-2 py-3 font-semibold text-slate-900",children:c})]},`purge-result-${a}`)),(0,b.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-2 py-3 text-slate-800",children:"user_accounts"}),(0,b.jsx)("td",{className:"px-2 py-3 font-semibold text-slate-900",children:P?.deletedUsers?.deletedUsers||0})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"px-2 py-3 text-slate-800",children:"user_invites"}),(0,b.jsx)("td",{className:"px-2 py-3 font-semibold text-slate-900",children:P?.deletedUsers?.deletedInvites||0})]})]})]})})]}):(0,b.jsx)(e.default,{title:"No purge executed yet",subtitle:"Run retention purge to view deletion metrics."})})]}):null]})}a.s(["default",()=>r])}];

//# sourceMappingURL=src_components_hris_modules_RetentionArchiveModule_jsx_fbb8ad0b._.js.map