module.exports=[13408,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(71987),e=a.i(72131),f=a.i(50944);a.i(30485);var g=a.i(31052),h=a.i(4967),i=a.i(68248),j=a.i(97630);let k={employees:[],"employment-lifecycle":[{id:"workflow-status-tracking",label:"Workflow Status Tracking"},{id:"onboarding",label:"Onboarding"},{id:"role-changes",label:"Role Changes"},{id:"disciplinary-records",label:"Disciplinary Records"},{id:"offboarding-access-revocation",label:"Offboarding + Access Revocation"}],attendance:[{id:"monitoring-dashboard",label:"Attendance Dashboard"},{id:"records",label:"Records"},{id:"audit-logs",label:"Audit Logs"}],"incident-management":[{id:"incident-dashboard",label:"Incident Dashboard"},{id:"report-incident",label:"Report Incident"},{id:"incident-list",label:"Case Management"},{id:"reports-analytics",label:"Reports & Analytics"}]},l=new Set(["profile","documents"]);function m({moduleId:a,moduleHref:c,role:d,visible:g=!0}){let h=(0,f.usePathname)(),[m,n]=(0,e.useState)(""),o=(0,e.useMemo)(()=>{let b,c=k[a]||[];return"employees"!==a?c:"EMPLOYEE"===(b=String(d||"").trim().toUpperCase())||b.startsWith("EMPLOYEE_")?c.filter(a=>l.has(a.id)):c},[a,d]);return((0,e.useEffect)(()=>{let a=()=>{};return a(),window.addEventListener("hashchange",a),()=>window.removeEventListener("hashchange",a)},[]),g&&h===c&&0!==o.length)?(0,b.jsx)("div",{className:"mt-1.5 space-y-1.5 pl-12 pr-1",children:o.map((a,c)=>{let d=(0,i.toSubTabAnchor)(a.id);return(0,b.jsx)("button",{type:"button",onClick:()=>{},className:(0,j.cn)("block w-full rounded-lg border px-2.5 py-1.5 text-left text-[11px] font-medium transition",m!==d&&(m||0!==c)?"border-transparent text-slate-600 hover:border-slate-200 hover:bg-white hover:text-slate-800":"border-sky-200 bg-sky-50 text-sky-700"),children:a.label},a.id)})}):null}var n=a.i(98719),o=a.i(5603);let p="EMPLOYEE_L1",q=new Set(o.ROLES.map(a=>a.id));function r(a){if("string"!=typeof a)return p;let b=a.trim().toUpperCase();return q.has(b)?b:p}let s={SUPER_ADMIN:["*"],GRC:["dashboard:view","employees:view","employees:edit","employees:view:sensitive","lifecycle:view","lifecycle:edit","lifecycle:approve","attendance:view","attendance:edit","attendance:approve","performance:view","performance:edit","performance:approve","templates:view","templates:edit","exports:view","exports:manage","exports:approve","exports:request","activity_log:export","activity_log:view","audit:view","access_management:view","retention_archive:view","retention_archive:manage","incident_management:view","incident_management:edit","user_management:view","user_management:manage","settings:view","audit:write:nonsensitive","auth:logout","resource:own"],HR:["dashboard:view","employees:view","employees:edit","employees:view:sensitive","lifecycle:view","lifecycle:edit","lifecycle:approve","attendance:view","attendance:edit","attendance:approve","performance:view","performance:edit","performance:approve","templates:view","templates:edit","exports:view","exports:manage","exports:approve","exports:request","activity_log:export","settings:view","audit:write:nonsensitive","auth:logout","resource:own"],EA:["dashboard:view","employees:view","employees:edit","employees:view:sensitive","lifecycle:view","lifecycle:edit","lifecycle:approve","attendance:view","attendance:edit","attendance:approve","performance:view","performance:edit","performance:approve","templates:view","templates:edit","exports:view","exports:manage","exports:approve","exports:request","activity_log:export","settings:view","audit:write:nonsensitive","auth:logout","resource:own"],EMPLOYEE_L1:["dashboard:view","employees:view","employees:edit:self","attendance:view","attendance:edit:self","performance:view","templates:view","requests:view","requests:create:self","exports:request:self","settings:view","audit:write:nonsensitive","auth:logout","resource:own"],EMPLOYEE_L2:["dashboard:view","employees:view","employees:edit:self","attendance:view","attendance:edit:self","performance:view","templates:view","requests:view","requests:create:self","exports:request:self","settings:view","audit:write:nonsensitive","auth:logout","resource:own"],EMPLOYEE_L3:["dashboard:view","employees:view","employees:edit:self","attendance:view","attendance:edit:self","performance:view","templates:view","requests:view","requests:create:self","exports:request:self","settings:view","audit:write:nonsensitive","auth:logout","resource:own"]},t={dashboard:"dashboard:view",employees:"employees:view","employment-lifecycle":"lifecycle:view",attendance:"attendance:view",performance:"performance:view","activity-log":"activity_log:view",exports:"exports:view",documents:"templates:view","access-management":"access_management:view","retention-archive":"retention_archive:view","incident-management":"incident_management:view",requests:"requests:view",settings:"settings:view","user-management":"user_management:view"};function u(a,b){let c=r(a);if(!new Set(o.MODULE_ACCESS[c]??[]).has(b))return!1;let d=t[b];if(!d)return!0;let e=s[r(c)]??[];return e.includes("*")||e.includes(d)}var v=a.i(51084),w=a.i(5877),x=a.i(74404);let y=new Map(o.MODULES.map(a=>[String(a?.href||"").trim().toLowerCase(),a.id])),z=new Map(o.MODULES.map(a=>[String(a?.label||"").trim().toLowerCase(),a.id]));function A(a){let b=String(a||"").trim().toUpperCase();return"EMPLOYEE"===b||b.startsWith("EMPLOYEE_")?"Employee":({SUPER_ADMIN:"Super Admin",GRC:"GRC",HR:"HR",EA:"EA"})[b]||"Employee"}function B(a){let b=a?new Date(a):null;return!b||Number.isNaN(b.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(b)}function C({moduleId:a,active:c}){let d=(0,j.cn)("h-4 w-4 transition-colors",c?"text-sky-700":"text-slate-500 group-hover:text-slate-700");switch(a){case"dashboard":return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:d,"aria-hidden":"true",children:[(0,b.jsx)("rect",{x:"3.5",y:"3.5",width:"7",height:"7",rx:"1.2"}),(0,b.jsx)("rect",{x:"13.5",y:"3.5",width:"7",height:"4.5",rx:"1.2"}),(0,b.jsx)("rect",{x:"13.5",y:"10.5",width:"7",height:"10",rx:"1.2"}),(0,b.jsx)("rect",{x:"3.5",y:"13",width:"7",height:"7.5",rx:"1.2"})]});case"employees":return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:d,"aria-hidden":"true",children:[(0,b.jsx)("circle",{cx:"9",cy:"8.3",r:"3.1"}),(0,b.jsx)("path",{d:"M3.8 18.3c0-3.2 2.4-5.2 5.2-5.2s5.2 2 5.2 5.2"}),(0,b.jsx)("path",{d:"M15.1 9.3a2.5 2.5 0 1 0 0-5"}),(0,b.jsx)("path",{d:"M20 18.2c0-2.3-1.3-3.9-3.4-4.7"})]});case"employment-lifecycle":return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:d,"aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M4.5 6.2h15"}),(0,b.jsx)("path",{d:"M4.5 12h15"}),(0,b.jsx)("path",{d:"M4.5 17.8h15"}),(0,b.jsx)("circle",{cx:"7.2",cy:"6.2",r:"1.2"}),(0,b.jsx)("circle",{cx:"12",cy:"12",r:"1.2"}),(0,b.jsx)("circle",{cx:"16.8",cy:"17.8",r:"1.2"})]});case"attendance":return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:d,"aria-hidden":"true",children:[(0,b.jsx)("rect",{x:"4",y:"5.2",width:"16",height:"14.2",rx:"2"}),(0,b.jsx)("path",{d:"M8 3.8v2.4M16 3.8v2.4M4 9.2h16"}),(0,b.jsx)("path",{d:"m9.1 14 1.9 1.9 4-4"})]});case"performance":return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:d,"aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M4.2 18.5h15.6"}),(0,b.jsx)("rect",{x:"6.2",y:"11.5",width:"2.8",height:"7",rx:"0.8"}),(0,b.jsx)("rect",{x:"10.6",y:"8.5",width:"2.8",height:"10",rx:"0.8"}),(0,b.jsx)("rect",{x:"15",y:"5.5",width:"2.8",height:"13",rx:"0.8"})]});case"activity-log":return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:d,"aria-hidden":"true",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"8.5"}),(0,b.jsx)("path",{d:"M12 7.4v5.1l3.6 2.2"})]});case"exports":return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:d,"aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M12 4.2v9.6"}),(0,b.jsx)("path",{d:"m8.4 10.1 3.6 3.7 3.6-3.7"}),(0,b.jsx)("rect",{x:"4",y:"15.5",width:"16",height:"4.3",rx:"1.2"})]});case"access-management":return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:d,"aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M12 3.8 5.2 6.5v5.3c0 4.1 2.5 7.7 6.8 8.4 4.3-.7 6.8-4.3 6.8-8.4V6.5L12 3.8Z"}),(0,b.jsx)("path",{d:"M9.2 12.3 11 14l3.8-3.9"})]});case"retention-archive":return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:d,"aria-hidden":"true",children:[(0,b.jsx)("rect",{x:"4.4",y:"5.2",width:"15.2",height:"4.2",rx:"1"}),(0,b.jsx)("path",{d:"M6.1 9.6h11.8v8.7a1.7 1.7 0 0 1-1.7 1.7H7.8a1.7 1.7 0 0 1-1.7-1.7V9.6Z"}),(0,b.jsx)("path",{d:"M9 13.1h6M9 16h6"})]});case"incident-management":return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:d,"aria-hidden":"true",children:[(0,b.jsx)("path",{d:"m12 3.8 8.1 14.1a1.2 1.2 0 0 1-1 1.8H4.9a1.2 1.2 0 0 1-1-1.8L12 3.8Z"}),(0,b.jsx)("path",{d:"M12 9v5.2M12 17.5h.01"})]});case"documents":return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:d,"aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M7.5 3.8h7l4 4v12.4a1.8 1.8 0 0 1-1.8 1.8H7.5a1.8 1.8 0 0 1-1.8-1.8V5.6a1.8 1.8 0 0 1 1.8-1.8Z"}),(0,b.jsx)("path",{d:"M14.5 3.8v4h4"}),(0,b.jsx)("path",{d:"M8.8 13h6.6M8.8 16.4h6.6"})]});case"requests":return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:d,"aria-hidden":"true",children:[(0,b.jsx)("rect",{x:"4",y:"4.5",width:"16",height:"15",rx:"2"}),(0,b.jsx)("path",{d:"M8 9h8M8 13h5"}),(0,b.jsx)("path",{d:"m14 16 2.1 2.1L20 14.2"})]});case"settings":return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:d,"aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M9.9 4.8h4.2l.7 2 2.1.9 1.9-1.1 2.1 3.6-1.6 1.4v2.4l1.6 1.4-2.1 3.6-1.9-1.1-2.1.9-.7 2H9.9l-.7-2-2.1-.9-1.9 1.1-2.1-3.6 1.6-1.4v-2.4l-1.6-1.4 2.1-3.6 1.9 1.1 2.1-.9.7-2Z"}),(0,b.jsx)("circle",{cx:"12",cy:"12",r:"2.7"})]});case"user-management":return(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:d,"aria-hidden":"true",children:[(0,b.jsx)("circle",{cx:"8.2",cy:"8.4",r:"2.6"}),(0,b.jsx)("circle",{cx:"16.1",cy:"9.6",r:"2.2"}),(0,b.jsx)("path",{d:"M3.9 18.7c0-2.9 2.1-4.8 4.8-4.8s4.8 1.9 4.8 4.8"}),(0,b.jsx)("path",{d:"M13.4 18.3c.3-2 1.7-3.4 3.9-3.4 2.1 0 3.4 1.1 3.8 2.9"})]});default:return(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:d,"aria-hidden":"true",children:(0,b.jsx)("circle",{cx:"12",cy:"12",r:"3"})})}}function D({className:a}){return(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",className:a,"aria-hidden":"true",children:(0,b.jsx)("path",{d:"m15 5-7 7 7 7"})})}function E({className:a}){return(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",className:a,"aria-hidden":"true",children:(0,b.jsx)("path",{d:"m9 5 7 7-7 7"})})}function F(){}function G({children:a,session:i}){var k;let l,p,q,s,t=(0,f.usePathname)(),G=(0,f.useRouter)(),H=(0,n.useToast)(),I=r(i?.role),[J,K]=(0,e.useState)(!1),[L,M]=(0,e.useState)(!1),N=i?.email??"user@gmail.com",[O,P]=(0,e.useState)(!1),[Q,R]=(0,e.useState)(null),[S,T]=(0,e.useState)({firstName:"",middleName:"",lastName:"",profilePhotoDataUrl:"",profilePhotoStoragePath:"",phoneVerifiedAt:"",phoneLast4:"",smsMfaEnabled:!1}),[U,V]=(0,e.useState)(!0),[W,X]=(0,e.useState)(!1),[Y,Z]=(0,e.useState)(!1),[$,_]=(0,e.useState)([]),[aa,ab]=(0,e.useState)(0),[ac,ad]=(0,e.useState)(!1),[ae,af]=(0,e.useState)(!1),[ag,ah]=(0,e.useState)(16),[ai,aj]=(0,e.useState)("all"),[ak,al]=(0,e.useState)({}),[am,an]=(0,e.useState)(!1),[ao,ap]=(0,e.useState)(!1),[aq,ar]=(0,e.useState)(!1),[as,at]=(0,e.useState)(!1),[au,av]=(0,e.useState)({role:String(i?.role||""),employmentRole:String(i?.role||""),employeeId:"-",employeeName:"-",employeeEmail:N,department:"-",jobTitle:"-",employmentStatus:"-",recordStatus:"-",managerEmail:"-",hireDate:"-",lastLoginAt:null,lastActiveIp:"unknown",lastActiveDevice:"Unknown device",recentActivity:[]}),aw=(0,e.useRef)(null),ax=(0,e.useRef)(null),ay=(0,e.useRef)(null),az=(0,e.useRef)(null),aA=(0,e.useRef)(null),aB=(0,e.useMemo)(()=>(0,v.formatPersonName)({firstName:Q?.firstName,middleName:Q?.middleName,lastName:Q?.lastName,fallbackEmail:N,fallbackLabel:"Clio User"}),[Q?.firstName,Q?.middleName,Q?.lastName,N]),aC=(0,e.useMemo)(()=>aB.split(" ").filter(Boolean).map(a=>a.charAt(0).toUpperCase()).slice(0,2).join("")||"CU",[aB]),aD=(0,e.useMemo)(()=>String(Q?.profilePhotoDataUrl||"").trim()||"",[Q]);(0,e.useEffect)(()=>{M("true"===window.localStorage.getItem("clio_sidebar_collapsed"))},[]),(0,e.useEffect)(()=>{window.localStorage.setItem("clio_sidebar_collapsed",String(L))},[L]),(0,e.useEffect)(()=>{let a=!0,b=0,c=[0,300,700,1200],d=async()=>{if(a){b+=1;try{let b=await fetch("/api/auth/role",{method:"GET",cache:"no-store"});if(!b.ok)throw Error("Session not ready.");await b.json().catch(()=>({})),a&&P(!0)}catch{if(!a)return;if(b<4){let a=c[Math.min(b,c.length-1)];window.setTimeout(d,a)}else P(!0)}}};return d(),()=>{a=!1}},[]),(0,e.useEffect)(()=>{let a=!0;return async function(){if(O){V(!0);try{let b=await fetch("/api/auth/profile",{method:"GET",cache:"no-store"}),c=await b.json().catch(()=>({}));if(!b.ok)throw Error(c?.message||"Unable to load account profile.");if(!a)return;let d={firstName:String(c?.firstName||""),middleName:String(c?.middleName||""),lastName:String(c?.lastName||""),profilePhotoDataUrl:String(c?.profilePhotoDataUrl||""),profilePhotoStoragePath:String(c?.profilePhotoStoragePath||""),phoneVerifiedAt:String(c?.phoneVerifiedAt||""),phoneLast4:String(c?.phoneLast4||""),smsMfaEnabled:!!c?.smsMfaEnabled};R(d),T(d)}catch(b){a&&H.error(b.message||"Unable to load account profile.")}finally{a&&V(!1)}}}(),()=>{a=!1}},[O,H,N]);let aE=(0,e.useCallback)(async({quiet:a=!1,limit:b}={})=>{if(O){a||ad(!0);try{let a="number"==typeof b?b:ag,c=await fetch(`/api/notifications?status=all&limit=${a}`,{method:"GET",cache:"no-store"}),d=await c.json().catch(()=>({}));if(!c.ok)throw Error(d?.message||"Unable to load notifications.");_(Array.isArray(d?.records)?d.records:[]),ab(Number(d?.unreadCount||0))}catch(b){a||H.error(b.message||"Unable to load notifications.")}finally{a||ad(!1)}}},[O,ag,H]);(0,e.useEffect)(()=>{if(!O)return;aE().catch(()=>null);let a=window.setInterval(()=>{aE({quiet:!0}).catch(()=>null)},3e4);return()=>{window.clearInterval(a)}},[O,aE]),(0,e.useEffect)(()=>{},[ae,Y,W,as,am,ao]);let aF=(0,e.useMemo)(()=>{let a,b;return a=r(I),b=new Set(o.MODULE_ACCESS[a]??[]),o.MODULES.filter(a=>b.has(a.id))},[I]),[aG,aH]=(0,e.useState)(""),aI=A(au.role||I),aJ=(l=String(au.employmentRole||au.role||I||"").trim().toUpperCase(),(p={EMPLOYEE:"Employee",EMPLOYEE_L1:"Employee (L1)",EMPLOYEE_L2:"Employee (L2)",EMPLOYEE_L3:"Employee (L3)"})[l]?p[l]:A(l)),aK=u(I,"settings"),aL=(0,e.useCallback)(a=>{if("device-login"===String(a?.type||"").trim().toLowerCase()||!String(a?.actionUrl||"").trim())return!1;let b=function(a){let b=function(a){let b=String(a||"").trim();if(!b)return"";try{return String(new URL(b,"https://clio.invalid").pathname||"").trim().toLowerCase()}catch{return b.split("?")[0].split("#")[0].trim().toLowerCase()}}(a?.actionUrl);if(b){let a=b.replace(/^\/+/,"").split("/")[0],c=y.get(`/${a}`);if(c)return c}let c=String(a?.module||"").trim().toLowerCase();return z.get(c)||""}(a);return!!b&&u(I,b)},[I]),aM=(0,e.useMemo)(()=>"all"===ai?$:"unread"===ai?$.filter(a=>"read"!==String(a?.status||"").trim().toLowerCase()):"read"===ai?$.filter(a=>"read"===String(a?.status||"").trim().toLowerCase()):$.filter(a=>String(a?.severity||"").trim().toLowerCase()===ai),[ai,$]);(0,e.useEffect)(()=>{aF.forEach(a=>{G.prefetch(a.href)})},[aF,G]),(0,e.useEffect)(()=>{let a;try{a=new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"medium",timeZone:"Asia/Manila",timeZoneName:"short"})}catch{a=new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"medium"})}let b=()=>aH(a.format(new Date));b();let c=window.setInterval(b,1e3);return()=>window.clearInterval(c)},[]);let aN=async()=>{K(!0);try{let a=(0,w.getFirebaseClientAuth)();await (0,g.signOut)(a).catch(()=>null),F(),await fetch("/api/auth/logout",{method:"POST"}).catch(()=>null)}finally{G.replace("/login"),G.refresh()}},aO=()=>{am||ao||as||X(!1)},aP=async a=>{let b=String(a?.id||a?.recordId||"").trim();if(b&&"read"!==String(a?.status||"").trim().toLowerCase()){af(!0);try{let a=await fetch(`/api/notifications/${encodeURIComponent(b)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({read:!0})}),c=await a.json().catch(()=>({}));if(!a.ok)throw Error(c?.message||"Unable to update notification.");_(a=>a.map(a=>String(a?.id||a?.recordId||"").trim()===b?{...a,status:"read",readAt:new Date().toISOString()}:a)),ab(a=>Math.max(0,a-1))}catch(a){H.error(a.message||"Unable to update notification.")}finally{af(!1)}}},aQ=async()=>{if(!ae){af(!0);try{let a=await fetch("/api/notifications/read-all",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limit:200})}),b=await a.json().catch(()=>({}));if(!a.ok)throw Error(b?.message||"Unable to mark notifications as read.");_(a=>a.map(a=>({...a,status:"read",readAt:a?.readAt||new Date().toISOString()}))),ab(0)}catch(a){H.error(a.message||"Unable to mark notifications as read.")}finally{af(!1)}}},aR=async a=>{if("device-login"===String(a?.type||"").trim().toLowerCase()||!aL(a))return;await aP(a);let b=String(a?.actionUrl||"").trim();b&&(Z(!1),G.push(b))},aS=async(a,b)=>{let c=String(a?.id||a?.recordId||"").trim();if(!c)return;let d=String(a?.metadata?.deviceVerificationDecision||"").trim().toLowerCase(),e="confirmed"===d?"confirm":"denied"===d?"deny":d;if("confirm"!==e&&"deny"!==e){al(a=>({...a,[c]:!0}));try{let a=await fetch("/api/auth/device-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notificationId:c,decision:b})}),d=await a.json().catch(()=>({}));if(!a.ok)throw Error(d?.message||"Unable to submit device verification.");let e=String(d?.decision||b||"").trim().toLowerCase(),f="confirmed"===e?"confirm":"denied"===e?"deny":e,g=new Date().toISOString();_(a=>a.map(a=>String(a?.id||a?.recordId||"").trim()===c?{...a,status:"read",readAt:a?.readAt||g,metadata:{...a?.metadata&&"object"==typeof a.metadata?a.metadata:{},deviceVerificationDecision:f||b,deviceVerificationResolvedAt:g,deviceVerificationResponder:N}}:a)),ab(a=>Math.max(0,a-1)),aE({quiet:!0}).catch(()=>null)}catch(a){H.error(a.message||"Unable to submit device verification.")}finally{al(a=>({...a,[c]:!1}))}}},aT=async()=>{if(O){ar(!0);try{let a=await fetch("/api/auth/profile/activity",{method:"GET",cache:"no-store"}),b=await a.json().catch(()=>({}));if(!a.ok)throw Error(b?.message||"Unable to load account insights.");av(a=>({...a,role:String(b?.role||a.role||i?.role||""),employmentRole:String(b?.employmentRole||a.employmentRole||b?.role||a.role||i?.role||""),employeeId:String(b?.employeeId||"-"),employeeName:String(b?.employeeName||"-"),employeeEmail:String(b?.employeeEmail||N),department:String(b?.department||"-"),jobTitle:String(b?.jobTitle||"-"),employmentStatus:String(b?.employmentStatus||"-"),recordStatus:String(b?.recordStatus||"-"),managerEmail:String(b?.managerEmail||"-"),hireDate:String(b?.hireDate||"-"),lastLoginAt:b?.lastLoginAt||null,lastActiveIp:String(b?.lastActiveIp||"unknown"),lastActiveDevice:String(b?.lastActiveDevice||"Unknown device"),recentActivity:Array.isArray(b?.recentActivity)?b.recentActivity:[]}))}catch(a){H.error(a.message||"Unable to load account insights.")}finally{ar(!1)}}},aU=a=>b=>{T(c=>({...c,[a]:b.target.value}))},aV=async a=>{let b=a.target.files?.[0];if(b){if(!["image/png","image/jpeg","image/jpg","image/webp"].includes(String(b.type||"").toLowerCase())){H.error("Only PNG, JPG, or WEBP images are allowed."),a.target.value="";return}if(b.size>1e6){H.error("Profile picture must be 1MB or below."),a.target.value="";return}ap(!0);try{let a=await (0,x.uploadProfilePhotoToStorage)({file:b,userEmail:N});T(b=>({...b,profilePhotoDataUrl:a.downloadUrl,profilePhotoStoragePath:a.storagePath})),H.success("Profile photo uploaded to secure storage.")}catch(a){H.error(a.message||"Unable to upload profile photo.")}finally{ap(!1),a.target.value=""}}},aW=async()=>{if(!ao&&!as){an(!0);try{let a=String(Q?.profilePhotoStoragePath||"").trim(),b=await fetch("/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:S.firstName,middleName:S.middleName,lastName:S.lastName,profilePhotoDataUrl:S.profilePhotoDataUrl||null,profilePhotoStoragePath:S.profilePhotoStoragePath||null,smsMfaEnabled:!!S.smsMfaEnabled})}),c=await b.json().catch(()=>({}));if(!b.ok)throw Error(c?.message||"Unable to save profile.");let d={firstName:String(c?.profile?.firstName||""),middleName:String(c?.profile?.middleName||""),lastName:String(c?.profile?.lastName||""),profilePhotoDataUrl:String(c?.profile?.profilePhotoDataUrl||""),profilePhotoStoragePath:String(c?.profile?.profilePhotoStoragePath||""),phoneVerifiedAt:String(c?.profile?.phoneVerifiedAt||""),phoneLast4:String(c?.profile?.phoneLast4||""),smsMfaEnabled:!!c?.profile?.smsMfaEnabled};R(d),T(d),X(!1);let e=String(d.profilePhotoStoragePath||"").trim();a&&a!==e&&(0,x.removeStorageObjectByPath)(a).catch(()=>null),H.success("Profile updated.")}catch(a){H.error(a.message||"Unable to save profile.")}finally{an(!1)}}},aX=async()=>{if(!am&&!ao&&!J&&!as){at(!0);try{let a=await fetch("/api/auth/sessions/revoke",{method:"POST"}),b=await a.json().catch(()=>({}));if(!a.ok)throw Error(b?.message||"Unable to revoke active sessions.");let c=(0,w.getFirebaseClientAuth)();await (0,g.signOut)(c).catch(()=>null),F(),H.success("All active sessions were signed out."),X(!1),G.replace("/login"),G.refresh()}catch(a){H.error(a.message||"Unable to revoke active sessions.")}finally{at(!1)}}};return(0,b.jsxs)("div",{className:"h-dvh w-full overflow-hidden bg-slate-100/80",children:[(0,b.jsx)("a",{href:"#main-content",className:"sr-only rounded-lg bg-white px-4 py-2 text-sm text-slate-900 focus:not-sr-only",children:"Skip to main content"}),(0,b.jsxs)("div",{className:(0,j.cn)("grid h-full w-full gap-0 lg:transition-[grid-template-columns] lg:duration-500 lg:ease-[cubic-bezier(0.22,1,0.36,1)]",L?"lg:grid-cols-[88px_minmax(0,1fr)]":"lg:grid-cols-[240px_minmax(0,1fr)]"),children:[(0,b.jsx)("aside",{className:(0,j.cn)("relative h-full border-r border-slate-200 bg-[linear-gradient(180deg,#f8fbff_0%,#f2f7fc_45%,#eef3f8_100%)] lg:overflow-visible",L?"px-2 py-4 lg:px-2 lg:py-4":"p-0"),children:(0,b.jsxs)("div",{className:"flex h-full min-h-0 flex-col",children:[(0,b.jsx)("div",{className:(0,j.cn)("flex transition-all duration-300 ease-out",L?"flex-col items-center gap-2":"items-stretch h-[92px] w-full"),children:(0,b.jsx)(h.default,{href:"/dashboard",iconOnly:L})}),(0,b.jsx)("button",{type:"button",onClick:()=>{M(a=>!a)},className:"absolute -right-4 top-1/2 z-30 inline-flex h-9 w-9 -translate-y-1/2 items-center justify-center rounded-md border border-sky-300 bg-white text-slate-600 shadow-sm transition hover:border-sky-400 hover:text-slate-900","aria-label":L?"Open sidebar":"Close sidebar",title:L?"Open sidebar":"Close sidebar",children:L?(0,b.jsx)(E,{className:"h-5 w-5"}):(0,b.jsx)(D,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:(0,j.cn)("mt-4 flex min-h-0 flex-1 flex-col px-2 lg:px-2.5",L&&"mt-5"),children:[(0,b.jsx)("div",{className:(0,j.cn)("overflow-hidden px-0.5 transition-all duration-300 ease-out",L?"max-h-0 opacity-0":"max-h-6 opacity-100"),children:(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.14em] text-sky-700/80",children:"Navigation"})}),(0,b.jsx)("nav",{className:(0,j.cn)("clio-sidebar-scroll mt-2 min-h-0 flex-1 space-y-1 overflow-y-auto overscroll-contain pb-3 pr-2",L?"max-h-[calc(100dvh-8.75rem)]":"max-h-[calc(100dvh-10rem)]"),"aria-label":"Main navigation",children:aF.map(a=>{var d,e;let f=t===a.href,g=(d=a.id,e=a.label,String(I||"").trim().toUpperCase().startsWith("EMPLOYEE_")&&({employees:"My Profile",attendance:"My Attendance",performance:"My Performance",documents:"My Documents"})[d]||e);return(0,b.jsxs)("div",{children:[(0,b.jsxs)(c.default,{href:a.href,prefetch:!0,"aria-current":f?"page":void 0,title:L?g:void 0,className:(0,j.cn)("group flex items-center gap-2.5 rounded-lg border py-2 text-[13px] transition",L?"justify-center px-2":"px-2",f?"border-sky-200 bg-white text-sky-700 shadow-[0_12px_28px_-20px_rgba(14,116,214,0.8)]":"border-transparent text-slate-700 hover:border-slate-200/90 hover:bg-white/75"),children:[(0,b.jsx)("span",{className:(0,j.cn)("inline-flex h-7 w-7 shrink-0 items-center justify-center transition",f?"text-sky-700":"text-slate-500 group-hover:text-slate-700"),children:(0,b.jsx)(C,{moduleId:a.id,active:f})}),(0,b.jsx)("span",{className:(0,j.cn)("overflow-hidden whitespace-nowrap font-medium leading-none transition-all duration-300 ease-out",f?"text-sky-700":"text-slate-800",L?"max-w-0 -translate-x-2 opacity-0":"max-w-[11.5rem] translate-x-0 opacity-100"),children:g})]}),(0,b.jsx)(m,{moduleId:a.id,moduleHref:a.href,role:I,visible:!L})]},a.id)})})]}),(0,b.jsx)("div",{className:"mt-auto shrink-0 pt-2"})]})}),(0,b.jsxs)("div",{className:"flex min-h-0 min-w-0 flex-col overflow-hidden",children:[(0,b.jsxs)("header",{className:"shrink-0 flex flex-col gap-3 border-b border-slate-200 bg-white/90 px-5 py-4 sm:flex-row sm:items-center sm:justify-between lg:px-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:"Clio Workspace"}),(0,b.jsxs)("p",{className:"text-xs text-slate-500",suppressHydrationWarning:!0,children:["Today: ",aG||"—"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{ref:ax,type:"button",onClick:()=>{Y?Z(!1):(X(!1),Z(!0),aE({quiet:!0}).catch(()=>null))},className:"relative inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-300 bg-white text-slate-700 transition hover:border-sky-300 hover:bg-sky-50/60","aria-label":"Open notifications","aria-expanded":Y,title:"Notifications",children:[(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-4.5 w-4.5","aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M7.3 10.2a4.7 4.7 0 1 1 9.4 0v3.3l1.4 2v1h-12v-1l1.2-2v-3.3"}),(0,b.jsx)("path",{d:"M10.1 17.6a2.1 2.1 0 0 0 3.8 0"})]}),aa>0?(0,b.jsx)("span",{className:"absolute -right-1.5 -top-1.5 inline-flex min-w-5 items-center justify-center rounded-full bg-rose-600 px-1.5 py-0.5 text-[10px] font-semibold text-white",children:aa>99?"99+":aa}):null]}),(0,b.jsxs)("div",{ref:ay,role:"dialog","aria-label":"Notifications","aria-hidden":!Y,className:(0,j.cn)("absolute right-0 top-[calc(100%+0.55rem)] z-50 w-[min(92vw,24rem)] max-h-[calc(100dvh-8rem)] overflow-y-auto rounded-2xl border border-slate-200 bg-white p-3 shadow-[0_20px_50px_-30px_rgba(15,23,42,0.45)] transition-all duration-200",Y?"pointer-events-auto translate-y-0 opacity-100":"pointer-events-none -translate-y-2 opacity-0"),children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 pb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Notifications"}),(0,b.jsx)("p",{className:"text-[11px] text-slate-500",children:aa>0?`${aa} unread alert${1===aa?"":"s"}`:"No unread alerts"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{ah(120),aE({quiet:!1,limit:120}).catch(()=>null)},className:"inline-flex h-7 items-center rounded-md border border-slate-300 bg-white px-2.5 text-[11px] font-semibold text-slate-700 transition hover:bg-slate-50",children:"View all"}),(0,b.jsxs)("select",{value:ai,onChange:a=>aj(a.target.value),className:"h-7 rounded-md border border-slate-300 bg-white px-2 text-[11px] font-semibold text-slate-700",children:[(0,b.jsx)("option",{value:"all",children:"All"}),(0,b.jsx)("option",{value:"unread",children:"Unread"}),(0,b.jsx)("option",{value:"read",children:"Read"}),(0,b.jsx)("option",{value:"critical",children:"Critical"}),(0,b.jsx)("option",{value:"high",children:"High"}),(0,b.jsx)("option",{value:"medium",children:"Medium"}),(0,b.jsx)("option",{value:"low",children:"Low"})]}),(0,b.jsx)("button",{type:"button",onClick:aQ,disabled:ae||0===aa,className:"inline-flex h-7 items-center rounded-md border border-slate-300 bg-white px-2.5 text-[11px] font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-60",children:"Mark all read"})]})]}),(0,b.jsx)("div",{className:"mt-2",children:ac?(0,b.jsx)("div",{className:"flex justify-center py-6",children:(0,b.jsx)("span",{className:"inline-flex h-5 w-5 animate-spin rounded-full border-2 border-slate-300 border-t-sky-600","aria-hidden":"true"})}):0===aM.length?(0,b.jsx)("p",{className:"rounded-lg border border-dashed border-slate-300 px-3 py-4 text-center text-xs text-slate-500",children:"No notifications found for this filter."}):(0,b.jsx)("ul",{className:"space-y-2",children:aM.map(a=>{let c,d=String(a?.id||a?.recordId||"").trim()||`${a?.title}-${a?.createdAt}`,e="read"!==String(a?.status||"").trim().toLowerCase(),f="device-login"===String(a?.type||"").trim().toLowerCase(),g=!f&&aL(a),h=String(a?.metadata?.deviceLabel||"").trim(),i=String(a?.metadata?.sourceIp||"").trim(),k=String(a?.metadata?.deviceVerificationDecision||"").trim().toLowerCase(),l="confirmed"===k?"confirm":"denied"===k?"deny":k,m=!!ak[d],n=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-900",children:String(a?.title||"Security notification")}),(0,b.jsx)("span",{className:(0,j.cn)("inline-flex shrink-0 rounded-full border px-1.5 py-0.5 text-[10px] font-semibold capitalize","critical"===(c=String(a?.severity||"").trim().toLowerCase())?"border-rose-200 bg-rose-50 text-rose-700":"high"===c?"border-amber-200 bg-amber-50 text-amber-700":"low"===c?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-sky-200 bg-sky-50 text-sky-700"),children:String(a?.severity||"medium")})]}),(0,b.jsx)("p",{className:"mt-1 text-[11px] text-slate-600",children:String(a?.message||"")}),f?(0,b.jsxs)("div",{className:"mt-1 text-[10px] text-slate-500",children:[h?`Device: ${h}`:"Device: Unknown",i?` • IP: ${i}`:""]}):null,g||f?null:(0,b.jsx)("p",{className:"mt-1 text-[10px] font-medium text-slate-500",children:"Read-only alert for visibility."}),f?(0,b.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:"confirm"===l||"deny"===l?(0,b.jsxs)("p",{className:(0,j.cn)("rounded-md border px-2 py-1 text-[11px] font-semibold","confirm"===l?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-rose-200 bg-rose-50 text-rose-700"),children:["Decision saved: ","confirm"===l?"It's me":"Not me"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{type:"button",onClick:()=>aS(a,"confirm"),disabled:m,className:"inline-flex h-7 items-center rounded-md border border-emerald-200 bg-emerald-50 px-2.5 text-[11px] font-semibold text-emerald-700 transition hover:bg-emerald-100 disabled:opacity-60",children:"It's me"}),(0,b.jsx)("button",{type:"button",onClick:()=>aS(a,"deny"),disabled:m,className:"inline-flex h-7 items-center rounded-md border border-rose-200 bg-rose-50 px-2.5 text-[11px] font-semibold text-rose-700 transition hover:bg-rose-100 disabled:opacity-60",children:"Not me"})]})}):null,(0,b.jsxs)("p",{className:"mt-1 text-[10px] text-slate-500",children:[function(a){let b=a?new Date(a):null;if(!b||Number.isNaN(b.getTime()))return"Just now";let c=Math.floor((Date.now()-b.getTime())/6e4);if(c<=0)return"Just now";if(c<60)return`${c}m ago`;let d=Math.floor(c/60);if(d<24)return`${d}h ago`;let e=Math.floor(d/24);return e<7?`${e}d ago`:B(b.toISOString())}(a?.createdAt)," | ",String(a?.module||"System")]})]});return(0,b.jsx)("li",{children:f?(0,b.jsx)("div",{className:(0,j.cn)("w-full rounded-lg border px-2.5 py-2 text-left transition",e?"border-sky-200 bg-sky-50/50":"border-slate-200 bg-white"),children:n}):(0,b.jsx)("button",{type:"button",onClick:()=>aR(a),disabled:!g,"aria-disabled":!g,title:g?"Open notification":"You do not have access to open this notification target.",className:(0,j.cn)("w-full rounded-lg border px-2.5 py-2 text-left transition",g?"hover:bg-slate-50":"cursor-default",e?"border-sky-200 bg-sky-50/50":"border-slate-200 bg-white"),children:n})},d)})})})]})]}),aK?(0,b.jsx)(c.default,{href:"/settings",className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-300 bg-white text-slate-700 transition hover:border-sky-300 hover:bg-sky-50/60","aria-label":"Open settings",title:"Settings",children:(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-4.5 w-4.5","aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M9.9 4.8h4.2l.7 2 2.1.9 1.9-1.1 2.1 3.6-1.6 1.4v2.4l1.6 1.4-2.1 3.6-1.9-1.1-2.1.9-.7 2H9.9l-.7-2-2.1-.9-1.9 1.1-2.1-3.6 1.6-1.4v-2.4l-1.6-1.4 2.1-3.6 1.9 1.1 2.1-.9.7-2Z"}),(0,b.jsx)("circle",{cx:"12",cy:"12",r:"2.7"})]})}):null,(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("button",{ref:az,type:"button",onClick:()=>{W?aO():(T({firstName:String(Q?.firstName||""),middleName:String(Q?.middleName||""),lastName:String(Q?.lastName||""),profilePhotoDataUrl:String(Q?.profilePhotoDataUrl||""),profilePhotoStoragePath:String(Q?.profilePhotoStoragePath||""),phoneVerifiedAt:String(Q?.phoneVerifiedAt||""),phoneLast4:String(Q?.phoneLast4||""),smsMfaEnabled:!!Q?.smsMfaEnabled}),Z(!1),X(!0),O&&aT())},disabled:U,className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-300 bg-white text-slate-700 transition hover:border-sky-300 hover:bg-sky-50/50 disabled:cursor-wait disabled:opacity-70","aria-label":"Open account profile",title:"Account profile","aria-expanded":W,children:aD?(0,b.jsx)("span",{className:"inline-flex h-8 w-8 items-center justify-center overflow-hidden rounded-lg border border-slate-200 bg-white",children:(0,b.jsx)(d.default,{src:aD,alt:"Profile picture",width:32,height:32,className:"h-full w-full object-cover",unoptimized:!0})}):(0,b.jsx)("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-slate-900 text-xs font-semibold text-white",children:aC})}),(0,b.jsxs)("div",{ref:aA,role:"dialog","aria-label":"Account profile","aria-hidden":!W,className:(0,j.cn)("absolute right-0 top-[calc(100%+0.6rem)] z-50 w-[min(94vw,42rem)] max-h-[calc(100dvh-7rem)] origin-top-right overflow-y-auto overscroll-contain rounded-2xl border border-slate-200 bg-white p-4 shadow-[0_22px_60px_-28px_rgba(15,23,42,0.45)] transition-all duration-200 sm:p-5",W?"pointer-events-auto translate-y-0 opacity-100":"pointer-events-none -translate-y-2 opacity-0"),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:"Account Profile"}),(0,b.jsx)("p",{className:"mt-0.5 text-sm text-slate-600",children:"Update your name and profile picture."})]}),(0,b.jsx)("button",{type:"button",onClick:aO,disabled:am||ao||as,className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 disabled:opacity-70","aria-label":"Close profile panel",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-4 w-4","aria-hidden":"true",children:(0,b.jsx)("path",{d:"m6 6 12 12M18 6 6 18"})})})]}),(0,b.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[S.profilePhotoDataUrl?(0,b.jsx)("span",{className:"inline-flex h-14 w-14 items-center justify-center overflow-hidden rounded-xl border border-slate-200 bg-white",children:(0,b.jsx)(d.default,{src:S.profilePhotoDataUrl,alt:"Profile preview",width:56,height:56,className:"h-full w-full object-cover",unoptimized:!0})}):(0,b.jsx)("span",{className:"inline-flex h-14 w-14 items-center justify-center rounded-xl bg-slate-900 text-sm font-semibold text-white",children:aC}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>aw.current?.click(),disabled:ao||am||as,className:"inline-flex h-9 items-center rounded-lg border border-slate-300 bg-white px-3 text-xs font-semibold text-slate-700 transition hover:bg-slate-50",children:ao?"Uploading...":"Upload Photo"}),(0,b.jsx)("button",{type:"button",onClick:()=>{T(a=>({...a,profilePhotoDataUrl:"",profilePhotoStoragePath:""}))},disabled:ao||am||as,className:"inline-flex h-9 items-center rounded-lg border border-rose-200 bg-rose-50 px-3 text-xs font-semibold text-rose-700 transition hover:bg-rose-100",children:"Remove"}),(0,b.jsx)("input",{ref:aw,type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp",className:"hidden",onChange:aV})]})]}),(0,b.jsxs)("div",{className:"grid gap-2.5 sm:grid-cols-3",children:[(0,b.jsx)("input",{value:S.firstName,onChange:aU("firstName"),placeholder:"First name",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:S.middleName,onChange:aU("middleName"),placeholder:"Middle name",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:S.lastName,onChange:aU("lastName"),placeholder:"Last name",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsx)("section",{className:"rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:(0,b.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Account Role"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:aI})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employment Role"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:aJ})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employee ID"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:au.employeeId||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employee Name"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:au.employeeName||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employee Email"}),(0,b.jsx)("p",{className:"truncate text-sm font-medium text-slate-900",children:au.employeeEmail||N})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Department"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:au.department||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Position"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:au.jobTitle||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employment Status"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:au.employmentStatus||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Record Status"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:au.recordStatus||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employment Start Date"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:!(q=(k=au.hireDate)?new Date(k):null)||Number.isNaN(q.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric"}).format(q)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Manager"}),(0,b.jsx)("p",{className:"truncate text-sm font-medium text-slate-900",children:au.managerEmail||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Last Login"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:B(au.lastLoginAt)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Last Active"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:au.lastActiveDevice||"Unknown device"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Source IP"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:(s=String(au.lastActiveIp||"").trim())&&"unknown"!==s.toLowerCase()?new Set(["::1","127.0.0.1","::ffff:127.0.0.1"]).has(s.toLowerCase())?`Loopback (${s})`:s:"Unknown"})]})]})})]}),(0,b.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:aN,disabled:J||am||ao||as,className:"inline-flex h-9 items-center rounded-lg border border-rose-200 bg-rose-50 px-3 text-xs font-semibold text-rose-700 transition hover:bg-rose-100 disabled:opacity-70",children:J?"Signing out...":"Sign out"}),(0,b.jsx)("button",{type:"button",onClick:aX,disabled:as||J||am||ao,className:"inline-flex h-9 items-center rounded-lg border border-amber-300 bg-amber-50 px-3 text-xs font-semibold text-amber-800 transition hover:bg-amber-100 disabled:opacity-70",children:as?"Revoking...":"Sign out all devices"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:aO,disabled:am||ao||as,className:"inline-flex h-9 items-center rounded-lg border border-slate-300 bg-white px-3 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-70",children:"Cancel"}),(0,b.jsx)("button",{type:"button",onClick:aW,disabled:am||ao||as,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:ao?"Uploading...":am?"Saving...":"Save Profile"})]})]})]})]})]})]}),(0,b.jsx)("main",{id:"main-content",className:"min-h-0 flex-1 overflow-y-auto bg-slate-100/70 px-5 py-5 sm:px-6 sm:py-6 lg:px-8 lg:py-7",children:a})]})]})]})}a.s(["default",()=>G],13408)}];

//# sourceMappingURL=src_components_hris_HrisShell_jsx_4f6f47bc._.js.map