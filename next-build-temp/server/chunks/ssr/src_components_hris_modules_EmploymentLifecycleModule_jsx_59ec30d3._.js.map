{"version":3,"sources":["../../../../src/components/hris/modules/EmploymentLifecycleModule.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport SurfaceCard from \"@/components/hris/SurfaceCard\";\r\nimport EmptyState from \"@/components/hris/shared/EmptyState\";\r\nimport PaginationControls from \"@/components/hris/shared/PaginationControls\";\r\nimport StatusBadge from \"@/components/hris/shared/StatusBadge\";\r\nimport { useToast } from \"@/components/ui/ToastProvider\";\r\nimport { useConfirm } from \"@/components/ui/ConfirmProvider\";\r\nimport { formatEmployeeName, formatPersonName } from \"@/lib/name-utils\";\r\nimport { hrisApi } from \"@/services/hris-api-client\";\r\nimport { toSubTabAnchor } from \"@/lib/subtab-anchor\";\r\nimport {\r\n  removeStorageObjectByPath,\r\n  uploadLifecycleEvidenceToStorage,\r\n} from \"@/services/firebase-storage-client\";\r\n\r\nconst SECTION_TABS = [\r\n  { id: \"workflow-status-tracking\", label: \"Workflow Status Tracking\" },\r\n  { id: \"onboarding\", label: \"Onboarding\" },\r\n  { id: \"role-changes\", label: \"Role Changes\" },\r\n  { id: \"disciplinary-records\", label: \"Disciplinary Records\" },\r\n  { id: \"offboarding-access-revocation\", label: \"Offboarding + Access Revocation\" },\r\n];\r\n\r\nconst CATEGORY_BY_SECTION = {\r\n  onboarding: \"Onboarding\",\r\n  \"role-changes\": \"Role Change\",\r\n  \"disciplinary-records\": \"Disciplinary\",\r\n  \"offboarding-access-revocation\": \"Offboarding\",\r\n};\r\n\r\nconst SECTION_DESCRIPTIONS = {\r\n  \"workflow-status-tracking\": \"Unified tracking view across onboarding, role changes, disciplinary actions, and offboarding.\",\r\n  onboarding: \"Employee onboarding workflows with activation and completion tracking.\",\r\n  \"role-changes\": \"Role/department movement workflows with effectivity details.\",\r\n  \"disciplinary-records\": \"Disciplinary case workflows with controlled updates and timeline visibility.\",\r\n  \"offboarding-access-revocation\": \"Offboarding workflows with access revocation and account disablement trail.\",\r\n};\r\n\r\nconst REQUIRED_EVIDENCE_BY_WORKFLOW = {\r\n  disciplinary: [\r\n    { id: \"incident-report\", label: \"Incident Report\", keywords: [\"incident\", \"report\"] },\r\n    {\r\n      id: \"notice-to-explain\",\r\n      label: \"Notice to Explain / Written Explanation\",\r\n      keywords: [\"notice\", \"explain\", \"written explanation\", \"explanation\"],\r\n    },\r\n    { id: \"decision-memo\", label: \"Decision Memo\", keywords: [\"decision\", \"memo\"] },\r\n  ],\r\n  offboarding: [\r\n    {\r\n      id: \"resignation-termination\",\r\n      label: \"Resignation / Termination Document\",\r\n      keywords: [\"resignation\", \"termination\", \"termination notice\"],\r\n    },\r\n    { id: \"clearance-form\", label: \"Clearance Form\", keywords: [\"clearance\"] },\r\n    { id: \"handover-exit\", label: \"Handover / Exit Checklist\", keywords: [\"handover\", \"exit checklist\", \"exit interview\"] },\r\n  ],\r\n};\r\n\r\nconst DEFAULT_ROLE_ASSIGNMENT_OPTIONS = [\r\n  { value: \"SUPER_ADMIN\", label: \"Super Admin\" },\r\n  { value: \"GRC\", label: \"Governance, Risk, and Compliance (GRC)\" },\r\n  { value: \"HR\", label: \"Human Resources (HR)\" },\r\n  { value: \"EA\", label: \"Executive Assistant (EA)\" },\r\n  { value: \"EMPLOYEE_L1\", label: \"Employee (L1)\" },\r\n  { value: \"EMPLOYEE_L2\", label: \"Employee (L2)\" },\r\n  { value: \"EMPLOYEE_L3\", label: \"Employee (L3)\" },\r\n];\r\n\r\nconst ROLE_COMPLETE_LABEL_BY_ID = new Map([\r\n  [\"GRC\", \"Governance, Risk, and Compliance (GRC)\"],\r\n  [\"HR\", \"Human Resources (HR)\"],\r\n  [\"EA\", \"Executive Assistant (EA)\"],\r\n]);\r\n\r\nconst DEFAULT_DEPARTMENT_OPTIONS = [\r\n  {\r\n    value: \"Governance, Risk, and Compliance (GRC)\",\r\n    label: \"Governance, Risk, and Compliance (GRC)\",\r\n  },\r\n  {\r\n    value: \"Research and Development (R&D)\",\r\n    label: \"Research and Development (R&D)\",\r\n  },\r\n  {\r\n    value: \"Cyber Security Operations Center (CSOC)\",\r\n    label: \"Cyber Security Operations Center (CSOC)\",\r\n  },\r\n  {\r\n    value: \"Threat Intelligence (TI)\",\r\n    label: \"Threat Intelligence (TI)\",\r\n  },\r\n];\r\n\r\nconst ONBOARDING_WORK_SETUP_OPTIONS = [\"On-site\", \"Hybrid\", \"Remote\"];\r\n\r\nconst ROLE_LABEL_BY_ID = new Map([\r\n  [\"SUPER_ADMIN\", \"Super Admin\"],\r\n  [\"GRC\", \"Governance, Risk, and Compliance (GRC)\"],\r\n  [\"HR\", \"Human Resources (HR)\"],\r\n  [\"EA\", \"Executive Assistant (EA)\"],\r\n  [\"EMPLOYEE\", \"Employee (L1)\"],\r\n  [\"EMPLOYEE_L1\", \"Employee (L1)\"],\r\n  [\"EMPLOYEE_L2\", \"Employee (L2)\"],\r\n  [\"EMPLOYEE_L3\", \"Employee (L3)\"],\r\n]);\r\nconst SUPPORTED_LIFECYCLE_ROLE_KEYS = new Set([\r\n  \"SUPER_ADMIN\",\r\n  \"GRC\",\r\n  \"HR\",\r\n  \"EA\",\r\n  \"EMPLOYEE\",\r\n  \"EMPLOYEE_L1\",\r\n  \"EMPLOYEE_L2\",\r\n  \"EMPLOYEE_L3\",\r\n]);\r\nconst GRC_ASSIGNABLE_LIFECYCLE_ROLE_KEYS = new Set([\"GRC\", \"HR\", \"EA\", \"EMPLOYEE_L1\", \"EMPLOYEE_L2\", \"EMPLOYEE_L3\"]);\r\n\r\nconst initialForm = {\r\n  employeeRecordId: \"\",\r\n  employeeEmail: \"\",\r\n  employee: \"\",\r\n  category: \"Onboarding\",\r\n  owner: \"\",\r\n  status: \"In Progress\",\r\n  onboardingEmployeeId: \"\",\r\n  onboardingFirstName: \"\",\r\n  onboardingMiddleName: \"\",\r\n  onboardingLastName: \"\",\r\n  onboardingSuffix: \"\",\r\n  onboardingRole: \"\",\r\n  onboardingDepartment: \"\",\r\n  onboardingStartDate: \"\",\r\n  workSetup: \"On-site\",\r\n  activateEmploymentNow: true,\r\n  roleFrom: \"\",\r\n  roleTo: \"\",\r\n  departmentFrom: \"\",\r\n  departmentTo: \"\",\r\n  effectiveDate: \"\",\r\n  justification: \"\",\r\n  details: \"\",\r\n};\r\n\r\nfunction isEmployeeRole(role) {\r\n  return String(role || \"\")\r\n    .trim()\r\n    .toUpperCase()\r\n    .startsWith(\"EMPLOYEE_\");\r\n}\r\n\r\nfunction formatDate(value) {\r\n  const date = new Date(value || \"\");\r\n  if (Number.isNaN(date.getTime())) {\r\n    return \"-\";\r\n  }\r\n  return new Intl.DateTimeFormat(\"en-US\", {\r\n    month: \"short\",\r\n    day: \"2-digit\",\r\n    year: \"numeric\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  }).format(date);\r\n}\r\n\r\nfunction formatDateShort(value) {\r\n  const date = new Date(value || \"\");\r\n  if (Number.isNaN(date.getTime())) {\r\n    return \"-\";\r\n  }\r\n  return new Intl.DateTimeFormat(\"en-US\", {\r\n    month: \"short\",\r\n    day: \"2-digit\",\r\n    year: \"numeric\",\r\n  }).format(date);\r\n}\r\n\r\nfunction normalizeText(value) {\r\n  return String(value || \"\")\r\n    .trim()\r\n    .toLowerCase();\r\n}\r\n\r\nfunction normalizeLifecycleWorkflowType(value) {\r\n  const normalized = normalizeText(value);\r\n  if (!normalized) {\r\n    return \"onboarding\";\r\n  }\r\n  if (normalized.includes(\"disciplin\")) {\r\n    return \"disciplinary\";\r\n  }\r\n  if (normalized.includes(\"offboard\") || normalized.includes(\"resign\") || normalized.includes(\"terminate\")) {\r\n    return \"offboarding\";\r\n  }\r\n  if (normalized.includes(\"role\") || normalized.includes(\"promotion\")) {\r\n    return \"role-change\";\r\n  }\r\n  return \"onboarding\";\r\n}\r\n\r\nfunction valueOrDash(value) {\r\n  const normalized = String(value || \"\").trim();\r\n  return normalized || \"-\";\r\n}\r\n\r\nfunction formatFileSize(bytes) {\r\n  const value = Number(bytes);\r\n  if (!Number.isFinite(value) || value <= 0) {\r\n    return \"0 B\";\r\n  }\r\n  if (value < 1024) {\r\n    return `${value} B`;\r\n  }\r\n  if (value < 1024 * 1024) {\r\n    return `${(value / 1024).toFixed(1)} KB`;\r\n  }\r\n  return `${(value / (1024 * 1024)).toFixed(1)} MB`;\r\n}\r\n\r\nfunction normalizeRoleValue(value) {\r\n  return String(value || \"\")\r\n    .trim()\r\n    .toUpperCase()\r\n    .replace(/[^A-Z0-9]+/g, \"_\")\r\n    .replace(/^_+|_+$/g, \"\");\r\n}\r\n\r\nfunction toRoleLabel(value) {\r\n  const normalized = normalizeRoleValue(value);\r\n  if (!normalized) {\r\n    return \"-\";\r\n  }\r\n  return ROLE_LABEL_BY_ID.get(normalized) || value;\r\n}\r\n\r\nfunction ensureArray(value) {\r\n  return Array.isArray(value) ? value : [];\r\n}\r\n\r\nfunction toCatalogOption(entry) {\r\n  const value = String(entry?.value || \"\").trim();\r\n  const label = String(entry?.label || value).trim();\r\n  if (!value) {\r\n    return null;\r\n  }\r\n  return {\r\n    value,\r\n    label: label || value,\r\n  };\r\n}\r\n\r\nfunction mergeCatalogOptions(primary, fallback) {\r\n  const merged = [];\r\n  const seen = new Set();\r\n\r\n  [...ensureArray(primary), ...ensureArray(fallback)].forEach((entry) => {\r\n    const option = toCatalogOption(entry);\r\n    if (!option) {\r\n      return;\r\n    }\r\n    const key = normalizeText(`${option.value}::${option.label}`);\r\n    if (!key || seen.has(key)) {\r\n      return;\r\n    }\r\n    seen.add(key);\r\n    merged.push(option);\r\n  });\r\n\r\n  return merged;\r\n}\r\n\r\nfunction isEmployeeLifecycleRoleValue(value) {\r\n  const normalized = normalizeRoleValue(value);\r\n  return normalized === \"EMPLOYEE\" || normalized.startsWith(\"EMPLOYEE_\");\r\n}\r\n\r\nfunction resolveWorkflowOwner(session) {\r\n  const email = String(session?.email || \"\").trim().toLowerCase();\r\n  const fullName = formatPersonName({\r\n    firstName: session?.firstName,\r\n    middleName: session?.middleName,\r\n    lastName: session?.lastName,\r\n    fallbackEmail: email,\r\n    fallbackLabel: \"System\",\r\n  });\r\n  if (!email || fullName.toLowerCase() === email) {\r\n    return fullName;\r\n  }\r\n  return `${fullName} (${email})`;\r\n}\r\n\r\nfunction isRoleMovementCategory(category) {\r\n  const normalized = normalizeText(category);\r\n  return normalized === \"role change\";\r\n}\r\n\r\nfunction isOnboardingCategory(category) {\r\n  return normalizeText(category) === \"onboarding\";\r\n}\r\n\r\nfunction buildLifecycleDetailsPayload(form) {\r\n  const details = {\r\n    note: String(form.details || \"\").trim(),\r\n  };\r\n\r\n  if (isOnboardingCategory(form.category)) {\r\n    const onboardingStartDate = String(form.onboardingStartDate || \"\").trim();\r\n    const onboardingEmployeeId = String(form.onboardingEmployeeId || \"\").trim();\r\n    const firstName = String(form.onboardingFirstName || \"\").trim();\r\n    const middleName = String(form.onboardingMiddleName || \"\").trim();\r\n    const lastName = String(form.onboardingLastName || \"\").trim();\r\n    const suffix = String(form.onboardingSuffix || \"\").trim();\r\n    const onboardingRole = String(form.onboardingRole || \"\").trim();\r\n    const onboardingDepartment = String(form.onboardingDepartment || \"\").trim();\r\n    details.startDate = onboardingStartDate;\r\n    details.employeeId = onboardingEmployeeId;\r\n    details.firstName = firstName;\r\n    details.middleName = middleName;\r\n    details.lastName = lastName;\r\n    details.suffix = suffix;\r\n    details.role = onboardingRole;\r\n    details.roleTo = onboardingRole;\r\n    details.department = onboardingDepartment;\r\n    details.departmentTo = onboardingDepartment;\r\n    details.workSetup = String(form.workSetup || \"\").trim();\r\n    details.accountEmail = String(form.employeeEmail || \"\").trim().toLowerCase();\r\n    details.activateEmploymentNow = Boolean(form.activateEmploymentNow);\r\n  }\r\n\r\n  if (isRoleMovementCategory(form.category)) {\r\n    details.roleFrom = String(form.roleFrom || \"\").trim();\r\n    details.roleTo = String(form.roleTo || \"\").trim();\r\n    details.departmentFrom = String(form.departmentFrom || \"\").trim();\r\n    details.departmentTo = String(form.departmentTo || \"\").trim();\r\n    details.effectiveDate = String(form.effectiveDate || \"\").trim();\r\n    details.justification = String(form.justification || \"\").trim();\r\n  }\r\n\r\n  return details;\r\n}\r\n\r\nfunction getLifecycleDetails(record) {\r\n  if (record?.details && typeof record.details === \"object\") {\r\n    return record.details;\r\n  }\r\n  return {};\r\n}\r\n\r\nfunction getLifecycleEffectiveDate(record) {\r\n  const details = getLifecycleDetails(record);\r\n  const value = String(details?.effectiveDate || details?.startDate || \"\").trim();\r\n  return value || \"\";\r\n}\r\n\r\nfunction getLifecycleEmployeeNumber(record) {\r\n  const details = getLifecycleDetails(record);\r\n  const value = String(details?.employeeId || details?.employeeNumber || \"\").trim();\r\n  return value || \"\";\r\n}\r\n\r\nfunction getLifecycleRoleTransition(record) {\r\n  const details = getLifecycleDetails(record);\r\n  const roleFrom = String(details?.roleFrom || \"\").trim();\r\n  const roleTo = String(details?.roleTo || details?.role || \"\").trim();\r\n  if (!roleFrom && !roleTo) {\r\n    return \"\";\r\n  }\r\n  return `${toRoleLabel(roleFrom || \"-\")} -> ${toRoleLabel(roleTo || \"-\")}`;\r\n}\r\n\r\nfunction getLifecycleDepartmentTransition(record) {\r\n  const details = getLifecycleDetails(record);\r\n  const departmentFrom = String(details?.departmentFrom || \"\").trim();\r\n  const departmentTo = String(details?.departmentTo || details?.department || \"\").trim();\r\n  if (!departmentFrom && !departmentTo) {\r\n    return \"\";\r\n  }\r\n  return `${departmentFrom || \"-\"} -> ${departmentTo || \"-\"}`;\r\n}\r\n\r\nfunction getLifecycleDecisionTimestamp(record) {\r\n  const traceability = Array.isArray(record?.traceability) ? record.traceability : [];\r\n  for (let index = traceability.length - 1; index >= 0; index -= 1) {\r\n    const entry = traceability[index];\r\n    const status = normalizeText(entry?.status);\r\n    if (status.includes(\"approved\") || status.includes(\"completed\") || status.includes(\"rejected\")) {\r\n      const atValue = String(entry?.at || \"\").trim();\r\n      if (atValue) {\r\n        return atValue;\r\n      }\r\n    }\r\n  }\r\n\r\n  const status = normalizeText(record?.status);\r\n  if (status.includes(\"approved\") || status.includes(\"completed\") || status.includes(\"rejected\")) {\r\n    return String(record?.updatedAt || record?.createdAt || \"\").trim();\r\n  }\r\n  return \"\";\r\n}\r\n\r\nfunction getLifecycleAccessRevokedAt(record) {\r\n  const effects = Array.isArray(record?.lastAutomationEffects) ? record.lastAutomationEffects : [];\r\n  const hasRevocationEffect = effects.some((effect) => normalizeText(effect?.type) === \"access-revocation\");\r\n  if (hasRevocationEffect) {\r\n    return String(record?.lastAutomationAt || record?.updatedAt || \"\").trim();\r\n  }\r\n\r\n  const status = normalizeText(record?.status);\r\n  if (status.includes(\"revoked\") || status.includes(\"terminated\") || status.includes(\"disabled\")) {\r\n    return String(record?.updatedAt || \"\").trim();\r\n  }\r\n  return \"\";\r\n}\r\n\r\nfunction getLifecycleArchiveUntil(record) {\r\n  const effects = Array.isArray(record?.lastAutomationEffects) ? record.lastAutomationEffects : [];\r\n  const archiveEffect = effects.find((effect) => normalizeText(effect?.type) === \"archive-policy\");\r\n  const retention = String(archiveEffect?.retentionDeleteAt || record?.retentionDeleteAt || \"\").trim();\r\n  return retention || \"\";\r\n}\r\n\r\nfunction composeOnboardingEmployeeName(form) {\r\n  return formatEmployeeName({\r\n    firstName: form?.onboardingFirstName,\r\n    middleName: form?.onboardingMiddleName,\r\n    lastName: form?.onboardingLastName,\r\n    suffix: form?.onboardingSuffix,\r\n    fallback: form?.employee,\r\n    fallbackEmail: form?.employeeEmail,\r\n    fallbackLabel: \"Employee\",\r\n  });\r\n}\r\n\r\nfunction summarizeLifecycleEffects(effects) {\r\n  const rows = Array.isArray(effects) ? effects : [];\r\n  const messages = rows\r\n    .map((effect) => {\r\n      if (typeof effect === \"string\") {\r\n        return effect.trim();\r\n      }\r\n      return String(effect?.message || \"\").trim();\r\n    })\r\n    .filter(Boolean);\r\n\r\n  return messages.join(\" \");\r\n}\r\n\r\nfunction getChecklistProgress(record) {\r\n  const checklist = Array.isArray(record?.workflow?.checklist) ? record.workflow.checklist : [];\r\n  const required = checklist.filter((task) => task?.required !== false);\r\n  const completed = required.filter((task) => normalizeText(task?.status) === \"completed\").length;\r\n  return {\r\n    completed,\r\n    total: required.length,\r\n  };\r\n}\r\n\r\nfunction isOffboardingRecord(record) {\r\n  const category = normalizeText(record?.category);\r\n  return category.includes(\"offboard\") || category.includes(\"resign\") || category.includes(\"terminate\");\r\n}\r\n\r\nfunction getRequiredEvidenceSummary(record) {\r\n  const workflowType = normalizeLifecycleWorkflowType(record?.workflowType || record?.category);\r\n  const rules = REQUIRED_EVIDENCE_BY_WORKFLOW[workflowType] || [];\r\n  if (rules.length === 0) {\r\n    return { required: [], matched: [], missing: [], complete: true };\r\n  }\r\n\r\n  const evidence = Array.isArray(record?.evidence) ? record.evidence : [];\r\n  const normalizedEvidence = evidence.map((entry) =>\r\n    normalizeText([entry?.name, entry?.type, entry?.note].filter(Boolean).join(\" \")),\r\n  );\r\n\r\n  const matched = [];\r\n  const missing = [];\r\n  rules.forEach((rule) => {\r\n    const keywords = Array.isArray(rule.keywords) ? rule.keywords.map((item) => normalizeText(item)).filter(Boolean) : [];\r\n    const hasMatch = normalizedEvidence.some((text) => keywords.some((keyword) => text.includes(keyword)));\r\n    const detail = { id: rule.id, label: rule.label };\r\n    if (hasMatch) {\r\n      matched.push(detail);\r\n    } else {\r\n      missing.push(detail);\r\n    }\r\n  });\r\n\r\n  return {\r\n    required: rules.map((rule) => ({ id: rule.id, label: rule.label })),\r\n    matched,\r\n    missing,\r\n    complete: missing.length === 0,\r\n  };\r\n}\r\n\r\nfunction getRequiredEvidenceRulesForCategory(category) {\r\n  const workflowType = normalizeLifecycleWorkflowType(category);\r\n  return REQUIRED_EVIDENCE_BY_WORKFLOW[workflowType] || [];\r\n}\r\n\r\nfunction composeEmployeeName(record) {\r\n  return formatEmployeeName({\r\n    firstName: record?.firstName,\r\n    middleName: record?.middleName,\r\n    lastName: record?.lastName,\r\n    suffix: record?.suffix,\r\n    fallback: record?.name,\r\n    fallbackEmail: record?.email,\r\n    fallbackLabel: \"Unnamed Employee\",\r\n  });\r\n}\r\n\r\nfunction toEmployeeOption(record) {\r\n  const id = String(record?.id || \"\").trim();\r\n  const email = String(record?.email || \"\").trim().toLowerCase();\r\n  if (!id || !email) {\r\n    return null;\r\n  }\r\n\r\n  return {\r\n    id,\r\n    email,\r\n    name: composeEmployeeName(record),\r\n    currentRole: String(record?.role || \"\").trim(),\r\n    currentDepartment: String(record?.department || \"\").trim(),\r\n  };\r\n}\r\n\r\nexport default function EmploymentLifecycleModule({ session }) {\r\n  const toast = useToast();\r\n  const confirmAction = useConfirm();\r\n  const actorRole = session?.role || \"EMPLOYEE_L1\";\r\n  const actorRoleId = normalizeRoleValue(actorRole);\r\n  const employeeRole = isEmployeeRole(actorRole);\r\n  const canManage = !employeeRole;\r\n  const workflowOwner = resolveWorkflowOwner(session);\r\n\r\n  const [section, setSection] = useState(\"workflow-status-tracking\");\r\n  const [records, setRecords] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [form, setForm] = useState(initialForm);\r\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\r\n  const [isWorkflowConsoleOpen, setIsWorkflowConsoleOpen] = useState(false);\r\n  const [selectedStatus, setSelectedStatus] = useState(\"\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [recordsPage, setRecordsPage] = useState(1);\r\n  const recordsPageSize = 10;\r\n  const [employeeOptions, setEmployeeOptions] = useState([]);\r\n  const [isLoadingEmployeeOptions, setIsLoadingEmployeeOptions] = useState(false);\r\n  const [employeeOptionsError, setEmployeeOptionsError] = useState(\"\");\r\n  const [referenceCatalog, setReferenceCatalog] = useState({\r\n    roles: DEFAULT_ROLE_ASSIGNMENT_OPTIONS,\r\n    departments: DEFAULT_DEPARTMENT_OPTIONS,\r\n  });\r\n  const [isLoadingReferenceCatalog, setIsLoadingReferenceCatalog] = useState(false);\r\n  const [selectedRecordId, setSelectedRecordId] = useState(\"\");\r\n  const [onboardingDocuments, setOnboardingDocuments] = useState([]);\r\n  const [disciplinaryDocuments, setDisciplinaryDocuments] = useState([]);\r\n  const [offboardingDocuments, setOffboardingDocuments] = useState([]);\r\n\r\n  const evidenceInputRef = useRef(null);\r\n\r\n  const activeSectionTab = useMemo(\r\n    () => SECTION_TABS.find((tab) => tab.id === section) || SECTION_TABS[0],\r\n    [section],\r\n  );\r\n  const activeSectionCategory = CATEGORY_BY_SECTION[section] || \"\";\r\n  const activeSectionDescription = SECTION_DESCRIPTIONS[section] || SECTION_DESCRIPTIONS[\"workflow-status-tracking\"];\r\n  const roleCatalogOptions = useMemo(() => {\r\n    const merged = mergeCatalogOptions(referenceCatalog.roles, DEFAULT_ROLE_ASSIGNMENT_OPTIONS);\r\n    const byRoleKey = new Map();\r\n\r\n    merged.forEach((option) => {\r\n      const normalized = normalizeRoleValue(option?.value);\r\n      if (!normalized) {\r\n        return;\r\n      }\r\n      const completeLabel = ROLE_COMPLETE_LABEL_BY_ID.get(normalized);\r\n      const normalizedOption = {\r\n        value: String(option.value || \"\").trim(),\r\n        label: completeLabel || String(option.label || option.value || \"\").trim(),\r\n      };\r\n      if (!byRoleKey.has(normalized)) {\r\n        byRoleKey.set(normalized, normalizedOption);\r\n      }\r\n    });\r\n\r\n    ROLE_COMPLETE_LABEL_BY_ID.forEach((label, key) => {\r\n      if (!byRoleKey.has(key)) {\r\n        byRoleKey.set(key, {\r\n          value: key,\r\n          label,\r\n        });\r\n      }\r\n    });\r\n\r\n    return Array.from(byRoleKey.values());\r\n  }, [referenceCatalog.roles]);\r\n  const departmentCatalogOptions = useMemo(\r\n    () => mergeCatalogOptions(referenceCatalog.departments, DEFAULT_DEPARTMENT_OPTIONS),\r\n    [referenceCatalog.departments],\r\n  );\r\n  const availableRoleTargets = useMemo(\r\n    () =>\r\n      roleCatalogOptions.filter((option) => {\r\n        const normalized = normalizeRoleValue(option.value);\r\n        if (!normalized || !SUPPORTED_LIFECYCLE_ROLE_KEYS.has(normalized)) {\r\n          return false;\r\n        }\r\n        if (actorRoleId === \"SUPER_ADMIN\") {\r\n          return true;\r\n        }\r\n        if (actorRoleId === \"GRC\") {\r\n          return GRC_ASSIGNABLE_LIFECYCLE_ROLE_KEYS.has(normalized);\r\n        }\r\n        if (actorRoleId === \"HR\" || actorRoleId === \"EA\") {\r\n          return isEmployeeLifecycleRoleValue(option.value);\r\n        }\r\n        return isEmployeeLifecycleRoleValue(option.value);\r\n      }),\r\n    [actorRoleId, roleCatalogOptions],\r\n  );\r\n\r\n  const loadRecords = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setErrorMessage(\"\");\r\n    try {\r\n      const payload = await hrisApi.lifecycle.list();\r\n      setRecords(Array.isArray(payload.records) ? payload.records : []);\r\n    } catch (error) {\r\n      setErrorMessage(error.message || \"Unable to load lifecycle records.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadRecords();\r\n  }, [loadRecords]);\r\n\r\n  const loadReferenceCatalog = useCallback(async () => {\r\n    if (!canManage) {\r\n      setReferenceCatalog({\r\n        roles: DEFAULT_ROLE_ASSIGNMENT_OPTIONS,\r\n        departments: DEFAULT_DEPARTMENT_OPTIONS,\r\n      });\r\n      return;\r\n    }\r\n\r\n    setIsLoadingReferenceCatalog(true);\r\n    try {\r\n      const payload = await hrisApi.settings.referenceData.list();\r\n      setReferenceCatalog({\r\n        roles: mergeCatalogOptions(payload?.catalogs?.roles, DEFAULT_ROLE_ASSIGNMENT_OPTIONS),\r\n        departments: mergeCatalogOptions(payload?.catalogs?.departments, DEFAULT_DEPARTMENT_OPTIONS),\r\n      });\r\n    } catch {\r\n      setReferenceCatalog({\r\n        roles: DEFAULT_ROLE_ASSIGNMENT_OPTIONS,\r\n        departments: DEFAULT_DEPARTMENT_OPTIONS,\r\n      });\r\n    } finally {\r\n      setIsLoadingReferenceCatalog(false);\r\n    }\r\n  }, [canManage]);\r\n\r\n  useEffect(() => {\r\n    loadReferenceCatalog();\r\n  }, [loadReferenceCatalog]);\r\n\r\n  const loadEmployeeOptions = useCallback(async () => {\r\n    if (!canManage) {\r\n      return;\r\n    }\r\n\r\n    setIsLoadingEmployeeOptions(true);\r\n    setEmployeeOptionsError(\"\");\r\n    try {\r\n      const payload = await hrisApi.employees.list({\r\n        page: 1,\r\n        pageSize: 200,\r\n      });\r\n\r\n      const rows = Array.isArray(payload?.records) ? payload.records : [];\r\n      const uniqueOptions = [];\r\n      const seenIds = new Set();\r\n\r\n      rows.forEach((row) => {\r\n        const option = toEmployeeOption(row);\r\n        if (!option || seenIds.has(option.id)) {\r\n          return;\r\n        }\r\n        seenIds.add(option.id);\r\n        uniqueOptions.push(option);\r\n      });\r\n\r\n      setEmployeeOptions(uniqueOptions);\r\n    } catch (error) {\r\n      setEmployeeOptions([]);\r\n      setEmployeeOptionsError(error.message || \"Unable to load employee directory options.\");\r\n    } finally {\r\n      setIsLoadingEmployeeOptions(false);\r\n    }\r\n  }, [canManage]);\r\n\r\n  useEffect(() => {\r\n    loadEmployeeOptions();\r\n  }, [loadEmployeeOptions]);\r\n\r\n  useEffect(() => {\r\n    setForm((current) => ({\r\n      ...current,\r\n      owner: workflowOwner,\r\n    }));\r\n  }, [workflowOwner]);\r\n\r\n  useEffect(() => {\r\n    if (!canManage || employeeOptions.length === 0) {\r\n      return;\r\n    }\r\n\r\n    setForm((current) => {\r\n      if (isOnboardingCategory(current.category)) {\r\n        return current;\r\n      }\r\n      if (current.employeeRecordId && employeeOptions.some((option) => option.id === current.employeeRecordId)) {\r\n        return current;\r\n      }\r\n\r\n      const firstOption = employeeOptions[0];\r\n      return {\r\n        ...current,\r\n        employeeRecordId: firstOption.id,\r\n        employee: firstOption.name,\r\n        employeeEmail: firstOption.email,\r\n        onboardingRole: firstOption.currentRole || \"\",\r\n        onboardingDepartment: firstOption.currentDepartment || \"\",\r\n        roleFrom: firstOption.currentRole || \"\",\r\n        departmentFrom: firstOption.currentDepartment || \"\",\r\n      };\r\n    });\r\n  }, [canManage, employeeOptions]);\r\n\r\n  useEffect(() => {\r\n    if (!isCreateModalOpen || typeof window === \"undefined\") {\r\n      return;\r\n    }\r\n\r\n    const previousOverflow = document.body.style.overflow;\r\n    const onKeyDown = (event) => {\r\n      if (event.key === \"Escape\" && !isSubmitting) {\r\n        setIsCreateModalOpen(false);\r\n      }\r\n    };\r\n\r\n    document.body.style.overflow = \"hidden\";\r\n    window.addEventListener(\"keydown\", onKeyDown);\r\n\r\n    return () => {\r\n      document.body.style.overflow = previousOverflow;\r\n      window.removeEventListener(\"keydown\", onKeyDown);\r\n    };\r\n  }, [isCreateModalOpen, isSubmitting]);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") {\r\n      return;\r\n    }\r\n\r\n    const allowed = new Set(SECTION_TABS.map((tab) => tab.id));\r\n    const syncSectionFromHash = (rawHash = window.location.hash) => {\r\n      const hash = String(rawHash || \"\")\r\n        .replace(/^#/, \"\")\r\n        .trim()\r\n        .toLowerCase();\r\n      if (!hash) {\r\n        setSection(\"workflow-status-tracking\");\r\n        return;\r\n      }\r\n\r\n      const matched = SECTION_TABS.find((tab) => toSubTabAnchor(tab.id) === hash);\r\n      if (matched && allowed.has(matched.id)) {\r\n        setSection(matched.id);\r\n      }\r\n    };\r\n\r\n    const onSubTabAnchor = (event) => {\r\n      const nextAnchor = event?.detail?.anchor;\r\n      if (!nextAnchor) {\r\n        syncSectionFromHash();\r\n        return;\r\n      }\r\n      syncSectionFromHash(nextAnchor);\r\n    };\r\n\r\n    syncSectionFromHash();\r\n    window.addEventListener(\"hashchange\", syncSectionFromHash);\r\n    window.addEventListener(\"popstate\", syncSectionFromHash);\r\n    window.addEventListener(\"clio:subtab-anchor\", onSubTabAnchor);\r\n    return () => {\r\n      window.removeEventListener(\"hashchange\", syncSectionFromHash);\r\n      window.removeEventListener(\"popstate\", syncSectionFromHash);\r\n      window.removeEventListener(\"clio:subtab-anchor\", onSubTabAnchor);\r\n    };\r\n  }, []);\r\n\r\n  const filteredRecords = useMemo(() => {\r\n    return records.filter((record) => {\r\n      const bySection =\r\n        section === \"workflow-status-tracking\"\r\n          ? true\r\n          : normalizeText(record.category).includes(normalizeText(CATEGORY_BY_SECTION[section]));\r\n      const byStatus = selectedStatus ? normalizeText(record.status).includes(normalizeText(selectedStatus)) : true;\r\n      const byQuery = searchQuery\r\n        ? [record.employee, record.employeeEmail, record.category, record.owner, record.status]\r\n            .map((item) => normalizeText(item))\r\n            .some((item) => item.includes(normalizeText(searchQuery)))\r\n        : true;\r\n      return bySection && byStatus && byQuery;\r\n    });\r\n  }, [records, section, selectedStatus, searchQuery]);\r\n\r\n  const recordsPagination = useMemo(() => {\r\n    const total = filteredRecords.length;\r\n    const totalPages = Math.max(1, Math.ceil(total / recordsPageSize));\r\n    const page = Math.min(Math.max(1, recordsPage), totalPages);\r\n    return {\r\n      page,\r\n      pageSize: recordsPageSize,\r\n      total,\r\n      totalPages,\r\n    };\r\n  }, [filteredRecords.length, recordsPage]);\r\n\r\n  const pagedRecords = useMemo(() => {\r\n    const start = (recordsPagination.page - 1) * recordsPagination.pageSize;\r\n    return filteredRecords.slice(start, start + recordsPagination.pageSize);\r\n  }, [filteredRecords, recordsPagination.page, recordsPagination.pageSize]);\r\n\r\n  useEffect(() => {\r\n    setRecordsPage(1);\r\n  }, [section, searchQuery, selectedStatus]);\r\n\r\n  useEffect(() => {\r\n    if (recordsPage > recordsPagination.totalPages) {\r\n      setRecordsPage(recordsPagination.totalPages);\r\n    }\r\n  }, [recordsPage, recordsPagination.totalPages]);\r\n\r\n  useEffect(() => {\r\n    if (filteredRecords.length === 0) {\r\n      setSelectedRecordId(\"\");\r\n      setIsWorkflowConsoleOpen(false);\r\n      return;\r\n    }\r\n    if (selectedRecordId && !filteredRecords.some((record) => record.id === selectedRecordId)) {\r\n      setSelectedRecordId(\"\");\r\n      setIsWorkflowConsoleOpen(false);\r\n    }\r\n  }, [filteredRecords, selectedRecordId]);\r\n\r\n  useEffect(() => {\r\n    if (!isWorkflowConsoleOpen || typeof window === \"undefined\") {\r\n      return;\r\n    }\r\n\r\n    const previousOverflow = document.body.style.overflow;\r\n    const onKeyDown = (event) => {\r\n      if (event.key === \"Escape\" && !isSubmitting) {\r\n        setIsWorkflowConsoleOpen(false);\r\n      }\r\n    };\r\n\r\n    document.body.style.overflow = \"hidden\";\r\n    window.addEventListener(\"keydown\", onKeyDown);\r\n\r\n    return () => {\r\n      document.body.style.overflow = previousOverflow;\r\n      window.removeEventListener(\"keydown\", onKeyDown);\r\n    };\r\n  }, [isWorkflowConsoleOpen, isSubmitting]);\r\n\r\n  const activeRecord = useMemo(\r\n    () => records.find((record) => record.id === selectedRecordId) || null,\r\n    [records, selectedRecordId],\r\n  );\r\n  const activeChecklist = Array.isArray(activeRecord?.workflow?.checklist) ? activeRecord.workflow.checklist : [];\r\n  const activeStages = Array.isArray(activeRecord?.workflow?.stages) ? activeRecord.workflow.stages : [];\r\n  const activeStageIndex = Number.isFinite(Number(activeRecord?.workflow?.stageIndex))\r\n    ? Number(activeRecord.workflow.stageIndex)\r\n    : 0;\r\n  const activeEvidence = Array.isArray(activeRecord?.evidence) ? activeRecord.evidence : [];\r\n  const activeRequiredEvidence = useMemo(() => getRequiredEvidenceSummary(activeRecord), [activeRecord]);\r\n  const createRequiredEvidenceRules = useMemo(() => getRequiredEvidenceRulesForCategory(form.category), [form.category]);\r\n  const createCategoryType = useMemo(() => normalizeLifecycleWorkflowType(form.category), [form.category]);\r\n  const createWorkflowDocuments = useMemo(() => {\r\n    if (createCategoryType === \"disciplinary\") {\r\n      return disciplinaryDocuments;\r\n    }\r\n    if (createCategoryType === \"offboarding\") {\r\n      return offboardingDocuments;\r\n    }\r\n    return onboardingDocuments;\r\n  }, [createCategoryType, disciplinaryDocuments, offboardingDocuments, onboardingDocuments]);\r\n\r\n  const summaryMetrics = useMemo(() => {\r\n    const inProgress = filteredRecords.filter((record) => {\r\n      const normalizedStatus = normalizeText(record.status);\r\n      return normalizedStatus.includes(\"in progress\") || normalizedStatus.includes(\"pending\");\r\n    }).length;\r\n    const completed = filteredRecords.filter((record) => {\r\n      const normalizedStatus = normalizeText(record.status);\r\n      return normalizedStatus.includes(\"approved\") || normalizedStatus.includes(\"completed\");\r\n    }).length;\r\n    return {\r\n      total: filteredRecords.length,\r\n      inProgress,\r\n      completed,\r\n    };\r\n  }, [filteredRecords]);\r\n\r\n  const summaryCards = useMemo(() => {\r\n    return [\r\n      { key: \"total\", label: \"Total\", value: summaryMetrics.total },\r\n      { key: \"in-progress\", label: \"In Progress\", value: summaryMetrics.inProgress },\r\n      { key: \"completed\", label: \"Completed\", value: summaryMetrics.completed },\r\n    ];\r\n  }, [summaryMetrics]);\r\n\r\n  const handleFormField = (field) => (event) => {\r\n    setForm((current) => ({\r\n      ...current,\r\n      [field]: event.target.value,\r\n    }));\r\n  };\r\n\r\n  const handleFormToggle = (field) => (event) => {\r\n    setForm((current) => ({\r\n      ...current,\r\n      [field]: Boolean(event.target.checked),\r\n    }));\r\n  };\r\n\r\n  const handleOnboardingDocumentsChange = (event) => {\r\n    const files = Array.from(event.target.files || []);\r\n    setOnboardingDocuments(files.slice(0, 10));\r\n  };\r\n\r\n  const removeOnboardingDocument = (indexToRemove) => {\r\n    setOnboardingDocuments((current) => current.filter((_, index) => index !== indexToRemove));\r\n  };\r\n\r\n  const handleCategoryDocumentsChange = (categoryType) => (event) => {\r\n    const files = Array.from(event.target.files || []).slice(0, 10);\r\n    if (categoryType === \"disciplinary\") {\r\n      setDisciplinaryDocuments(files);\r\n      return;\r\n    }\r\n    if (categoryType === \"offboarding\") {\r\n      setOffboardingDocuments(files);\r\n    }\r\n  };\r\n\r\n  const removeCategoryDocument = (categoryType, indexToRemove) => {\r\n    if (categoryType === \"disciplinary\") {\r\n      setDisciplinaryDocuments((current) => current.filter((_, index) => index !== indexToRemove));\r\n      return;\r\n    }\r\n    if (categoryType === \"offboarding\") {\r\n      setOffboardingDocuments((current) => current.filter((_, index) => index !== indexToRemove));\r\n    }\r\n  };\r\n\r\n  const handleCategoryChange = (event) => {\r\n    const nextCategory = event.target.value;\r\n    const nextCategoryType = normalizeLifecycleWorkflowType(nextCategory);\r\n    const onboardingMode = isOnboardingCategory(nextCategory);\r\n    if (nextCategoryType !== \"onboarding\") {\r\n      setOnboardingDocuments([]);\r\n    }\r\n    if (nextCategoryType !== \"disciplinary\") {\r\n      setDisciplinaryDocuments([]);\r\n    }\r\n    if (nextCategoryType !== \"offboarding\") {\r\n      setOffboardingDocuments([]);\r\n    }\r\n    setForm((current) => {\r\n      if (onboardingMode) {\r\n        return {\r\n          ...current,\r\n          category: nextCategory,\r\n          employeeRecordId: \"\",\r\n          employee: composeOnboardingEmployeeName(current),\r\n          employeeEmail: \"\",\r\n          onboardingEmployeeId: \"\",\r\n          onboardingFirstName: \"\",\r\n          onboardingMiddleName: \"\",\r\n          onboardingLastName: \"\",\r\n          onboardingSuffix: \"\",\r\n          onboardingRole: \"\",\r\n          onboardingDepartment: \"\",\r\n          onboardingStartDate: \"\",\r\n          workSetup: \"On-site\",\r\n          activateEmploymentNow: true,\r\n          roleFrom: \"\",\r\n          departmentFrom: \"\",\r\n        };\r\n      }\r\n\r\n      const selectedOption =\r\n        employeeOptions.find((option) => option.id === current.employeeRecordId) || employeeOptions[0] || null;\r\n      return {\r\n        ...current,\r\n        category: nextCategory,\r\n        employeeRecordId: selectedOption?.id || current.employeeRecordId || \"\",\r\n        employee: selectedOption?.name || current.employee || \"\",\r\n        employeeEmail: selectedOption?.email || current.employeeEmail || \"\",\r\n        onboardingRole: selectedOption?.currentRole || current.onboardingRole || \"\",\r\n        onboardingDepartment: selectedOption?.currentDepartment || current.onboardingDepartment || \"\",\r\n        roleFrom: selectedOption?.currentRole || current.roleFrom || \"\",\r\n        departmentFrom: selectedOption?.currentDepartment || current.departmentFrom || \"\",\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleEmployeeSelection = (event) => {\r\n    const selectedId = event.target.value;\r\n    const option = employeeOptions.find((entry) => entry.id === selectedId);\r\n\r\n    setForm((current) => ({\r\n      ...current,\r\n      employeeRecordId: selectedId,\r\n      employee: option?.name || \"\",\r\n      employeeEmail: option?.email || \"\",\r\n      onboardingRole: option?.currentRole || \"\",\r\n      onboardingDepartment: option?.currentDepartment || \"\",\r\n      roleFrom: option?.currentRole || \"\",\r\n      departmentFrom: option?.currentDepartment || \"\",\r\n    }));\r\n  };\r\n\r\n  const createRecord = async (event) => {\r\n    event.preventDefault();\r\n    if (!canManage) {\r\n      return;\r\n    }\r\n\r\n    if (isOnboardingCategory(form.category)) {\r\n      if (!String(form.employeeEmail || \"\").trim()) {\r\n        setErrorMessage(\"Google account email is required for onboarding.\");\r\n        return;\r\n      }\r\n      const oversizedFile = onboardingDocuments.find((file) => file.size > 10 * 1024 * 1024);\r\n      if (oversizedFile) {\r\n        setErrorMessage(\"Each onboarding document must be 10MB or below.\");\r\n        toast.error(\"Each onboarding document must be 10MB or below.\");\r\n        return;\r\n      }\r\n    }\r\n    if (createCategoryType === \"disciplinary\" || createCategoryType === \"offboarding\") {\r\n      const oversizedFile = createWorkflowDocuments.find((file) => file.size > 10 * 1024 * 1024);\r\n      if (oversizedFile) {\r\n        const label = createCategoryType === \"disciplinary\" ? \"disciplinary\" : \"offboarding\";\r\n        setErrorMessage(`Each ${label} document must be 10MB or below.`);\r\n        toast.error(`Each ${label} document must be 10MB or below.`);\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (isRoleMovementCategory(form.category)) {\r\n      const roleFrom = String(form.roleFrom || \"\").trim();\r\n      const roleTo = String(form.roleTo || \"\").trim();\r\n      if (!roleFrom || !roleTo) {\r\n        setErrorMessage(\"Current role is missing on employee record. Set employee role first, then select new role.\");\r\n        return;\r\n      }\r\n      const departmentFrom = String(form.departmentFrom || \"\").trim();\r\n      if (!departmentFrom) {\r\n        setErrorMessage(\"Current department is missing on employee record. Set employee department first.\");\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (\r\n      !(await confirmAction({\r\n        title: \"Create Lifecycle Workflow\",\r\n        message: `Create ${form.category} workflow for ${valueOrDash(form.employeeEmail || form.employee)}?`,\r\n        confirmText: \"Create\",\r\n      }))\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n    try {\r\n      const onboardingMode = isOnboardingCategory(form.category);\r\n      const onboardingEmployeeName = onboardingMode ? composeOnboardingEmployeeName(form) : form.employee;\r\n      const onboardingEmail = String(form.employeeEmail || \"\").trim();\r\n      const status = onboardingMode\r\n        ? form.activateEmploymentNow && onboardingEmail\r\n          ? \"Approved\"\r\n          : \"In Progress\"\r\n        : form.status;\r\n      const response = await hrisApi.lifecycle.create({\r\n        employeeEmail: form.employeeEmail,\r\n        employee: onboardingEmployeeName,\r\n        category: form.category,\r\n        owner: workflowOwner,\r\n        status,\r\n        details: buildLifecycleDetailsPayload(form),\r\n      });\r\n      const createdRecordId = String(response?.record?.id || \"\").trim();\r\n      const evidenceTypeLabel =\r\n        createCategoryType === \"onboarding\"\r\n          ? \"Onboarding\"\r\n          : createCategoryType === \"disciplinary\"\r\n            ? \"Disciplinary\"\r\n            : createCategoryType === \"offboarding\"\r\n              ? \"Offboarding\"\r\n              : \"Evidence\";\r\n\r\n      if (createdRecordId && createWorkflowDocuments.length > 0) {\r\n        for (const file of createWorkflowDocuments) {\r\n          const uploaded = await uploadLifecycleEvidenceToStorage({\r\n            file,\r\n            lifecycleRecordId: createdRecordId,\r\n            employeeEmail: form.employeeEmail,\r\n          });\r\n\r\n          await hrisApi.lifecycle.update(createdRecordId, {\r\n            workflowAction: {\r\n              type: \"add-evidence\",\r\n                evidence: {\r\n                  id: `evidence-${Date.now()}-${Math.random().toString(36).slice(2, 7)}`,\r\n                  name: String(file.name || \"\").trim() || \"Onboarding Document\",\r\n                  type: evidenceTypeLabel,\r\n                  ref: uploaded.downloadUrl,\r\n                  storagePath: uploaded.storagePath,\r\n                  contentType: uploaded.contentType,\r\n                sizeBytes: uploaded.sizeBytes,\r\n                uploadedAt: new Date().toISOString(),\r\n                uploadedBy: session?.email || \"system@gmail.com\",\r\n              },\r\n            },\r\n          });\r\n        }\r\n      }\r\n\r\n      setForm(initialForm);\r\n      setOnboardingDocuments([]);\r\n      setDisciplinaryDocuments([]);\r\n      setOffboardingDocuments([]);\r\n      setIsCreateModalOpen(false);\r\n      const effectSummary = summarizeLifecycleEffects(response?.effects);\r\n      const documentSummary =\r\n        createWorkflowDocuments.length > 0\r\n          ? `${createWorkflowDocuments.length} ${evidenceTypeLabel.toLowerCase()} document${createWorkflowDocuments.length > 1 ? \"s\" : \"\"} uploaded. `\r\n          : \"\";\r\n      const successText =\r\n        effectSummary\r\n          ? `${documentSummary}Lifecycle workflow created. ${effectSummary}`\r\n          : `${documentSummary}Lifecycle workflow created.`;\r\n      const onboardingDraftNote =\r\n        onboardingMode && form.activateEmploymentNow && !onboardingEmail\r\n          ? \" Saved as In Progress because account email is blank.\"\r\n          : \"\";\r\n      const finalSuccessText = `${successText}${onboardingDraftNote}`;\r\n      setSuccessMessage(finalSuccessText);\r\n      toast.success(finalSuccessText);\r\n      await loadRecords();\r\n    } catch (error) {\r\n      const message = error.message || \"Unable to create lifecycle workflow.\";\r\n      setErrorMessage(message);\r\n      toast.error(message);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const toggleChecklistTask = async (record, task, completed) => {\r\n    if (!record?.id || !task?.id || !canManage) {\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n    try {\r\n      await hrisApi.lifecycle.update(record.id, {\r\n        workflowAction: {\r\n          type: \"toggle-task\",\r\n          taskId: task.id,\r\n          completed,\r\n        },\r\n      });\r\n      const message = completed ? \"Checklist task marked as completed.\" : \"Checklist task reverted to pending.\";\r\n      setSuccessMessage(message);\r\n      toast.success(message);\r\n      await loadRecords();\r\n    } catch (error) {\r\n      const message = error.message || \"Unable to update checklist task.\";\r\n      setErrorMessage(message);\r\n      toast.error(message);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const setWorkflowStage = async (record, stageIndex) => {\r\n    if (!record?.id || !canManage) {\r\n      return;\r\n    }\r\n\r\n    if (\r\n      !(await confirmAction({\r\n        title: \"Update Workflow Stage\",\r\n        message: \"Update workflow stage for this case?\",\r\n        confirmText: \"Update\",\r\n      }))\r\n    ) {\r\n      return;\r\n    }\r\n    if (\r\n      !(await confirmAction({\r\n        title: \"Update Checklist Task\",\r\n        message: completed ? `Mark \"${valueOrDash(task.label)}\" as completed?` : `Set \"${valueOrDash(task.label)}\" back to pending?`,\r\n        confirmText: completed ? \"Mark Complete\" : \"Set Pending\",\r\n      }))\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n    try {\r\n      await hrisApi.lifecycle.update(record.id, {\r\n        workflowAction: {\r\n          type: \"set-stage\",\r\n          stageIndex,\r\n        },\r\n      });\r\n      setSuccessMessage(\"Workflow stage updated.\");\r\n      toast.success(\"Workflow stage updated.\");\r\n      await loadRecords();\r\n    } catch (error) {\r\n      const message = error.message || \"Unable to update workflow stage.\";\r\n      setErrorMessage(message);\r\n      toast.error(message);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const triggerOffboarding = async (record) => {\r\n    if (!record?.id || !canManage) {\r\n      return;\r\n    }\r\n    const requiredEvidence = getRequiredEvidenceSummary(record);\r\n    if (!requiredEvidence.complete) {\r\n      const message = `Required offboarding documents are missing: ${requiredEvidence.missing.map((item) => item.label).join(\", \")}.`;\r\n      setErrorMessage(\r\n        `Required offboarding documents are missing: ${requiredEvidence.missing.map((item) => item.label).join(\", \")}.`,\r\n      );\r\n      toast.error(message);\r\n      setSuccessMessage(\"\");\r\n      return;\r\n    }\r\n    if (\r\n      !(await confirmAction({\r\n        title: \"Trigger Offboarding\",\r\n        message: \"Trigger immediate offboarding and access revocation for this employee?\",\r\n        confirmText: \"Offboard\",\r\n        tone: \"danger\",\r\n      }))\r\n    ) {\r\n      return;\r\n    }\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n    try {\r\n      const response = await hrisApi.lifecycle.offboard(record.id, {\r\n        reason: \"Resignation\",\r\n      });\r\n      const effectSummary = summarizeLifecycleEffects(response?.effects);\r\n      setSuccessMessage(\r\n        effectSummary\r\n          ? `Offboarding completed. ${effectSummary}`\r\n          : \"Offboarding completed. Access revocation has been triggered.\",\r\n      );\r\n      toast.success(\"Offboarding completed.\");\r\n      await loadRecords();\r\n    } catch (error) {\r\n      const message = error.message || \"Unable to complete offboarding.\";\r\n      setErrorMessage(message);\r\n      toast.error(message);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleEvidenceFileChange = async (event) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file || !activeRecord || !canManage) {\r\n      event.target.value = \"\";\r\n      return;\r\n    }\r\n    if (file.size > 10 * 1024 * 1024) {\r\n      setErrorMessage(\"Evidence upload is limited to 10MB per file.\");\r\n      toast.error(\"Evidence upload is limited to 10MB per file.\");\r\n      event.target.value = \"\";\r\n      return;\r\n    }\r\n    if (\r\n      !(await confirmAction({\r\n        title: \"Upload Evidence\",\r\n        message: `Upload evidence file \\\"${file.name}\\\" to this workflow?`,\r\n        confirmText: \"Upload\",\r\n      }))\r\n    ) {\r\n      event.target.value = \"\";\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n    try {\r\n      const uploaded = await uploadLifecycleEvidenceToStorage({\r\n        file,\r\n        lifecycleRecordId: activeRecord.id,\r\n        employeeEmail: activeRecord.employeeEmail,\r\n      });\r\n\r\n      await hrisApi.lifecycle.update(activeRecord.id, {\r\n        workflowAction: {\r\n          type: \"add-evidence\",\r\n          evidence: {\r\n            id: `evidence-${Date.now()}`,\r\n            name: String(file.name || \"\").trim() || \"Evidence File\",\r\n            ref: uploaded.downloadUrl,\r\n            storagePath: uploaded.storagePath,\r\n            contentType: uploaded.contentType,\r\n            sizeBytes: uploaded.sizeBytes,\r\n            uploadedAt: new Date().toISOString(),\r\n            uploadedBy: session?.email || \"system@gmail.com\",\r\n          },\r\n        },\r\n      });\r\n\r\n      setSuccessMessage(\"Evidence file uploaded.\");\r\n      toast.success(\"Evidence file uploaded.\");\r\n      await loadRecords();\r\n    } catch (error) {\r\n      const message = error.message || \"Unable to upload evidence file.\";\r\n      setErrorMessage(message);\r\n      toast.error(message);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n      event.target.value = \"\";\r\n    }\r\n  };\r\n\r\n  const removeEvidence = async (record, evidence) => {\r\n    if (!record?.id || !evidence?.id || !canManage) {\r\n      return;\r\n    }\r\n    const label = String(evidence?.name || \"evidence file\").trim();\r\n    if (\r\n      !(await confirmAction({\r\n        title: \"Remove Evidence\",\r\n        message: `Remove evidence \\\"${label}\\\" from this workflow?`,\r\n        confirmText: \"Remove\",\r\n        tone: \"danger\",\r\n      }))\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n    try {\r\n      await hrisApi.lifecycle.update(record.id, {\r\n        workflowAction: {\r\n          type: \"remove-evidence\",\r\n          evidenceId: evidence.id,\r\n        },\r\n      });\r\n      const storagePath = String(evidence?.storagePath || \"\").trim();\r\n      if (storagePath) {\r\n        removeStorageObjectByPath(storagePath).catch(() => null);\r\n      }\r\n      setSuccessMessage(\"Evidence file removed.\");\r\n      toast.success(\"Evidence file removed.\");\r\n      await loadRecords();\r\n    } catch (error) {\r\n      const message = error.message || \"Unable to remove evidence file.\";\r\n      setErrorMessage(message);\r\n      toast.error(message);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const closeCreateModal = () => {\r\n    if (isSubmitting) {\r\n      return;\r\n    }\r\n    setOnboardingDocuments([]);\r\n    setDisciplinaryDocuments([]);\r\n    setOffboardingDocuments([]);\r\n    setIsCreateModalOpen(false);\r\n  };\r\n\r\n  const openCreateModal = () => {\r\n    const nextCategory = activeSectionCategory || \"Onboarding\";\r\n    const onboardingMode = isOnboardingCategory(nextCategory);\r\n    const selectedOption =\r\n      !onboardingMode\r\n        ? employeeOptions.find((option) => option.id === form.employeeRecordId) ||\r\n          employeeOptions[0] ||\r\n          null\r\n        : null;\r\n    setForm((current) => ({\r\n      ...initialForm,\r\n      employeeRecordId: onboardingMode ? \"\" : selectedOption?.id || current.employeeRecordId || \"\",\r\n      employee: onboardingMode ? \"\" : selectedOption?.name || current.employee || \"\",\r\n      employeeEmail: onboardingMode ? \"\" : selectedOption?.email || current.employeeEmail || \"\",\r\n      onboardingRole: onboardingMode ? \"\" : selectedOption?.currentRole || current.onboardingRole || \"\",\r\n      onboardingDepartment: onboardingMode ? \"\" : selectedOption?.currentDepartment || current.onboardingDepartment || \"\",\r\n      roleFrom: onboardingMode ? \"\" : selectedOption?.currentRole || current.roleFrom || \"\",\r\n      departmentFrom: onboardingMode ? \"\" : selectedOption?.currentDepartment || current.departmentFrom || \"\",\r\n      category: nextCategory,\r\n      owner: workflowOwner,\r\n      status: \"In Progress\",\r\n    }));\r\n    setOnboardingDocuments([]);\r\n    setDisciplinaryDocuments([]);\r\n    setOffboardingDocuments([]);\r\n    setIsCreateModalOpen(true);\r\n  };\r\n\r\n  const openWorkflowConsole = (recordId) => {\r\n    if (!recordId) {\r\n      return;\r\n    }\r\n    setSelectedRecordId(recordId);\r\n    setIsWorkflowConsoleOpen(true);\r\n  };\r\n\r\n  const closeWorkflowConsole = () => {\r\n    if (isSubmitting) {\r\n      return;\r\n    }\r\n    setIsWorkflowConsoleOpen(false);\r\n  };\r\n\r\n  const renderLifecycleHeaderCells = () => {\r\n    if (section === \"onboarding\") {\r\n      return (\r\n        <>\r\n          <th className=\"px-2 py-3 font-medium\">Employee</th>\r\n          <th className=\"px-2 py-3 font-medium\">Employee Number</th>\r\n          <th className=\"px-2 py-3 font-medium\">Effective Date</th>\r\n          <th className=\"px-2 py-3 font-medium\">Initiated By</th>\r\n          <th className=\"px-2 py-3 font-medium\">Status</th>\r\n          <th className=\"px-2 py-3 font-medium\">Decision At</th>\r\n          <th className=\"px-2 py-3 font-medium\">Updated</th>\r\n          <th className=\"px-2 py-3 font-medium text-right\">Actions</th>\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (section === \"role-changes\") {\r\n      return (\r\n        <>\r\n          <th className=\"px-2 py-3 font-medium\">Employee</th>\r\n          <th className=\"px-2 py-3 font-medium\">Role From -&gt; Role To</th>\r\n          <th className=\"px-2 py-3 font-medium\">Department From -&gt; Department To</th>\r\n          <th className=\"px-2 py-3 font-medium\">Effective Date</th>\r\n          <th className=\"px-2 py-3 font-medium\">Initiated By</th>\r\n          <th className=\"px-2 py-3 font-medium\">Status</th>\r\n          <th className=\"px-2 py-3 font-medium\">Decision At</th>\r\n          <th className=\"px-2 py-3 font-medium\">Updated</th>\r\n          <th className=\"px-2 py-3 font-medium text-right\">Actions</th>\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (section === \"disciplinary-records\") {\r\n      return (\r\n        <>\r\n          <th className=\"px-2 py-3 font-medium\">Employee</th>\r\n          <th className=\"px-2 py-3 font-medium\">Stage</th>\r\n          <th className=\"px-2 py-3 font-medium\">Checklist</th>\r\n          <th className=\"px-2 py-3 font-medium\">Effective Date</th>\r\n          <th className=\"px-2 py-3 font-medium\">Initiated By</th>\r\n          <th className=\"px-2 py-3 font-medium\">Status</th>\r\n          <th className=\"px-2 py-3 font-medium\">Decision At</th>\r\n          <th className=\"px-2 py-3 font-medium\">Updated</th>\r\n          <th className=\"px-2 py-3 font-medium text-right\">Actions</th>\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (section === \"offboarding-access-revocation\") {\r\n      return (\r\n        <>\r\n          <th className=\"px-2 py-3 font-medium\">Employee</th>\r\n          <th className=\"px-2 py-3 font-medium\">Stage</th>\r\n          <th className=\"px-2 py-3 font-medium\">Initiated By</th>\r\n          <th className=\"px-2 py-3 font-medium\">Status</th>\r\n          <th className=\"px-2 py-3 font-medium\">Access Revoked At</th>\r\n          <th className=\"px-2 py-3 font-medium\">Archive Until</th>\r\n          <th className=\"px-2 py-3 font-medium\">Updated</th>\r\n          <th className=\"px-2 py-3 font-medium text-right\">Actions</th>\r\n        </>\r\n      );\r\n    }\r\n\r\n  return (\r\n    <>\r\n      <th className=\"px-2 py-3 font-medium\">Employee</th>\r\n      <th className=\"px-2 py-3 font-medium\">Category</th>\r\n      <th className=\"px-2 py-3 font-medium\">Stage</th>\r\n      <th className=\"px-2 py-3 font-medium\">Effective Date</th>\r\n        <th className=\"px-2 py-3 font-medium\">Initiated By</th>\r\n        <th className=\"px-2 py-3 font-medium\">Status</th>\r\n        <th className=\"px-2 py-3 font-medium\">Decision At</th>\r\n        <th className=\"px-2 py-3 font-medium\">Updated</th>\r\n        <th className=\"px-2 py-3 font-medium text-right\">Actions</th>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const renderLifecycleEmployeeCell = (record) => (\r\n    <>\r\n      <p className=\"font-medium text-slate-900\">{valueOrDash(record.employee)}</p>\r\n      <p className=\"text-xs text-slate-500\">{valueOrDash(record.employeeEmail)}</p>\r\n    </>\r\n  );\r\n\r\n  const renderLifecycleActionCell = (record, rowSelected) => (\r\n    <td className=\"px-2 py-3 text-right\">\r\n      {(() => {\r\n        const requiredEvidence = getRequiredEvidenceSummary(record);\r\n        const offboardBlocked = isOffboardingRecord(record) && !requiredEvidence.complete;\r\n        return (\r\n      <div className=\"inline-flex flex-wrap items-center justify-end gap-2\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => openWorkflowConsole(record.id)}\r\n          className={`rounded-lg border px-2.5 py-1.5 text-xs font-medium transition ${\r\n            rowSelected\r\n              ? \"border-sky-300 bg-sky-50 text-sky-700\"\r\n              : \"border-slate-300 bg-white text-slate-700 hover:bg-slate-50\"\r\n          }`}\r\n        >\r\n          {rowSelected ? \"Opened\" : \"Open Workflow\"}\r\n        </button>\r\n        {canManage && isOffboardingRecord(record) ? (\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => triggerOffboarding(record)}\r\n            disabled={isSubmitting || offboardBlocked}\r\n            title={offboardBlocked ? \"Attach required offboarding evidence first.\" : undefined}\r\n            className=\"rounded-lg border border-rose-200 bg-rose-50 px-2.5 py-1.5 text-xs font-medium text-rose-700 transition hover:bg-rose-100 disabled:opacity-60\"\r\n          >\r\n            Offboard\r\n          </button>\r\n        ) : null}\r\n      </div>\r\n        );\r\n      })()}\r\n    </td>\r\n  );\r\n\r\n  const renderLifecycleDataCells = (record, { checklistProgress, rowSelected }) => {\r\n    const effectiveDate = getLifecycleEffectiveDate(record);\r\n    const owner = String(record?.owner || \"\").trim();\r\n    const decisionAt = getLifecycleDecisionTimestamp(record);\r\n    const roleTransition = getLifecycleRoleTransition(record);\r\n    const departmentTransition = getLifecycleDepartmentTransition(record);\r\n    const employeeNumber = getLifecycleEmployeeNumber(record);\r\n    const accessRevokedAt = getLifecycleAccessRevokedAt(record);\r\n    const archiveUntil = getLifecycleArchiveUntil(record);\r\n\r\n    if (section === \"onboarding\") {\r\n      return (\r\n        <>\r\n          <td className=\"px-2 py-3\">{renderLifecycleEmployeeCell(record)}</td>\r\n          <td className=\"px-2 py-3 text-xs\">{valueOrDash(employeeNumber)}</td>\r\n          <td className=\"px-2 py-3 text-xs\">{formatDateShort(effectiveDate)}</td>\r\n          <td className=\"px-2 py-3 text-xs\">{valueOrDash(owner)}</td>\r\n          <td className=\"px-2 py-3\">\r\n            <StatusBadge value={record.status || \"-\"} />\r\n          </td>\r\n          <td className=\"px-2 py-3 text-xs\">{decisionAt ? formatDate(decisionAt) : \"-\"}</td>\r\n          <td className=\"px-2 py-3 text-xs text-slate-600\">{formatDate(record.updatedAt || record.createdAt)}</td>\r\n          {renderLifecycleActionCell(record, rowSelected)}\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (section === \"role-changes\") {\r\n      return (\r\n        <>\r\n          <td className=\"px-2 py-3\">{renderLifecycleEmployeeCell(record)}</td>\r\n          <td className=\"px-2 py-3 text-xs\">{valueOrDash(roleTransition)}</td>\r\n          <td className=\"px-2 py-3 text-xs\">{valueOrDash(departmentTransition)}</td>\r\n          <td className=\"px-2 py-3 text-xs\">{formatDateShort(effectiveDate)}</td>\r\n          <td className=\"px-2 py-3 text-xs\">{valueOrDash(owner)}</td>\r\n          <td className=\"px-2 py-3\">\r\n            <StatusBadge value={record.status || \"-\"} />\r\n          </td>\r\n          <td className=\"px-2 py-3 text-xs\">{decisionAt ? formatDate(decisionAt) : \"-\"}</td>\r\n          <td className=\"px-2 py-3 text-xs text-slate-600\">{formatDate(record.updatedAt || record.createdAt)}</td>\r\n          {renderLifecycleActionCell(record, rowSelected)}\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (section === \"disciplinary-records\") {\r\n      return (\r\n        <>\r\n          <td className=\"px-2 py-3\">{renderLifecycleEmployeeCell(record)}</td>\r\n          <td className=\"px-2 py-3\">{valueOrDash(record?.workflow?.stage)}</td>\r\n          <td className=\"px-2 py-3 text-xs\">\r\n            {checklistProgress.completed}/{checklistProgress.total}\r\n          </td>\r\n          <td className=\"px-2 py-3 text-xs\">{formatDateShort(effectiveDate)}</td>\r\n          <td className=\"px-2 py-3 text-xs\">{valueOrDash(owner)}</td>\r\n          <td className=\"px-2 py-3\">\r\n            <StatusBadge value={record.status || \"-\"} />\r\n          </td>\r\n          <td className=\"px-2 py-3 text-xs\">{decisionAt ? formatDate(decisionAt) : \"-\"}</td>\r\n          <td className=\"px-2 py-3 text-xs text-slate-600\">{formatDate(record.updatedAt || record.createdAt)}</td>\r\n          {renderLifecycleActionCell(record, rowSelected)}\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (section === \"offboarding-access-revocation\") {\r\n      return (\r\n        <>\r\n          <td className=\"px-2 py-3\">{renderLifecycleEmployeeCell(record)}</td>\r\n          <td className=\"px-2 py-3\">{valueOrDash(record?.workflow?.stage)}</td>\r\n          <td className=\"px-2 py-3 text-xs\">{valueOrDash(owner)}</td>\r\n          <td className=\"px-2 py-3\">\r\n            <StatusBadge value={record.status || \"-\"} />\r\n          </td>\r\n          <td className=\"px-2 py-3 text-xs\">{accessRevokedAt ? formatDate(accessRevokedAt) : \"-\"}</td>\r\n          <td className=\"px-2 py-3 text-xs\">{archiveUntil ? formatDate(archiveUntil) : \"-\"}</td>\r\n          <td className=\"px-2 py-3 text-xs text-slate-600\">{formatDate(record.updatedAt || record.createdAt)}</td>\r\n          {renderLifecycleActionCell(record, rowSelected)}\r\n        </>\r\n      );\r\n    }\r\n\r\n  return (\r\n    <>\r\n      <td className=\"px-2 py-3\">{renderLifecycleEmployeeCell(record)}</td>\r\n      <td className=\"px-2 py-3\">{valueOrDash(record.category)}</td>\r\n      <td className=\"px-2 py-3\">{valueOrDash(record?.workflow?.stage)}</td>\r\n        <td className=\"px-2 py-3 text-xs\">{formatDateShort(effectiveDate)}</td>\r\n        <td className=\"px-2 py-3 text-xs\">{valueOrDash(owner)}</td>\r\n        <td className=\"px-2 py-3\">\r\n          <StatusBadge value={record.status || \"-\"} />\r\n        </td>\r\n        <td className=\"px-2 py-3 text-xs\">{decisionAt ? formatDate(decisionAt) : \"-\"}</td>\r\n        <td className=\"px-2 py-3 text-xs text-slate-600\">{formatDate(record.updatedAt || record.createdAt)}</td>\r\n        {renderLifecycleActionCell(record, rowSelected)}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {errorMessage ? (\r\n        <p className=\"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700\">{errorMessage}</p>\r\n      ) : null}\r\n      {employeeOptionsError ? (\r\n        <p className=\"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-700\">\r\n          {employeeOptionsError}\r\n        </p>\r\n      ) : null}\r\n      {successMessage ? (\r\n        <p className=\"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700\">{successMessage}</p>\r\n      ) : null}\r\n\r\n      {canManage && isCreateModalOpen ? (\r\n        <div\r\n          className=\"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-slate-900/45 p-4 sm:items-center\"\r\n          role=\"dialog\"\r\n          aria-modal=\"true\"\r\n          aria-label=\"Create Lifecycle Workflow\"\r\n          onClick={closeCreateModal}\r\n        >\r\n          <div\r\n            className=\"my-4 flex max-h-[calc(100vh-2rem)] w-full max-w-5xl flex-col rounded-2xl border border-slate-200 bg-white p-5 shadow-2xl sm:p-6\"\r\n            onClick={(event) => event.stopPropagation()}\r\n          >\r\n            <div className=\"flex items-start justify-between gap-3\">\r\n              <div>\r\n                <h2 className=\"text-base font-semibold text-slate-900\">Create Lifecycle Workflow</h2>\r\n                <p className=\"mt-0.5 text-sm text-slate-600\">\r\n                  Onboarding, role change, disciplinary, and offboarding actions\r\n                </p>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                onClick={closeCreateModal}\r\n                disabled={isSubmitting}\r\n                className=\"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 disabled:opacity-70\"\r\n                aria-label=\"Close create workflow modal\"\r\n              >\r\n                <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className=\"h-4 w-4\" aria-hidden=\"true\">\r\n                  <path d=\"m6 6 12 12M18 6 6 18\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            <form className=\"mt-4 grid flex-1 gap-3 overflow-y-auto pr-1 md:grid-cols-3\" onSubmit={createRecord}>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">\r\n                  Lifecycle Category\r\n                </label>\r\n                <select\r\n                  value={form.category}\r\n                  onChange={handleCategoryChange}\r\n                  className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                >\r\n                  <option>Onboarding</option>\r\n                  <option>Role Change</option>\r\n                  <option>Disciplinary</option>\r\n                  <option>Offboarding</option>\r\n                </select>\r\n              </div>\r\n              {isOnboardingCategory(form.category) ? (\r\n                <div className=\"space-y-1\">\r\n                  <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">\r\n                    Workflow Status\r\n                  </label>\r\n                  <input\r\n                    value={form.activateEmploymentNow ? \"Approved (auto on create)\" : \"In Progress\"}\r\n                    readOnly\r\n                    aria-readonly=\"true\"\r\n                    className=\"h-9 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 text-xs font-medium text-slate-700\"\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-1\">\r\n                  <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">\r\n                    Workflow Status\r\n                  </label>\r\n                  <select\r\n                    value={form.status}\r\n                    onChange={handleFormField(\"status\")}\r\n                    className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                  >\r\n                    <option>In Progress</option>\r\n                    <option>Completed</option>\r\n                    <option>Approved</option>\r\n                    <option>Rejected</option>\r\n                  </select>\r\n                </div>\r\n              )}\r\n              {createRequiredEvidenceRules.length > 0 ? (\r\n                <div className=\"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 md:col-span-3\">\r\n                  <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-amber-700\">\r\n                    Required Documents For Final Status\r\n                  </p>\r\n                  <div className=\"mt-1.5 flex flex-wrap gap-1.5\">\r\n                    {createRequiredEvidenceRules.map((rule) => (\r\n                      <span\r\n                        key={rule.id}\r\n                        className=\"inline-flex rounded-md border border-amber-200 bg-white px-2 py-1 text-[11px] font-medium text-amber-700\"\r\n                      >\r\n                        {rule.label}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                  <p className=\"mt-1.5 text-[11px] text-amber-700\">\r\n                    You cannot set this workflow to Approved/Completed/Access Revoked until all required documents are attached.\r\n                  </p>\r\n                </div>\r\n              ) : null}\r\n              {isOnboardingCategory(form.category) ? (\r\n                <div className=\"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 md:col-span-3\">\r\n                  <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">\r\n                    Workflow Steps\r\n                  </p>\r\n                  <div className=\"mt-1.5 flex flex-wrap gap-1.5\">\r\n                    <span className=\"inline-flex rounded-md border border-sky-200 bg-sky-50 px-2 py-1 text-[11px] font-medium text-sky-700\">\r\n                      1. Encode Employee Details\r\n                    </span>\r\n                    <span className=\"inline-flex rounded-md border border-sky-200 bg-sky-50 px-2 py-1 text-[11px] font-medium text-sky-700\">\r\n                      2. Upload Documents\r\n                    </span>\r\n                    <span className=\"inline-flex rounded-md border border-sky-200 bg-sky-50 px-2 py-1 text-[11px] font-medium text-sky-700\">\r\n                      3. Create Account\r\n                    </span>\r\n                    <span className=\"inline-flex rounded-md border border-sky-200 bg-sky-50 px-2 py-1 text-[11px] font-medium text-sky-700\">\r\n                      4. Activate Employment\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ) : null}\r\n\r\n              {isOnboardingCategory(form.category) ? (\r\n                <>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employee Number</label>\r\n                    <input\r\n                      value={form.onboardingEmployeeId}\r\n                      onChange={handleFormField(\"onboardingEmployeeId\")}\r\n                      placeholder=\"Employee number\"\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Last Name</label>\r\n                    <input\r\n                      value={form.onboardingLastName}\r\n                      onChange={handleFormField(\"onboardingLastName\")}\r\n                      placeholder=\"Last name\"\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">First Name</label>\r\n                    <input\r\n                      value={form.onboardingFirstName}\r\n                      onChange={handleFormField(\"onboardingFirstName\")}\r\n                      placeholder=\"First name\"\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Middle Name</label>\r\n                    <input\r\n                      value={form.onboardingMiddleName}\r\n                      onChange={handleFormField(\"onboardingMiddleName\")}\r\n                      placeholder=\"Middle name\"\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Suffix</label>\r\n                    <input\r\n                      value={form.onboardingSuffix}\r\n                      onChange={handleFormField(\"onboardingSuffix\")}\r\n                      placeholder=\"Suffix (optional)\"\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-1 md:col-span-2\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">\r\n                      Account Email (Google Sign-In)\r\n                    </label>\r\n                    <input\r\n                      required\r\n                      value={form.employeeEmail}\r\n                      onChange={handleFormField(\"employeeEmail\")}\r\n                      type=\"email\"\r\n                      placeholder=\"employee@gmail.com\"\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Assigned Role</label>\r\n                    <select\r\n                      value={form.onboardingRole}\r\n                      onChange={handleFormField(\"onboardingRole\")}\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    >\r\n                      <option value=\"\">Select role</option>\r\n                      {availableRoleTargets.map((roleOption) => (\r\n                        <option key={`onboarding-role-${roleOption.value}`} value={roleOption.value}>\r\n                          {roleOption.label}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Assigned Department</label>\r\n                    <select\r\n                      value={form.onboardingDepartment}\r\n                      onChange={handleFormField(\"onboardingDepartment\")}\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    >\r\n                      <option value=\"\">Select department</option>\r\n                      {departmentCatalogOptions.map((departmentOption) => (\r\n                        <option\r\n                          key={`onboarding-department-${departmentOption.value}`}\r\n                          value={departmentOption.value}\r\n                        >\r\n                          {departmentOption.label}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Work Setup</label>\r\n                    <select\r\n                      value={form.workSetup}\r\n                      onChange={handleFormField(\"workSetup\")}\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    >\r\n                      {ONBOARDING_WORK_SETUP_OPTIONS.map((workSetup) => (\r\n                        <option key={`work-setup-${workSetup}`} value={workSetup}>\r\n                          {workSetup}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">\r\n                      Employment Start Date\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={form.onboardingStartDate}\r\n                      onChange={handleFormField(\"onboardingStartDate\")}\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-1 md:col-span-2\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">\r\n                      Generated Employee Display Name\r\n                    </label>\r\n                    <input\r\n                      value={composeOnboardingEmployeeName(form)}\r\n                      readOnly\r\n                      aria-readonly=\"true\"\r\n                      className=\"h-9 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 text-xs font-medium text-slate-700\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-1 md:col-span-3\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">\r\n                      Upload Onboarding Documents\r\n                    </label>\r\n                    <input\r\n                      type=\"file\"\r\n                      multiple\r\n                      accept=\".pdf,.png,.jpg,.jpeg,.doc,.docx\"\r\n                      onChange={handleOnboardingDocumentsChange}\r\n                      className=\"block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-xs text-slate-700 file:mr-3 file:rounded-md file:border-0 file:bg-slate-100 file:px-2.5 file:py-1.5 file:text-xs file:font-semibold file:text-slate-700 hover:file:bg-slate-200\"\r\n                    />\r\n                    <p className=\"text-[11px] text-slate-500\">\r\n                      Add contracts, IDs, NDA, and other onboarding files (max 10 files, 10 MB each).\r\n                    </p>\r\n                    {onboardingDocuments.length > 0 ? (\r\n                      <div className=\"flex flex-wrap gap-1.5\">\r\n                        {onboardingDocuments.map((file, index) => (\r\n                          <span\r\n                            key={`${file.name}-${file.size}-${file.lastModified}-${index}`}\r\n                            className=\"inline-flex items-center gap-1 rounded-md border border-slate-200 bg-slate-50 px-2 py-1 text-[11px] text-slate-700\"\r\n                          >\r\n                            <span className=\"max-w-[210px] truncate\">{file.name}</span>\r\n                            <span className=\"text-slate-500\">({formatFileSize(file.size)})</span>\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => removeOnboardingDocument(index)}\r\n                              className=\"rounded px-1 text-slate-500 transition hover:bg-slate-200 hover:text-slate-700\"\r\n                              aria-label={`Remove ${file.name}`}\r\n                            >\r\n                              x\r\n                            </button>\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                    ) : (\r\n                      <p className=\"text-[11px] text-slate-500\">No files selected.</p>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"space-y-1 md:col-span-3\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">\r\n                      Activate Employment\r\n                    </label>\r\n                    <label className=\"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-700\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={Boolean(form.activateEmploymentNow)}\r\n                        onChange={handleFormToggle(\"activateEmploymentNow\")}\r\n                        className=\"h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-500\"\r\n                      />\r\n                      Activate employment immediately after onboarding is created.\r\n                    </label>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employee Name</label>\r\n                    <select\r\n                      required\r\n                      value={form.employeeRecordId}\r\n                      onChange={handleEmployeeSelection}\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    >\r\n                      <option value=\"\">\r\n                        {isLoadingEmployeeOptions ? \"Loading employee names...\" : \"Select employee name\"}\r\n                      </option>\r\n                      {employeeOptions.map((option) => (\r\n                        <option key={`name-${option.id}`} value={option.id}>\r\n                          {option.name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employee Email</label>\r\n                    <input\r\n                      value={form.employeeEmail}\r\n                      readOnly\r\n                      aria-readonly=\"true\"\r\n                      className=\"h-9 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 text-xs font-medium text-slate-700\"\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n              {isRoleMovementCategory(form.category) ? (\r\n                <>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Current Role</label>\r\n                    <input\r\n                      value={valueOrDash(toRoleLabel(form.roleFrom))}\r\n                      readOnly\r\n                      aria-readonly=\"true\"\r\n                      title=\"Auto-fetched from selected employee record\"\r\n                      className=\"h-9 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 text-xs font-medium text-slate-700\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">New Role</label>\r\n                    <select\r\n                      required\r\n                      value={form.roleTo}\r\n                      onChange={handleFormField(\"roleTo\")}\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    >\r\n                      <option value=\"\">Select role</option>\r\n                      {availableRoleTargets.map((roleOption) => (\r\n                        <option key={`role-to-${roleOption.value}`} value={roleOption.value}>\r\n                          {roleOption.label}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Effective Date</label>\r\n                    <input\r\n                      value={form.effectiveDate}\r\n                      onChange={handleFormField(\"effectiveDate\")}\r\n                      type=\"date\"\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Current Department</label>\r\n                    <input\r\n                      value={valueOrDash(form.departmentFrom)}\r\n                      readOnly\r\n                      aria-readonly=\"true\"\r\n                      title=\"Auto-fetched from selected employee record\"\r\n                      className=\"h-9 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 text-xs font-medium text-slate-700\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">New Department</label>\r\n                    <select\r\n                      value={form.departmentTo}\r\n                      onChange={handleFormField(\"departmentTo\")}\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    >\r\n                      <option value=\"\">Select department</option>\r\n                      {departmentCatalogOptions.map((departmentOption) => (\r\n                        <option\r\n                          key={`department-to-${departmentOption.value}`}\r\n                          value={departmentOption.value}\r\n                        >\r\n                          {departmentOption.label}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"space-y-1 md:col-span-3\">\r\n                    <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">\r\n                      Role Change Justification\r\n                    </label>\r\n                    <input\r\n                      value={form.justification}\r\n                      onChange={handleFormField(\"justification\")}\r\n                      placeholder=\"Enter justification\"\r\n                      className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    />\r\n                  </div>\r\n                </>\r\n              ) : null}\r\n              {createCategoryType === \"disciplinary\" || createCategoryType === \"offboarding\" ? (\r\n                <div className=\"space-y-1 md:col-span-3\">\r\n                  <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">\r\n                    Upload {createCategoryType === \"disciplinary\" ? \"Disciplinary\" : \"Offboarding\"} Documents\r\n                  </label>\r\n                  <input\r\n                    type=\"file\"\r\n                    multiple\r\n                    accept=\".pdf,.png,.jpg,.jpeg,.doc,.docx,.xls,.xlsx,.csv,.txt\"\r\n                    onChange={handleCategoryDocumentsChange(createCategoryType)}\r\n                    className=\"block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-xs text-slate-700 file:mr-3 file:rounded-md file:border-0 file:bg-slate-100 file:px-2.5 file:py-1.5 file:text-xs file:font-semibold file:text-slate-700 hover:file:bg-slate-200\"\r\n                  />\r\n                  <p className=\"text-[11px] text-slate-500\">\r\n                    Attach supporting files now (max 10 files, 10 MB each).\r\n                  </p>\r\n                  {createWorkflowDocuments.length > 0 ? (\r\n                    <div className=\"flex flex-wrap gap-1.5\">\r\n                      {createWorkflowDocuments.map((file, index) => (\r\n                        <span\r\n                          key={`${file.name}-${file.size}-${file.lastModified}-${index}`}\r\n                          className=\"inline-flex items-center gap-1 rounded-md border border-slate-200 bg-slate-50 px-2 py-1 text-[11px] text-slate-700\"\r\n                        >\r\n                          <span className=\"max-w-[210px] truncate\">{file.name}</span>\r\n                          <span className=\"text-slate-500\">({formatFileSize(file.size)})</span>\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => removeCategoryDocument(createCategoryType, index)}\r\n                            className=\"rounded px-1 text-slate-500 transition hover:bg-slate-200 hover:text-slate-700\"\r\n                            aria-label={`Remove ${file.name}`}\r\n                          >\r\n                            x\r\n                          </button>\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    <p className=\"text-[11px] text-slate-500\">No files selected.</p>\r\n                  )}\r\n                </div>\r\n              ) : null}\r\n              <div\r\n                className={`space-y-1 ${isRoleMovementCategory(form.category) || isOnboardingCategory(form.category) ? \"md:col-span-3\" : \"\"}`}\r\n              >\r\n                <label className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Notes</label>\r\n                <input\r\n                  value={form.details}\r\n                  onChange={handleFormField(\"details\")}\r\n                  placeholder={isOnboardingCategory(form.category) ? \"Onboarding notes\" : \"Details / notes\"}\r\n                  className=\"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                />\r\n              </div>\r\n              <div className=\"sticky bottom-0 z-10 mt-1 flex items-center justify-end gap-2 border-t border-slate-200 bg-white pt-3 md:col-span-3\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={closeCreateModal}\r\n                  disabled={isSubmitting}\r\n                  className=\"inline-flex h-9 items-center rounded-lg border border-slate-300 bg-white px-3 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-70\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={\r\n                    isSubmitting ||\r\n                    isLoadingEmployeeOptions ||\r\n                    isLoadingReferenceCatalog ||\r\n                    (isOnboardingCategory(form.category)\r\n                      ? !String(form.employeeEmail || \"\").trim()\r\n                      : employeeOptions.length === 0 || !form.employeeRecordId)\r\n                  }\r\n                  className=\"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70\"\r\n                >\r\n                  {isSubmitting ? \"Saving...\" : \"Create Workflow\"}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n\r\n      <SurfaceCard\r\n        title={activeSectionTab.label}\r\n        subtitle={activeSectionDescription}\r\n      >\r\n        <div className=\"grid gap-3 sm:grid-cols-3\">\r\n          {summaryCards.map((card) => (\r\n            <div key={card.key} className=\"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2\">\r\n              <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">{card.label}</p>\r\n              <p className=\"mt-0.5 text-lg font-semibold text-slate-900\">{card.value}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </SurfaceCard>\r\n\r\n      <div>\r\n        <SurfaceCard\r\n          title=\"Lifecycle Records\"\r\n          subtitle=\"Dedicated workflow records by lifecycle module with strict audit traceability\"\r\n          action={\r\n            <div className=\"flex flex-wrap items-center gap-2\">\r\n              {canManage ? (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={openCreateModal}\r\n                  className=\"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700\"\r\n                >\r\n                  Create Lifecycle Workflow\r\n                </button>\r\n              ) : null}\r\n              <input\r\n                value={searchQuery}\r\n                onChange={(event) => setSearchQuery(event.target.value)}\r\n                placeholder=\"Search workflow\"\r\n                className=\"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none\"\r\n              />\r\n              <select\r\n                value={selectedStatus}\r\n                onChange={(event) => setSelectedStatus(event.target.value)}\r\n                className=\"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none\"\r\n              >\r\n                <option value=\"\">All Status</option>\r\n                <option value=\"in progress\">In Progress</option>\r\n                <option value=\"pending\">Pending</option>\r\n                <option value=\"approved\">Approved</option>\r\n                <option value=\"completed\">Completed</option>\r\n                <option value=\"rejected\">Rejected</option>\r\n                <option value=\"revoked\">Access Revoked</option>\r\n              </select>\r\n            </div>\r\n          }\r\n        >\r\n          {isLoading ? (\r\n            <p className=\"text-sm text-slate-600\">Loading lifecycle records...</p>\r\n          ) : filteredRecords.length === 0 ? (\r\n            <EmptyState\r\n              title=\"No lifecycle workflows found\"\r\n              subtitle=\"Create a workflow or change filters to view results.\"\r\n            />\r\n          ) : (\r\n            <>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-[1180px] w-full text-left text-sm\">\r\n                  <thead>\r\n                    <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\r\n                      {renderLifecycleHeaderCells()}\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {pagedRecords.map((record) => {\r\n                      const checklistProgress = getChecklistProgress(record);\r\n                      const rowSelected = isWorkflowConsoleOpen && selectedRecordId === record.id;\r\n                      return (\r\n                        <tr key={record.id} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\r\n                          {renderLifecycleDataCells(record, { checklistProgress, rowSelected })}\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <PaginationControls pagination={recordsPagination} onPageChange={setRecordsPage} />\r\n            </>\r\n          )}\r\n        </SurfaceCard>\r\n\r\n        {isWorkflowConsoleOpen ? (\r\n          <div\r\n            className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 p-4\"\r\n            role=\"dialog\"\r\n            aria-modal=\"true\"\r\n            aria-label=\"Workflow Console\"\r\n            onClick={closeWorkflowConsole}\r\n          >\r\n            <div\r\n              className=\"w-full max-w-5xl rounded-2xl border border-slate-200 bg-white p-4 shadow-2xl sm:p-5\"\r\n              onClick={(event) => event.stopPropagation()}\r\n            >\r\n              <div className=\"mb-3 flex items-start justify-between gap-3\">\r\n                <div>\r\n                  <h2 className=\"text-base font-semibold text-slate-900\">Workflow Console</h2>\r\n                  <p className=\"mt-0.5 text-sm text-slate-600\">\r\n                    Checklist automation, stage control, and lifecycle evidence management\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={closeWorkflowConsole}\r\n                  disabled={isSubmitting}\r\n                  className=\"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 disabled:opacity-60\"\r\n                  aria-label=\"Close workflow console\"\r\n                >\r\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className=\"h-4 w-4\" aria-hidden=\"true\">\r\n                    <path d=\"m6 6 12 12M18 6 6 18\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n\r\n              <SurfaceCard>\r\n                {!activeRecord ? (\r\n                  <EmptyState\r\n                    title=\"No workflow selected\"\r\n                    subtitle=\"Open a lifecycle record from the table to continue.\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"space-y-3\">\r\n              <div className=\"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2.5\">\r\n                <div className=\"flex flex-wrap items-center justify-between gap-2\">\r\n                  <div>\r\n                    <p className=\"text-sm font-semibold text-slate-900\">{valueOrDash(activeRecord.employee)}</p>\r\n                    <p className=\"text-xs text-slate-600\">{valueOrDash(activeRecord.employeeEmail)}</p>\r\n                  </div>\r\n                  {canManage ? (\r\n                    <select\r\n                      value={activeStageIndex}\r\n                      onChange={(event) => setWorkflowStage(activeRecord, Number.parseInt(event.target.value, 10) || 0)}\r\n                      disabled={isSubmitting}\r\n                      className=\"h-8 rounded-md border border-slate-300 bg-white px-2.5 text-xs text-slate-700 focus:border-sky-400 focus:outline-none\"\r\n                    >\r\n                      {activeStages.map((stage, index) => (\r\n                        <option key={`${stage}-${index}`} value={index}>\r\n                          {stage}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  ) : null}\r\n                </div>\r\n                <div className=\"mt-2 flex flex-wrap gap-1.5 text-[11px] text-slate-600\">\r\n                  <span className=\"rounded-md border border-slate-200 bg-white px-2 py-1\">\r\n                    Stage: {valueOrDash(activeRecord?.workflow?.stage)}\r\n                  </span>\r\n                  <span className=\"rounded-md border border-slate-200 bg-white px-2 py-1\">\r\n                    SLA Due: {formatDateShort(activeRecord?.workflow?.slaDueAt)}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"rounded-lg border border-slate-200 bg-white p-3\">\r\n                <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500\">Checklist Automation</p>\r\n                <div className=\"mt-2 space-y-2\">\r\n                  {activeChecklist.length === 0 ? (\r\n                    <p className=\"text-xs text-slate-500\">No checklist tasks generated yet.</p>\r\n                  ) : (\r\n                    activeChecklist.map((task) => {\r\n                      const completed = normalizeText(task?.status) === \"completed\";\r\n                      return (\r\n                        <div key={task.id} className=\"rounded-md border border-slate-200 bg-slate-50 px-2.5 py-2\">\r\n                          <div className=\"flex flex-wrap items-center justify-between gap-2\">\r\n                            <div>\r\n                              <p className=\"text-xs font-medium text-slate-800\">{valueOrDash(task.label)}</p>\r\n                              <p className=\"text-[11px] text-slate-500\">\r\n                                Due: {formatDate(task.dueAt)} | Status: {valueOrDash(task.status)}\r\n                              </p>\r\n                            </div>\r\n                            {canManage ? (\r\n                              <button\r\n                                type=\"button\"\r\n                                onClick={() => toggleChecklistTask(activeRecord, task, !completed)}\r\n                                disabled={isSubmitting}\r\n                                className={`inline-flex h-7 items-center rounded-md border px-2.5 text-[11px] font-semibold transition disabled:opacity-60 ${\r\n                                  completed\r\n                                    ? \"border-amber-200 bg-amber-50 text-amber-700 hover:bg-amber-100\"\r\n                                    : \"border-emerald-200 bg-emerald-50 text-emerald-700 hover:bg-emerald-100\"\r\n                                }`}\r\n                              >\r\n                                {completed ? \"Set Pending\" : \"Mark Complete\"}\r\n                              </button>\r\n                            ) : null}\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"rounded-lg border border-slate-200 bg-white p-3\">\r\n                <div className=\"flex flex-wrap items-center justify-between gap-2\">\r\n                  <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500\">Evidence Attachments</p>\r\n                  {canManage ? (\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => evidenceInputRef.current?.click()}\r\n                        disabled={isSubmitting}\r\n                        className=\"inline-flex h-8 items-center rounded-md border border-slate-300 bg-white px-3 text-[11px] font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-60\"\r\n                      >\r\n                        Upload Evidence\r\n                      </button>\r\n                      <input\r\n                        ref={evidenceInputRef}\r\n                        type=\"file\"\r\n                        className=\"hidden\"\r\n                        onChange={handleEvidenceFileChange}\r\n                      />\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n\r\n                {activeRequiredEvidence.required.length > 0 ? (\r\n                  <div className=\"mt-2 rounded-md border border-slate-200 bg-slate-50 px-2.5 py-2\">\r\n                    <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Required Documents</p>\r\n                    <div className=\"mt-1.5 flex flex-wrap gap-1.5\">\r\n                      {activeRequiredEvidence.required.map((item) => {\r\n                        const completed = activeRequiredEvidence.matched.some((entry) => entry.id === item.id);\r\n                        return (\r\n                          <span\r\n                            key={item.id}\r\n                            className={`inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] ${\r\n                              completed\r\n                                ? \"border-emerald-200 bg-emerald-50 text-emerald-700\"\r\n                                : \"border-amber-200 bg-amber-50 text-amber-700\"\r\n                            }`}\r\n                          >\r\n                            {item.label}\r\n                          </span>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                    {!activeRequiredEvidence.complete ? (\r\n                      <p className=\"mt-1.5 text-[11px] text-amber-700\">\r\n                        Final status is blocked until all required documents are attached.\r\n                      </p>\r\n                    ) : (\r\n                      <p className=\"mt-1.5 text-[11px] text-emerald-700\">Required evidence complete.</p>\r\n                    )}\r\n                  </div>\r\n                ) : null}\r\n\r\n                <div className=\"mt-2 space-y-2\">\r\n                  {activeEvidence.length === 0 ? (\r\n                    <p className=\"text-xs text-slate-500\">No evidence files attached.</p>\r\n                  ) : (\r\n                    activeEvidence.map((evidence) => (\r\n                      <div key={evidence.id} className=\"rounded-md border border-slate-200 bg-slate-50 px-2.5 py-2\">\r\n                        <div className=\"flex flex-wrap items-center justify-between gap-2\">\r\n                          <div>\r\n                            <p className=\"text-xs font-medium text-slate-800\">{valueOrDash(evidence.name)}</p>\r\n                            <p className=\"text-[11px] text-slate-500\">\r\n                              {formatFileSize(evidence.sizeBytes)} | {formatDate(evidence.uploadedAt)}\r\n                            </p>\r\n                          </div>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            {String(evidence.ref || \"\").trim() ? (\r\n                              <a\r\n                                href={String(evidence.ref)}\r\n                                target=\"_blank\"\r\n                                rel=\"noreferrer\"\r\n                                className=\"inline-flex h-7 items-center rounded-md border border-sky-200 bg-sky-50 px-2.5 text-[11px] font-semibold text-sky-700 transition hover:bg-sky-100\"\r\n                              >\r\n                                Open\r\n                              </a>\r\n                            ) : null}\r\n                            {canManage ? (\r\n                              <button\r\n                                type=\"button\"\r\n                                onClick={() => removeEvidence(activeRecord, evidence)}\r\n                                disabled={isSubmitting}\r\n                                className=\"inline-flex h-7 items-center rounded-md border border-rose-200 bg-rose-50 px-2.5 text-[11px] font-semibold text-rose-700 transition hover:bg-rose-100 disabled:opacity-60\"\r\n                              >\r\n                                Remove\r\n                              </button>\r\n                            ) : null}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </div>\r\n                  </div>\r\n                )}\r\n              </SurfaceCard>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}