module.exports=[55933,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(72131),e=a.i(44036),f=a.i(63824),g=a.i(38014),h=a.i(93363),i=a.i(3427),j=a.i(98719),k=a.i(95312),l=a.i(51084),m=a.i(74404),n=a.i(63609);a.i(68248);let o=[{id:"profile",label:"Employee Profile"},{id:"compliance",label:"Government & Compliance IDs"},{id:"payroll",label:"Payroll Information"},{id:"documents",label:"Employee Attached Documents"},{id:"activity",label:"Recent Activity"}],p=["Active","Probation","Inactive","Archived"],q=["On-site","Hybrid","Remote"],r=[{value:"SUPER_ADMIN",label:"Super Admin"},{value:"GRC",label:"GRC"},{value:"HR",label:"HR"},{value:"EA",label:"EA"},{value:"EMPLOYEE_L1",label:"Employee (L1)"},{value:"EMPLOYEE_L2",label:"Employee (L2)"},{value:"EMPLOYEE_L3",label:"Employee (L3)"}],s=[{value:"Governance, Risk, and Compliance (GRC)",label:"Governance, Risk, and Compliance (GRC)"},{value:"Research and Development (R&D)",label:"Research and Development (R&D)"},{value:"Cyber Security Operations Center (CSOC)",label:"Cyber Security Operations Center (CSOC)"},{value:"Threat Intelligence (TI)",label:"Threat Intelligence (TI)"}],t=[{key:"primaryId",label:"Primary Government ID"},{key:"sss",label:"SSS"},{key:"tin",label:"TIN"},{key:"philhealth",label:"PhilHealth"},{key:"pagibig",label:"Pag-IBIG"},{key:"passport",label:"Passport"}],u=[{key:"compensationType",label:"Compensation Type",placeholder:"Monthly"},{key:"baseSalary",label:"Base Salary",placeholder:"e.g. 45000"},{key:"bankName",label:"Bank Name",placeholder:"e.g. BPI"},{key:"accountName",label:"Account Name",placeholder:"Employee Name"},{key:"accountNumber",label:"Account Number",placeholder:"XXXX-XXXX"},{key:"taxCode",label:"Tax Code",placeholder:"S/ME1"}],v={employeeId:"",lastName:"",firstName:"",middleName:"",suffix:"",email:"",role:"EMPLOYEE_L1",department:"",workSetup:"On-site",hireDate:""},w={employeeId:"",lastName:"",firstName:"",middleName:"",suffix:"",email:"",department:"",hireDate:""},x={role:"EMPLOYEE_L1",workSetup:"On-site"},y={contact:"",address:"",emergencyContact:""},z={primaryId:"",sss:"",tin:"",philhealth:"",pagibig:"",passport:""},A={payrollGroup:"",compensationType:"",baseSalary:"",bankName:"",accountName:"",accountNumber:"",taxCode:""},B={role:"EMPLOYEE_L1",status:"Active",managerEmail:""},C={firstName:"",middleName:"",lastName:"",suffix:"",contact:"",address:"",emergencyContact:""};function D(a){let b=new Date(a||"");return Number.isNaN(b.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(b)}function E(a){return String(a||"").trim().toLowerCase()}function F(a){return String(a||"").trim()}function G(a){return Array.isArray(a)?a:[]}function H(a){return a&&"object"==typeof a&&!Array.isArray(a)?a:{}}function I(a,b){let c=[],d=new Set;return[...G(a),...G(b)].forEach(a=>{let b,e,f=(b=String(a?.value||"").trim(),e=String(a?.label||b).trim(),b?{value:b,label:e||b}:null);if(!f)return;let g=`${f.value}::${f.label}`.toLowerCase();d.has(g)||(d.add(g),c.push(f))}),c}function J(a){return String(a??"").trim()||"-"}function K(a){let b=String(a??"").trim();return"-"===b?"":b}function L(a,b){let c=String(a||"").trim();if(c)return c;let d=String(b||"").trim().toLowerCase();return d.includes("@")?(0,l.formatNameFromEmail)(d,{fallbackLabel:"User"}):J(b)}function M(a,b){let c=String(a||"").trim();if(c.includes("@"))return c.toLowerCase();let d=String(b||"").trim();return d.includes("@")?d.toLowerCase():""}function N(a){let b=String(a||"").trim();if(!b)return"-";let c=b.toUpperCase(),d={EMPLOYEE:"Employee (L1)",EMPLOYEE_L1:"Employee (L1)",EMPLOYEE_L2:"Employee (L2)",EMPLOYEE_L3:"Employee (L3)"};return d[c]?d[c]:b.includes("_")?b.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "):b}function O(a){return(0,l.formatEmployeeName)({lastName:a?.lastName,firstName:a?.firstName,middleName:a?.middleName,suffix:a?.suffix,fallback:a?.name,fallbackEmail:a?.email,fallbackLabel:"Employee"})}function P(a,c,d){return(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,b.jsx)("p",{className:"text-[11px] font-medium uppercase tracking-[0.08em] text-slate-500",children:a}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-800",children:J(c)})]},d)}function Q({session:a}){let Q=(0,j.useToast)(),R=(0,k.useConfirm)(),S=a?.role||"EMPLOYEE_L1",T=a?.email||"",U=String(S||"").trim().toUpperCase().startsWith("EMPLOYEE_"),V=!U,[W,X]=(0,d.useState)({roles:r,departments:s}),[Y,Z]=(0,d.useState)("profile"),[$,_]=(0,d.useState)([]),[aa,ab]=(0,d.useState)(null),[ac,ad]=(0,d.useState)(""),[ae,af]=(0,d.useState)(""),[ag,ah]=(0,d.useState)(""),[ai,aj]=(0,d.useState)(""),[ak,al]=(0,d.useState)(1),[am,an]=(0,d.useState)(!0),[ao,ap]=(0,d.useState)(""),[aq,ar]=(0,d.useState)(null),[as,at]=(0,d.useState)(v),[au,av]=(0,d.useState)(w),[aw,ax]=(0,d.useState)(x),[ay,az]=(0,d.useState)(y),[aA,aB]=(0,d.useState)(z),[aC,aD]=(0,d.useState)(A),[aE,aF]=(0,d.useState)(B),[aG,aH]=(0,d.useState)(C),[aI,aJ]=(0,d.useState)(!1),[aK,aL]=(0,d.useState)(!1),[aM,aN]=(0,d.useState)(!1),aO=(0,d.useRef)(null),aP=(0,d.useRef)(null),aQ=(0,d.useRef)(""),aR=(0,d.useRef)(new Map),aS=(0,d.useMemo)(()=>U?o.filter(a=>"profile"===a.id||"documents"===a.id):o,[U]),aT=(0,d.useMemo)(()=>I(W.roles,r),[W.roles]),aU=(0,d.useMemo)(()=>I(W.departments,s),[W.departments]),aV=(0,d.useCallback)(a=>{let b=F(a?.id||a?.recordId);b?(ap(b),Z("profile"),aL(!0)):Q.error("Unable to open employee details. Missing record identifier.")},[Q]);(0,d.useEffect)(()=>{},[aI]),(0,d.useEffect)(()=>{aQ.current=ao},[ao]),(0,d.useEffect)(()=>{let a=window.setTimeout(()=>{af(ac)},300);return()=>{window.clearTimeout(a)}},[ac]),(0,d.useEffect)(()=>{if(U)return void X({roles:r,departments:s});let a=!0;return(async()=>{try{let b=await n.hrisApi.settings.referenceData.list();if(!a)return;X({roles:I(b?.catalogs?.roles,r),departments:I(b?.catalogs?.departments,s)})}catch{if(!a)return;X({roles:r,departments:s})}})(),()=>{a=!1}},[U]);let aW=(0,d.useCallback)(async()=>{an(!0);try{let a=await n.hrisApi.employees.list({q:ae,status:ag,role:ai,page:ak,pageSize:10,includeDocuments:!!U||void 0}),b=G(a.records).map(a=>({...a,id:F(a?.id||a?.recordId),name:O(a)})).filter(a=>!!a.id);if(_(b),ab(a.pagination||null),U){let a=b[0]?.id||"";aQ.current!==a&&ap(a),aL(!!a);return}!aQ.current&&b[0]?.id&&ap(b[0].id),aQ.current&&!b.some(a=>a.id===aQ.current)&&ap(b[0]?.id||"")}catch(a){Q.error(a.message||"Unable to load employee directory.")}finally{an(!1)}},[ae,U,ak,ai,ag,Q]),aX=(0,d.useCallback)(async()=>{let a=F(ao);if(!a)return void ar(null);try{let b=aR.current.get(a);if(b&&Date.now()-b.at<6e4)return void ar(b.record);let c=await n.hrisApi.employees.get(a),d=c.record?{...c.record,name:O(c.record)}:null;ar(d),d&&aR.current.set(a,{record:d,at:Date.now()})}catch(b){String(b?.message||"").toLowerCase().includes("invalid record identifier")&&(ap(""),aL(!1)),aR.current.delete(a),ar(null),Q.error(b.message||"Unable to load employee profile.")}},[ao,Q]);(0,d.useEffect)(()=>{aW()},[aW]),(0,d.useEffect)(()=>{aX()},[aX]),(0,d.useEffect)(()=>{new Set(aS.map(a=>a.id)).has(Y)||Z(aS[0]?.id||"profile")},[Y,aS]),(0,d.useEffect)(()=>{},[aS,ao]);let aY=(0,d.useMemo)(()=>{let a=$.find(a=>a.id===ao)||null,b=F(aq?.id||aq?.recordId);if(a&&aq&&b===a.id){let b={...a,...aq,id:a.id};return{...b,name:O(b)}}if(a)return a;if(aq){let a=F(aq.id||aq.recordId);return{...aq,id:a,name:O(aq)}}return null},[$,ao,aq]),aZ=(0,d.useMemo)(()=>{let a=[...aT],b=String(aY?.role||"").trim();return b&&!a.some(a=>a.value===b)&&a.push({value:b,label:N(b)}),a},[aT,aY?.role]);(0,d.useEffect)(()=>{0!==aT.length&&at(a=>{let b=String(a.role||"").trim();if(b&&aT.some(a=>a.value===b))return a;let c=aT.find(a=>"EMPLOYEE_L1"===a.value)?.value||aT.find(a=>"Employee"===a.value)?.value||aT[0].value;return{...a,role:c}})},[aT]),(0,d.useEffect)(()=>{if(!aY){av(w),ax(x),az(y),aB(z),aD(A),aF(B);return}av(function(a){if(!a)return w;let b=function(a){let b=String(a||"").trim().replace(/\s+/g," ");if(!b)return{lastName:"",firstName:"",middleName:"",suffix:""};let c=new Set(["JR","JR.","SR","SR.","I","II","III","IV","V"]);if(b.includes(",")){let[a,d]=b.split(",",2),e=String(d||"").trim().split(/\s+/).filter(Boolean),f="";e.length>0&&c.has(e[e.length-1].toUpperCase())&&(f=e.pop()||"");let g=e.shift()||"",h=e.join(" ");return{lastName:String(a||"").trim(),firstName:g,middleName:h,suffix:f}}let d=b.split(/\s+/).filter(Boolean);if(1===d.length)return{lastName:"",firstName:d[0],middleName:"",suffix:""};let e="";return(c.has(d[d.length-1].toUpperCase())&&(e=d.pop()||""),2===d.length)?{lastName:d[1],firstName:d[0],middleName:"",suffix:e}:{lastName:d[d.length-1]||"",firstName:d[0]||"",middleName:d.slice(1,-1).join(" "),suffix:e}}(a.name);return{employeeId:String(a.employeeId||""),lastName:String(a.lastName||b.lastName||""),firstName:String(a.firstName||b.firstName||""),middleName:String(a.middleName||b.middleName||""),suffix:String(a.suffix||b.suffix||""),email:String(a.email||""),department:String(a.department||""),hireDate:String(a.hireDate||"")}}(aY)),ax(aY?{role:String(aY.role||"EMPLOYEE_L1"),workSetup:String(aY.workSetup||"On-site")}:x),az(function(a){if(!a)return y;let b=H(a.contactInformation);return{contact:String(a.contact||b.primaryPhone||""),address:String(a.address||b.address||""),emergencyContact:String(a.emergencyContact||b.emergencyContact||"")}}(aY)),aB(function(a){if(!a)return z;let b=H(a.governmentIds);return{primaryId:String(a.govId||b.primaryId||""),sss:String(b.sss||""),tin:String(b.tin||""),philhealth:String(b.philhealth||""),pagibig:String(b.pagibig||""),passport:String(b.passport||"")}}(aY)),aD(function(a){if(!a)return A;let b=H(a.payrollInformation);return{payrollGroup:String(a.payrollGroup||""),compensationType:String(b.compensationType||""),baseSalary:String(b.baseSalary||""),bankName:String(b.bankName||""),accountName:String(b.accountName||""),accountNumber:String(b.accountNumber||""),taxCode:String(b.taxCode||"")}}(aY)),aF(aY?{role:String(aY.role||"EMPLOYEE_L1"),status:String(aY.status||"Active"),managerEmail:String(aY.managerEmail||"")}:B)},[aY]);let a$=a=>b=>{at(c=>({...c,[a]:b.target.value}))},a_=async a=>{if(a.preventDefault(),!V)return;let b=(0,l.formatEmployeeName)({lastName:as.lastName,firstName:as.firstName,middleName:as.middleName,suffix:as.suffix,fallback:as.email,fallbackEmail:as.email,fallbackLabel:"Employee"}),c=b||String(as.employeeId||"").trim()||"this employee";if(await R({title:"Create Employee Record",message:`Create employee record for ${c}?`,confirmText:"Create"})){aN(!0);try{await n.hrisApi.employees.create({employeeId:String(as.employeeId||"").trim(),name:b,lastName:String(as.lastName||"").trim(),firstName:String(as.firstName||"").trim(),middleName:String(as.middleName||"").trim(),suffix:String(as.suffix||"").trim(),email:E(as.email),role:String(as.role||"").trim(),department:String(as.department||"").trim(),workSetup:String(as.workSetup||"").trim(),hireDate:String(as.hireDate||"").trim(),employmentStatus:"Active Employee",status:"Active"}),at(v),aJ(!1),Q.success("Employee record created."),await aW()}catch(a){Q.error(a.message||"Unable to create employee record.")}finally{aN(!1)}}},a0=a=>b=>{aH(c=>({...c,[a]:b.target.value}))},a1=async a=>{if(a.preventDefault(),!U)return;let b=String(aG.firstName||"").trim(),c=String(aG.lastName||"").trim();if(!b||!c)return void Q.error("First name and last name are required.");if(await R({title:"Submit Employee Record",message:"Submit your employee record details?",confirmText:"Submit"})){aN(!0);try{let a=await n.hrisApi.employees.create({firstName:b,middleName:String(aG.middleName||"").trim(),lastName:c,suffix:String(aG.suffix||"").trim(),contact:String(aG.contact||"").trim(),address:String(aG.address||"").trim(),emergencyContact:String(aG.emergencyContact||"").trim()});aH(C),Q.success("Your employee record has been created."),await aW();let d=F(a?.record?.id||a?.record?.recordId);d&&(ap(d),Z("profile"),aL(!0))}catch(a){Q.error(a.message||"Unable to create your employee record.")}finally{aN(!1)}}},a2=async(a,b,c="Save changes to this employee record?")=>{let d=F(ao)||F(aY?.id);if(!d)return Q.error("Employee record reference is missing. Please reopen the employee details."),!1;if(!await R({title:"Confirm Update",message:c,confirmText:"Save"}))return!1;aN(!0);try{return await n.hrisApi.employees.update(d,a),Q.success(b),await Promise.all([aW(),aX()]),!0}catch(a){return String(a?.message||"").toLowerCase().includes("invalid record identifier")&&(ap(""),aL(!1)),Q.error(a.message||"Unable to update employee profile."),!1}finally{aN(!1)}},a3=async a=>{if(!a||!V)return;let b=$.find(b=>b.id===a),c=J(b?.name||b?.employeeId||a);if(await R({title:"Archive Employee Record",message:`Archive employee record: ${c}?`,confirmText:"Archive",tone:"danger"})){aN(!0);try{await n.hrisApi.employees.archive(a),a===ao&&ap(""),Q.success("Employee record archived."),await aW()}catch(a){Q.error(a.message||"Unable to archive employee record.")}finally{aN(!1)}}},a4=async a=>{let b=a.target.files?.[0];if(!b)return;let c=F(ao)||F(aY?.id);if(!c||!aY?.id||!V){a.target.value="";return}if(b.size>0xa00000){Q.error("Document upload is limited to 10MB per file."),a.target.value="";return}let d=`Upload document "${b.name}" to this employee record?`;if(!await R({title:"Upload Document",message:d,confirmText:"Upload"})){a.target.value="";return}aN(!0);try{let a=await (0,m.uploadEmployeeDocumentToStorage)({file:b,employeeRecordId:c,employeeEmail:aY.email}),d=G(aY.documents),e={name:String(b.name||"").trim()||"Employee Document",type:function(a){let b=String(a?.type||"").trim().toLowerCase();if(b.includes("pdf"))return"PDF";if(b.includes("image"))return"Image";if(b.includes("sheet")||b.includes("excel")||b.includes("csv"))return"Spreadsheet";if(b.includes("word")||b.includes("document"))return"Document";let c=String(a?.name||"").trim(),d=c.includes(".")?c.split(".").pop():"";return d?d.toUpperCase():"General"}(b),ref:a.downloadUrl,storagePath:a.storagePath,contentType:a.contentType||null,sizeBytes:a.sizeBytes,uploadedAt:new Date().toISOString(),uploadedBy:T};await n.hrisApi.employees.update(c,{documents:[...d,e]}),Q.success("Employee document uploaded to secure storage."),await Promise.all([aW(),aX()])}catch(a){Q.error(a.message||"Unable to upload employee document.")}finally{aN(!1),a.target.value=""}},a5=async a=>{if(!aY?.id||!V)return;let b=F(ao)||F(aY?.id);if(!b)return void Q.error("Employee record reference is missing. Please reopen the employee details.");let c=G(aY.documents),d=c[a];if(!d)return;let e=String(d?.name||"").trim()||"this document";if(await R({title:"Remove Document",message:`Remove document "${e}" from this employee record?`,confirmText:"Remove",tone:"danger"})){aN(!0);try{await n.hrisApi.employees.update(b,{documents:c.filter((b,c)=>c!==a)});let e=String(d?.storagePath||"").trim();e&&(0,m.removeStorageObjectByPath)(e).catch(()=>null),Q.success("Employee document removed."),await Promise.all([aW(),aX()])}catch(a){Q.error(a.message||"Unable to remove employee document.")}finally{aN(!1)}}},a6=async(a,b)=>{let c=F(ao)||F(aY?.id);if(!c)return;let d=String(a?.ref||"").trim(),e=String(a?.storagePath||"").trim();if(d||e)try{let f=await n.hrisApi.employees.logDocumentAccess(c,{documentId:String(a?.id||a?.recordId||b).trim(),documentName:String(a?.name||"").trim(),documentType:String(a?.type||"").trim(),documentRef:d,documentStoragePath:e}),g=String(f?.accessUrl||"").trim();if(!g)throw Error("Document access URL is unavailable.");window.open(g,"_blank","noopener,noreferrer")}catch(a){Q.error(a?.message||"Document access is blocked by security policy.")}},a7=async()=>{if(!aY?.id)return;let a={contact:String(ay.contact||"").trim(),address:String(ay.address||"").trim()};V&&(a.emergencyContact=String(ay.emergencyContact||"").trim()),await a2(a,"Contact information updated.",V?"Save contact information changes?":"Save your contact information changes?")},a8=async()=>{if(!aY?.id)return;if(!V)return void await a7();let a=(0,l.formatEmployeeName)({lastName:au.lastName,firstName:au.firstName,middleName:au.middleName,suffix:au.suffix,fallback:aY?.name||au.email,fallbackEmail:au.email,fallbackLabel:"Employee"});await a2({employeeId:String(au.employeeId||"").trim(),name:a,lastName:String(au.lastName||"").trim(),firstName:String(au.firstName||"").trim(),middleName:String(au.middleName||"").trim(),suffix:String(au.suffix||"").trim(),email:E(au.email),department:String(au.department||"").trim(),hireDate:String(au.hireDate||"").trim(),role:String(aw.role||"").trim(),workSetup:String(aw.workSetup||"").trim(),contact:String(ay.contact||"").trim(),address:String(ay.address||"").trim(),emergencyContact:String(ay.emergencyContact||"").trim()},"Full profile information updated.","Save all profile updates for this employee?")},a9=async()=>{if(aY?.id&&V){let a;await a2({govId:String(aA.primaryId||"").trim(),governmentIds:(a={...H(aY.governmentIds)},t.forEach(({key:b})=>{let c=String(aA?.[b]||"").trim();c?a[b]=c:delete a[b]}),a)},"Government and compliance IDs updated.","Save government and compliance ID changes?")}},ba=async()=>{if(aY?.id&&V){let a;await a2({payrollGroup:String(aC.payrollGroup||"").trim(),payrollInformation:(a={...H(aY.payrollInformation)},u.forEach(({key:b})=>{let c=String(aC?.[b]||"").trim();c?a[b]=c:delete a[b]}),a)},"Payroll information updated.","Save payroll information changes?")}},bb=V&&aI?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 p-4",role:"dialog","aria-modal":"true","aria-label":"Add Employee",onClick:()=>aJ(!1),children:(0,b.jsxs)("div",{className:"max-h-[90vh] w-full max-w-5xl overflow-y-auto rounded-2xl border border-slate-200 bg-white p-5 shadow-2xl sm:p-6",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"mb-4 flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:"Add Employee"}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Provision employee master data with employment, contact, and restricted PII references"})]}),(0,b.jsx)("button",{type:"button",onClick:()=>aJ(!1),className:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 hover:text-slate-900","aria-label":"Close add employee modal",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-4 w-4","aria-hidden":"true",children:(0,b.jsx)("path",{d:"m6 6 12 12M18 6 6 18"})})})]}),(0,b.jsxs)("form",{className:"grid gap-3 md:grid-cols-3",onSubmit:a_,children:[(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employee Number"}),(0,b.jsx)("input",{required:!0,value:as.employeeId,onChange:a$("employeeId"),placeholder:"Employee number",className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Last Name"}),(0,b.jsx)("input",{required:!0,value:as.lastName,onChange:a$("lastName"),placeholder:"Last name",className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"First Name"}),(0,b.jsx)("input",{required:!0,value:as.firstName,onChange:a$("firstName"),placeholder:"First name",className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Middle Name"}),(0,b.jsx)("input",{value:as.middleName,onChange:a$("middleName"),placeholder:"Middle name",className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Suffix"}),(0,b.jsx)("input",{value:as.suffix,onChange:a$("suffix"),placeholder:"Suffix (optional)",className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,b.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Account Email (Google Sign-In)"}),(0,b.jsx)("input",{required:!0,type:"email",value:as.email,onChange:a$("email"),placeholder:"employee@gmail.com",className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Assigned Role"}),(0,b.jsxs)("select",{required:!0,value:as.role,onChange:a$("role"),className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"Select role"}),aT.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Assigned Department"}),(0,b.jsxs)("select",{required:!0,value:as.department,onChange:a$("department"),className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"Select department"}),aU.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},`create-department-${a.value}`))]})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Work Setup"}),(0,b.jsx)("select",{value:as.workSetup,onChange:a$("workSetup"),className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:q.map(a=>(0,b.jsx)("option",{value:a,children:a},`create-work-${a}`))})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employment Start Date"}),(0,b.jsx)("input",{type:"date",required:!0,value:as.hireDate,onChange:a$("hireDate"),className:"h-10 w-full rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,b.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Generated Employee Display Name"}),(0,b.jsx)("input",{value:(0,l.formatEmployeeName)({lastName:as.lastName,firstName:as.firstName,middleName:as.middleName,suffix:as.suffix,fallback:as.email,fallbackEmail:as.email,fallbackLabel:"Employee"}),readOnly:!0,"aria-readonly":"true",className:"h-10 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 text-sm font-medium text-slate-700"})]}),(0,b.jsxs)("div",{className:"md:col-span-3 flex flex-wrap items-center justify-between gap-3",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Data classification: Restricted PII"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>aJ(!1),className:"inline-flex h-10 items-center justify-center rounded-lg border border-slate-300 bg-white px-4 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:aM,className:"inline-flex h-10 items-center justify-center rounded-lg bg-sky-600 px-4 text-sm font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:aM?"Saving...":"Create Employee"})]})]})]})]})}):null;return(0,b.jsxs)("div",{className:"space-y-3",children:[aK?(0,b.jsx)("div",{id:"employee-details",ref:aO,className:"min-w-0",children:(0,b.jsx)("div",{className:"space-y-2 xl:max-h-[calc(100dvh-9.5rem)] xl:overflow-y-auto xl:pr-1",children:aY?(0,b.jsxs)(b.Fragment,{children:[U?null:(0,b.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsx)(g.default,{tabs:aS,value:Y,onChange:Z,className:"min-w-0 flex-1"}),(0,b.jsxs)("button",{type:"button",onClick:()=>aL(!1),className:"inline-flex h-8 items-center gap-1.5 rounded-lg border border-slate-300 bg-white px-3 text-xs font-medium text-slate-700 transition hover:bg-slate-50",children:[(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-3.5 w-3.5","aria-hidden":"true",children:(0,b.jsx)("path",{d:"M15.5 18 9.5 12l6-6"})}),"Back"]})]}),"profile"===Y?(0,b.jsx)(e.default,{title:U?"My Profile":"Employee Profile",subtitle:U?"View your employment snapshot and update personal contact details.":"Full employee information in one consolidated view",className:"p-3 sm:p-4 [&>header]:mb-2 [&>header>div>h2]:text-sm [&>header>div>p]:text-xs",children:aY?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:(0,b.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:J((0,l.formatEmployeeName)({lastName:aY.lastName,firstName:aY.firstName,middleName:aY.middleName,suffix:aY.suffix,fallback:aY.name,fallbackEmail:aY.email,fallbackLabel:"Employee"}))}),(0,b.jsxs)("p",{className:"text-[11px] text-slate-600",children:[J(aY.employeeId)," | ",J(aY.email)]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)(i.default,{value:aY.status||"-"}),(0,b.jsx)("span",{className:"rounded-lg border border-slate-300 bg-white px-2 py-1 text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-600",children:"Restricted PII"})]})]})}),(0,b.jsx)("div",{className:"rounded-xl border border-slate-200 bg-white p-3",children:V?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:[(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employee Number"}),(0,b.jsx)("input",{value:au.employeeId,onChange:a=>av(b=>({...b,employeeId:a.target.value})),placeholder:"Employee number",disabled:!V,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Last Name"}),(0,b.jsx)("input",{value:au.lastName,onChange:a=>av(b=>({...b,lastName:a.target.value})),placeholder:"Last name",disabled:!V,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"First Name"}),(0,b.jsx)("input",{value:au.firstName,onChange:a=>av(b=>({...b,firstName:a.target.value})),placeholder:"First name",disabled:!V,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Middle Name"}),(0,b.jsx)("input",{value:au.middleName,onChange:a=>av(b=>({...b,middleName:a.target.value})),placeholder:"Middle name",disabled:!V,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Suffix"}),(0,b.jsx)("input",{value:au.suffix,onChange:a=>av(b=>({...b,suffix:a.target.value})),placeholder:"Suffix (e.g. Jr.)",disabled:!V,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Account Email"}),(0,b.jsx)("input",{value:au.email,onChange:a=>av(b=>({...b,email:a.target.value})),placeholder:"Account email (Google Sign-In)",disabled:!V,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Assigned Role"}),(0,b.jsxs)("select",{value:aw.role,onChange:a=>ax(b=>({...b,role:a.target.value})),disabled:!V,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100",children:[(0,b.jsx)("option",{value:"",children:"Assigned role"}),aZ.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},`profile-role-${a.value}`))]})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Department"}),(0,b.jsxs)("select",{value:au.department,onChange:a=>av(b=>({...b,department:a.target.value})),disabled:!V,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100",children:[(0,b.jsx)("option",{value:"",children:"Department"}),aU.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},`profile-department-${a.value}`))]})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Work Setup"}),(0,b.jsx)("select",{value:aw.workSetup,onChange:a=>ax(b=>({...b,workSetup:a.target.value})),disabled:!V,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100",children:q.map(a=>(0,b.jsx)("option",{value:a,children:a},`profile-work-${a}`))})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employment Start Date"}),(0,b.jsx)("input",{type:"date",value:au.hireDate,onChange:a=>av(b=>({...b,hireDate:a.target.value})),disabled:!V,className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"})]})]}),(0,b.jsxs)("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Contact Details (Optional)"}),(0,b.jsxs)("div",{className:"mt-2 grid gap-2 sm:grid-cols-2",children:[(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Contact Number"}),(0,b.jsx)("input",{value:ay.contact,placeholder:"Contact number",className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:a=>az(b=>({...b,contact:a.target.value}))})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Address"}),(0,b.jsx)("input",{value:ay.address,placeholder:"Address",className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:a=>az(b=>({...b,address:a.target.value}))})]}),(0,b.jsxs)("label",{className:"space-y-1 sm:col-span-2",children:[(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Emergency Contact"}),(0,b.jsx)("input",{value:ay.emergencyContact,placeholder:"Emergency contact",className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:a=>az(b=>({...b,emergencyContact:a.target.value}))})]})]})]}),(0,b.jsxs)("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"You can update full profile info in one action."}),(0,b.jsx)("button",{type:"button",onClick:a8,disabled:aM,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save Full Profile"})]})]}):(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"space-y-2 sm:hidden",children:[["Employee Number",J(au.employeeId)],["Last Name",J(au.lastName)],["First Name",J(au.firstName)],["Middle Name",J(au.middleName)],["Suffix",J(au.suffix)],["Account Email",J(au.email)],["Assigned Role",N(aY.role||aw.role||"EMPLOYEE_L1")],["Assigned Department",J(au.department)],["Work Setup",J(aw.workSetup)],["Employment Start Date",J(au.hireDate)]].map(([a,c])=>(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:a}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-800",children:c})]},a))}),(0,b.jsx)("div",{className:"hidden overflow-x-auto rounded-lg border border-slate-200 sm:block",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500",children:[(0,b.jsx)("th",{className:"w-[38%] px-3 py-2 font-medium",children:"Profile Field"}),(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Value"})]})}),(0,b.jsx)("tbody",{children:[["Employee Number",J(au.employeeId)],["Last Name",J(au.lastName)],["First Name",J(au.firstName)],["Middle Name",J(au.middleName)],["Suffix",J(au.suffix)],["Account Email",J(au.email)],["Assigned Role",N(aY.role||aw.role||"EMPLOYEE_L1")],["Assigned Department",J(au.department)],["Work Setup",J(aw.workSetup)],["Employment Start Date",J(au.hireDate)]].map(([a,c])=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-3 py-2 text-xs font-semibold uppercase tracking-[0.06em] text-slate-500",children:a}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-800",children:c})]},a))})]})}),(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Editable Contact Details"}),(0,b.jsxs)("div",{className:"mt-2 grid gap-2 sm:grid-cols-2",children:[(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[11px] font-medium text-slate-600",children:"Contact Number"}),(0,b.jsx)("input",{value:K(ay.contact),placeholder:"Enter contact number",className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:a=>az(b=>({...b,contact:a.target.value}))})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[11px] font-medium text-slate-600",children:"Address"}),(0,b.jsx)("input",{value:K(ay.address),placeholder:"Enter address",className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:a=>az(b=>({...b,address:a.target.value}))})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"All employment details are shown above. You can update contact details here."}),(0,b.jsx)("button",{type:"button",onClick:a8,disabled:aM,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save My Profile"})]})]})})]}):(0,b.jsx)(f.default,{title:"No employee selected",subtitle:"Select a record from the directory to manage employee profile data."})}):null,U||"compliance"!==Y?null:(0,b.jsx)(e.default,{title:"Government & Compliance IDs",subtitle:"Restricted PII identifiers with controlled update workflow",children:aY?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[P("Data Classification",aY.classification||"Restricted PII"),t.map(a=>P(a.label,aA[a.key],a.key))]}),V?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid gap-2 md:grid-cols-3",children:t.map(a=>(0,b.jsx)("input",{value:aA[a.key],onChange:b=>aB(c=>({...c,[a.key]:b.target.value})),placeholder:a.label,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"},a.key))}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Government identifiers remain classified as Restricted PII."}),(0,b.jsx)("button",{type:"button",onClick:a9,disabled:aM,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save Compliance IDs"})]})]}):(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Sensitive identifiers are role-masked. Contact GRC/HR for compliance updates."})]}):(0,b.jsx)(f.default,{title:"No employee selected",subtitle:"Select a profile to review compliance identifiers."})}),U||"payroll"!==Y?null:(0,b.jsx)(e.default,{title:"Payroll Information",subtitle:"Payroll grouping and compensation profile under restricted access",children:aY?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[P("Payroll Group",aC.payrollGroup),u.map(a=>P(a.label,aC[a.key],a.key)),P("Updated At",D(aY.updatedAt))]}),V?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid gap-2 md:grid-cols-3",children:[(0,b.jsx)("input",{value:aC.payrollGroup,onChange:a=>aD(b=>({...b,payrollGroup:a.target.value})),placeholder:"Payroll group",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),u.map(a=>(0,b.jsx)("input",{value:aC[a.key],onChange:b=>aD(c=>({...c,[a.key]:b.target.value})),placeholder:a.placeholder,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"},a.key))]}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Payroll information is Restricted PII."}),(0,b.jsx)("button",{type:"button",onClick:ba,disabled:aM,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save Payroll Information"})]})]}):(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Payroll values are restricted by role-based masking policy."})]}):(0,b.jsx)(f.default,{title:"No employee selected",subtitle:"Select a profile to view payroll information."})}),"documents"===Y?(0,b.jsx)(e.default,{title:U?"Documents":"Employee Attached Documents",subtitle:U?"Files linked to your employee profile.":"All documents currently attached to this employee record",children:aY?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2 rounded-lg border border-slate-200 bg-slate-50 p-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Attached Files"}),(0,b.jsxs)("p",{className:"mt-1 text-xs text-slate-600",children:[G(aY.documents).length," document(s) linked to this employee."]})]}),V?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>aP.current?.click(),disabled:aM,className:"inline-flex h-8 items-center rounded-lg border border-slate-300 bg-white px-3 text-[11px] font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-70",children:"Upload File"}),(0,b.jsx)("input",{ref:aP,type:"file",className:"hidden",onChange:a4})]}):null]}),0===G(aY.documents).length?(0,b.jsx)(f.default,{title:U?"No files yet":"No attached documents yet",subtitle:U?"HR or onboarding uploads will appear here once attached.":"Upload employee files to build this document list."}):(0,b.jsx)("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Document"}),(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Type"}),(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Size"}),(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Uploaded At"}),(0,b.jsx)("th",{className:"px-3 py-2 font-medium text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:G(aY.documents).map((a,c)=>{let d;return(0,b.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-3 py-2 text-slate-800",children:J(a.name)}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-700",children:J(a.type)}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-700",children:!Number.isFinite(d=Number(a.sizeBytes))||d<=0?"-":d<1024?`${d} B`:d<1048576?`${(d/1024).toFixed(1)} KB`:`${(d/1048576).toFixed(1)} MB`}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-700",children:D(a.uploadedAt)}),(0,b.jsx)("td",{className:"px-3 py-2 text-right",children:(0,b.jsxs)("div",{className:"inline-flex items-center justify-end gap-2",children:[String(a.ref||"").trim()?(0,b.jsx)("button",{type:"button",onClick:()=>a6(a,c),className:"inline-flex h-7 items-center rounded-md border border-sky-200 bg-sky-50 px-2.5 text-[11px] font-semibold text-sky-700 transition hover:bg-sky-100",children:"Open"}):null,V?(0,b.jsx)("button",{type:"button",onClick:()=>a5(c),disabled:aM,className:"inline-flex h-7 items-center rounded-md border border-rose-200 bg-rose-50 px-2.5 text-[11px] font-semibold text-rose-700 transition hover:bg-rose-100 disabled:opacity-70",children:"Remove"}):null]})})]},`${a.name||"document"}-${c}`)})})]})})]}):(0,b.jsx)(f.default,{title:"No employee selected",subtitle:"Select a record to view attached employee documents."})}):null,U||"activity"!==Y?null:(0,b.jsx)(e.default,{title:"Recent Activity",subtitle:"Latest change history for the selected employee record",children:aY?0===G(aY.activityHistory).length?(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"No change history yet."}):(0,b.jsx)("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Action"}),(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Performed By"}),(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Timestamp"})]})}),(0,b.jsx)("tbody",{children:G(aY.activityHistory).slice(-20).reverse().map((a,d)=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-3 py-2 text-slate-800",children:N(a.action||"update")}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c.default,{src:String(a.byAvatar||"").trim()||"/avatars/default-user.svg",alt:`${L(a.byName,a.byEmail||a.by)} profile`,width:28,height:28,className:"h-7 w-7 rounded-full border border-slate-200 bg-white object-cover"}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"truncate text-xs font-medium text-slate-800",children:L(a.byName,a.byEmail||a.by)}),M(a.byEmail,a.by)?(0,b.jsx)("p",{className:"truncate text-[11px] text-slate-500",children:M(a.byEmail,a.by)}):null]})]})}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-700",children:D(a.at)})]},`${a.at||"activity"}-${d}`))})]})}):(0,b.jsx)(f.default,{title:"No employee selected",subtitle:"Open an employee record to review recent activity."})})]}):(0,b.jsx)(f.default,{title:"No employee selected",subtitle:"Open an employee from the directory to view profile, compliance, and payroll details."})})}):(0,b.jsx)("div",{id:"employee-directory",className:"min-w-0",children:(0,b.jsx)(e.default,{title:U?"My Employee Record":"Employee Directory",subtitle:U?"Provide and maintain your personal employee profile details.":"Centralized employee master data with search, filters, and profile routing",className:"p-3 sm:p-4 [&>header]:mb-2 [&>header>div>h2]:text-sm [&>header>div>p]:text-xs",action:U?(0,b.jsx)("span",{className:"inline-flex h-9 items-center rounded-lg border border-sky-200 bg-sky-50 px-3 text-xs font-medium text-sky-700",children:"Own profile access only"}):(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)("input",{value:ac,onChange:a=>{al(1),ad(a.target.value)},placeholder:"Search by name, ID, email",className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none"}),(0,b.jsxs)("select",{value:ag,onChange:a=>{al(1),ah(a.target.value)},className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"All Status"}),p.map(a=>(0,b.jsx)("option",{value:a.toLowerCase(),children:a},a.toLowerCase()))]}),(0,b.jsxs)("select",{value:ai,onChange:a=>{al(1),aj(a.target.value)},className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"All Roles"}),aT.map(a=>(0,b.jsx)("option",{value:a.value.toLowerCase(),children:a.label},a.value))]}),V?(0,b.jsx)("button",{type:"button",onClick:()=>aJ(!0),className:"h-9 rounded-lg border border-sky-200 bg-sky-50 px-3 text-xs font-semibold text-sky-700 transition hover:bg-sky-100",children:"Add Employee"}):null]}),children:am?(0,b.jsxs)("div",{className:"flex min-h-[160px] items-center justify-center",children:[(0,b.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 bg-white",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 animate-spin text-sky-600",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:(0,b.jsx)("path",{d:"M12 3a9 9 0 1 0 9 9"})})}),(0,b.jsx)("span",{className:"sr-only",children:"Loading employee directory..."})]}):0===$.length?U?(0,b.jsxs)("div",{className:"mx-auto w-full max-w-4xl rounded-2xl border border-sky-100 bg-gradient-to-b from-sky-50/80 to-white p-5",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("p",{className:"text-base font-semibold text-slate-900",children:"Complete My Employee Record"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:"This form is for your own employee profile only. Fill in your details to continue."})]}),(0,b.jsxs)("form",{onSubmit:a1,className:"grid gap-3 md:grid-cols-2",children:[(0,b.jsx)("input",{value:aG.lastName,onChange:a0("lastName"),placeholder:"Last name",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:aG.firstName,onChange:a0("firstName"),placeholder:"First name",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:aG.middleName,onChange:a0("middleName"),placeholder:"Middle name",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:aG.suffix,onChange:a0("suffix"),placeholder:"Suffix (optional)",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:T,disabled:!0,className:"h-10 rounded-lg border border-slate-300 bg-slate-100 px-3 text-sm text-slate-700 md:col-span-2"}),(0,b.jsx)("input",{value:aG.contact,onChange:a0("contact"),placeholder:"Contact number",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:aG.address,onChange:a0("address"),placeholder:"Address",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:aG.emergencyContact,onChange:a0("emergencyContact"),placeholder:"Emergency contact",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none md:col-span-2"}),(0,b.jsx)("div",{className:"md:col-span-2 mt-1 flex justify-end",children:(0,b.jsx)("button",{type:"submit",disabled:aM,className:"inline-flex h-10 items-center rounded-lg bg-sky-600 px-4 text-sm font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:aM?"Saving...":"Submit My Record"})})]})]}):(0,b.jsx)(f.default,{title:"No employee records yet",subtitle:"Add a record to initialize the employee directory."}):(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee ID"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Name"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Email"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Department"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Role"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employment"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:$.map(a=>(0,b.jsxs)("tr",{className:`border-b border-slate-100 text-slate-700 last:border-b-0 ${a.id===ao?"bg-sky-50/50":""}`,children:[(0,b.jsx)("td",{className:"px-2 py-3 font-mono text-xs",children:a.employeeId||"-"}),(0,b.jsx)("td",{className:"px-2 py-3 font-medium text-slate-900",children:a.name||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.email||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:J(a.department)}),(0,b.jsx)("td",{className:"px-2 py-3",children:N(a.role)}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)(i.default,{value:a.status||"-"})}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.employmentStatus||"-"}),(0,b.jsx)("td",{className:"px-2 py-3 text-right",children:(0,b.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>aV(a),className:"rounded-lg border border-slate-300 bg-white px-2.5 py-1.5 text-xs font-medium text-slate-700 transition hover:bg-slate-50",children:"Open"}),V?(0,b.jsx)("button",{type:"button",onClick:()=>a3(a.id),disabled:aM,className:"rounded-lg border border-rose-200 bg-rose-50 px-2.5 py-1.5 text-xs font-medium text-rose-700 transition hover:bg-rose-100 disabled:opacity-60",children:"Archive"}):null]})})]},a.id))})]})}),(0,b.jsx)(h.default,{pagination:aa,onPageChange:al})]})})}),bb]})}a.s(["default",()=>Q])}];

//# sourceMappingURL=src_components_hris_modules_EmployeeRecordsModule_jsx_51a64ad6._.js.map