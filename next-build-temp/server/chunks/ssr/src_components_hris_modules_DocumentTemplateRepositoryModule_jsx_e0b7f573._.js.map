{"version":3,"sources":["../../../../src/components/hris/modules/DocumentTemplateRepositoryModule.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport SurfaceCard from \"@/components/hris/SurfaceCard\";\r\nimport EmptyState from \"@/components/hris/shared/EmptyState\";\r\nimport ModuleTabs from \"@/components/hris/shared/ModuleTabs\";\r\nimport StatusBadge from \"@/components/hris/shared/StatusBadge\";\r\nimport { formatEmployeeName, formatNameFromEmail } from \"@/lib/name-utils\";\r\nimport { hrisApi } from \"@/services/hris-api-client\";\r\n\r\nconst SECTION_TABS = [\r\n  { id: \"library\", label: \"Templates Library\" },\r\n  { id: \"employee-docs\", label: \"Employee Documents\" },\r\n  { id: \"contracts\", label: \"Contracts & Agreements\" },\r\n  { id: \"versions\", label: \"Version History\" },\r\n  { id: \"upload-audit\", label: \"Upload Audit Logs\" },\r\n];\r\nconst EMPLOYEE_SECTION_TABS = [{ id: \"employee-docs\", label: \"Documents\" }];\r\n\r\nconst initialTemplateForm = {\r\n  templateName: \"\",\r\n  category: \"HR Template\",\r\n  documentType: \"Template\",\r\n  classification: \"Restricted PII\",\r\n  version: \"v1.0\",\r\n  status: \"Active\",\r\n  tags: \"\",\r\n  contentRef: \"\",\r\n  changeNote: \"\",\r\n};\r\n\r\nfunction isEmployeeRole(role) {\r\n  return String(role || \"\")\r\n    .trim()\r\n    .toUpperCase()\r\n    .startsWith(\"EMPLOYEE_\");\r\n}\r\n\r\nfunction formatDate(value) {\r\n  const date = new Date(value || \"\");\r\n  if (Number.isNaN(date.getTime())) {\r\n    return \"-\";\r\n  }\r\n  return new Intl.DateTimeFormat(\"en-US\", {\r\n    month: \"short\",\r\n    day: \"2-digit\",\r\n    year: \"numeric\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  }).format(date);\r\n}\r\n\r\nfunction normalizeTags(raw) {\r\n  return String(raw || \"\")\r\n    .split(\",\")\r\n    .map((item) => item.trim())\r\n    .filter(Boolean);\r\n}\r\n\r\nfunction formatActorName(nameValue, fallbackValue) {\r\n  const explicitName = String(nameValue || \"\").trim();\r\n  if (explicitName) {\r\n    return explicitName;\r\n  }\r\n\r\n  const fallback = String(fallbackValue || \"\").trim();\r\n  if (!fallback.includes(\"@\")) {\r\n    return fallback || \"-\";\r\n  }\r\n\r\n  return formatNameFromEmail(fallback, { fallbackLabel: \"-\" });\r\n}\r\n\r\nfunction formatActorEmail(emailValue) {\r\n  const email = String(emailValue || \"\").trim();\r\n  return email.includes(\"@\") ? email.toLowerCase() : \"\";\r\n}\r\n\r\nexport default function DocumentTemplateRepositoryModule({ session }) {\r\n  const actorRole = session?.role || \"EMPLOYEE_L1\";\r\n  const employeeRole = isEmployeeRole(actorRole);\r\n  const canManageTemplates = !employeeRole;\r\n\r\n  const [section, setSection] = useState(employeeRole ? \"employee-docs\" : \"library\");\r\n  const [templates, setTemplates] = useState([]);\r\n  const [employeeRecords, setEmployeeRecords] = useState([]);\r\n  const [selectedTemplateId, setSelectedTemplateId] = useState(\"\");\r\n  const [templateForm, setTemplateForm] = useState(initialTemplateForm);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n  const visibleSectionTabs = useMemo(\r\n    () => (employeeRole ? EMPLOYEE_SECTION_TABS : SECTION_TABS),\r\n    [employeeRole],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (visibleSectionTabs.some((tab) => tab.id === section)) {\r\n      return;\r\n    }\r\n    setSection(visibleSectionTabs[0]?.id || \"employee-docs\");\r\n  }, [section, visibleSectionTabs]);\r\n\r\n  const loadData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setErrorMessage(\"\");\r\n    try {\r\n      const [templatePayload, employeePayload] = await Promise.all([\r\n        hrisApi.templates.list(),\r\n        hrisApi.employees.list({ page: 1, pageSize: 200, includeDocuments: true }),\r\n      ]);\r\n      const templateRows = Array.isArray(templatePayload.records) ? templatePayload.records : [];\r\n      setTemplates(templateRows);\r\n      setEmployeeRecords(Array.isArray(employeePayload.records) ? employeePayload.records : []);\r\n      if (!selectedTemplateId && templateRows[0]?.id) {\r\n        setSelectedTemplateId(templateRows[0].id);\r\n      }\r\n    } catch (error) {\r\n      setErrorMessage(error.message || \"Unable to load template repository.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [selectedTemplateId]);\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, [loadData]);\r\n\r\n  const selectedTemplate = useMemo(\r\n    () => templates.find((item) => item.id === selectedTemplateId) || null,\r\n    [templates, selectedTemplateId],\r\n  );\r\n\r\n  const employeeDocuments = useMemo(() => {\r\n    const rows = [];\r\n    employeeRecords.forEach((record) => {\r\n      (record.documents || []).forEach((document, index) => {\r\n        rows.push({\n          id: `${record.id}-${index}`,\n          employeeRecordId: record.id,\n          documentId: String(document.id || document.recordId || index),\n          employee: formatEmployeeName({\n            firstName: record.firstName,\n            middleName: record.middleName,\n            lastName: record.lastName,\n            suffix: record.suffix,\n            fallback: record.name,\r\n            fallbackEmail: record.email,\r\n            fallbackLabel: \"Employee\",\r\n          }),\r\n          employeeEmail: record.email,\r\n          name: document.name || \"Document\",\r\n          type: document.type || \"General\",\n          ref: document.ref || \"\",\n          storagePath: document.storagePath || \"\",\n          uploadedAt: document.uploadedAt || record.updatedAt || record.createdAt,\n          uploadedBy: document.uploadedBy || record.updatedBy || \"-\",\n          uploadedByName: document.uploadedByName || record.updatedByName || \"\",\n          uploadedByEmail: document.uploadedByEmail || record.updatedByEmail || document.uploadedBy || record.updatedBy || \"\",\n        });\n      });\r\n    });\r\n    return rows;\r\n  }, [employeeRecords]);\r\n\r\n  const contractRows = useMemo(\r\n    () =>\r\n      templates.filter((template) => {\r\n        const text = `${template.category || \"\"} ${template.documentType || \"\"}`.toLowerCase();\r\n        return text.includes(\"contract\") || text.includes(\"agreement\") || text.includes(\"nda\");\r\n      }),\r\n    [templates],\r\n  );\r\n\r\n  const handleTemplateField = (field) => (event) => {\r\n    setTemplateForm((current) => ({\r\n      ...current,\r\n      [field]: event.target.value,\r\n    }));\r\n  };\r\n\r\n  const createTemplate = async (event) => {\r\n    event.preventDefault();\r\n    if (!canManageTemplates) {\r\n      return;\r\n    }\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n    try {\r\n      await hrisApi.templates.create({\r\n        templateName: templateForm.templateName,\r\n        category: templateForm.category,\r\n        documentType: templateForm.documentType,\r\n        classification: templateForm.classification,\r\n        version: templateForm.version,\r\n        status: templateForm.status,\r\n        tags: normalizeTags(templateForm.tags),\r\n        contentRef: templateForm.contentRef,\r\n        changeNote: templateForm.changeNote,\r\n      });\r\n      setTemplateForm(initialTemplateForm);\r\n      setSuccessMessage(\"Template uploaded and versioned.\");\r\n      await loadData();\r\n    } catch (error) {\r\n      setErrorMessage(error.message || \"Unable to create template.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const updateTemplate = async (payload, successText) => {\r\n    if (!selectedTemplateId || !canManageTemplates) {\r\n      return;\r\n    }\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n    try {\r\n      await hrisApi.templates.update(selectedTemplateId, payload);\r\n      setSuccessMessage(successText);\r\n      await loadData();\r\n    } catch (error) {\r\n      setErrorMessage(error.message || \"Unable to update template.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const archiveTemplate = async (recordId) => {\n    if (!recordId || !canManageTemplates) {\r\n      return;\r\n    }\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n    try {\r\n      await hrisApi.templates.archive(recordId);\r\n      setSuccessMessage(\"Template archived.\");\r\n      if (recordId === selectedTemplateId) {\r\n        setSelectedTemplateId(\"\");\r\n      }\r\n      await loadData();\r\n    } catch (error) {\r\n      setErrorMessage(error.message || \"Unable to archive template.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\n\n  const openEmployeeDocument = async (row) => {\n    const targetRecordId = String(row?.employeeRecordId || \"\").trim();\n    if (!targetRecordId) {\n      setErrorMessage(\"Unable to open document. Missing employee record reference.\");\n      return;\n    }\n\n    try {\n      const payload = await hrisApi.employees.logDocumentAccess(targetRecordId, {\n        documentId: String(row?.documentId || \"\").trim(),\n        documentName: String(row?.name || \"\").trim(),\n        documentType: String(row?.type || \"\").trim(),\n        documentRef: String(row?.ref || \"\").trim(),\n        documentStoragePath: String(row?.storagePath || \"\").trim(),\n      });\n      const accessUrl = String(payload?.accessUrl || \"\").trim();\n      if (!accessUrl) {\n        throw new Error(\"Document access URL is unavailable.\");\n      }\n      window.open(accessUrl, \"_blank\", \"noopener,noreferrer\");\n    } catch (error) {\n      setErrorMessage(error?.message || \"Document access is blocked by security policy.\");\n    }\n  };\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <ModuleTabs tabs={visibleSectionTabs} value={section} onChange={setSection} />\r\n\r\n      {errorMessage ? (\r\n        <p className=\"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700\">{errorMessage}</p>\r\n      ) : null}\r\n      {successMessage ? (\r\n        <p className=\"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700\">{successMessage}</p>\r\n      ) : null}\r\n\r\n      {canManageTemplates ? (\r\n        <SurfaceCard title=\"Upload / Manage Template\" subtitle=\"Version-controlled templates with tagging and restricted classifications\">\r\n          <form className=\"grid gap-2 md:grid-cols-3\" onSubmit={createTemplate}>\r\n            <input\r\n              required\r\n              value={templateForm.templateName}\r\n              onChange={handleTemplateField(\"templateName\")}\r\n              placeholder=\"Template name\"\r\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n            />\r\n            <input\r\n              value={templateForm.category}\r\n              onChange={handleTemplateField(\"category\")}\r\n              placeholder=\"Category\"\r\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n            />\r\n            <input\r\n              value={templateForm.documentType}\r\n              onChange={handleTemplateField(\"documentType\")}\r\n              placeholder=\"Type\"\r\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n            />\r\n            <input\r\n              value={templateForm.version}\r\n              onChange={handleTemplateField(\"version\")}\r\n              placeholder=\"Version\"\r\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n            />\r\n            <input\r\n              value={templateForm.tags}\r\n              onChange={handleTemplateField(\"tags\")}\r\n              placeholder=\"Tags (comma separated)\"\r\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n            />\r\n            <input\r\n              value={templateForm.contentRef}\r\n              onChange={handleTemplateField(\"contentRef\")}\r\n              placeholder=\"File URL / reference\"\r\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n            />\r\n            <input\r\n              value={templateForm.changeNote}\r\n              onChange={handleTemplateField(\"changeNote\")}\r\n              placeholder=\"Change note\"\r\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n            />\r\n            <div className=\"md:col-span-3\">\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n                className=\"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70\"\r\n              >\r\n                {isSubmitting ? \"Saving...\" : \"Upload Template\"}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </SurfaceCard>\r\n      ) : null}\r\n\r\n      <SurfaceCard\r\n        title={\r\n          section === \"employee-docs\"\r\n            ? employeeRole\r\n              ? \"Documents\"\r\n              : \"Employee Documents\"\r\n            : section === \"contracts\"\r\n              ? \"Contracts & Agreements\"\r\n              : section === \"versions\"\r\n                ? \"Version History\"\r\n                : section === \"upload-audit\"\r\n                  ? \"Upload Audit Logs\"\r\n                  : \"Templates Library\"\r\n        }\r\n        subtitle={\r\n          employeeRole\r\n            ? \"Attached files from your employee record.\"\r\n            : \"Permission-based template and document access\"\r\n        }\r\n      >\r\n        {isLoading ? (\r\n          <p className=\"text-sm text-slate-600\">Loading template repository...</p>\r\n        ) : section === \"employee-docs\" ? (\r\n          employeeDocuments.length === 0 ? (\r\n            <EmptyState\r\n              title={employeeRole ? \"No files yet\" : \"No employee documents yet\"}\r\n              subtitle={\r\n                employeeRole\r\n                  ? \"Files attached to your profile will appear here.\"\r\n                  : \"Uploaded employee documents will appear here.\"\r\n              }\r\n            />\r\n          ) : (\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full text-left text-sm\">\r\n                <thead>\r\n                  <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\r\n                    {!employeeRole ? <th className=\"px-2 py-3 font-medium\">Employee</th> : null}\r\n                    <th className=\"px-2 py-3 font-medium\">Document</th>\r\n                    <th className=\"px-2 py-3 font-medium\">Type</th>\r\n                    <th className=\"px-2 py-3 font-medium\">Uploaded</th>\r\n                    {!employeeRole ? <th className=\"px-2 py-3 font-medium\">Uploaded By</th> : null}\r\n                    <th className=\"px-2 py-3 font-medium text-right\">Action</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {employeeDocuments.map((row) => (\r\n                    <tr key={row.id} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\r\n                      {!employeeRole ? (\r\n                        <td className=\"px-2 py-3\">\r\n                          <p className=\"font-medium text-slate-900\">{row.employee}</p>\r\n                          <p className=\"text-xs text-slate-500\">{row.employeeEmail}</p>\r\n                        </td>\r\n                      ) : null}\r\n                      <td className=\"px-2 py-3\">{row.name}</td>\r\n                      <td className=\"px-2 py-3\">{row.type}</td>\r\n                      <td className=\"px-2 py-3\">{formatDate(row.uploadedAt)}</td>\r\n                      {!employeeRole ? (\r\n                        <td className=\"px-2 py-3 text-xs text-slate-600\">\r\n                          <p className=\"font-medium text-slate-800\">{formatActorName(row.uploadedByName, row.uploadedBy)}</p>\r\n                          {formatActorEmail(row.uploadedByEmail || row.uploadedBy) ? (\r\n                            <p className=\"truncate text-[11px] text-slate-500\">{formatActorEmail(row.uploadedByEmail || row.uploadedBy)}</p>\r\n                          ) : null}\r\n                        </td>\r\n                      ) : null}\r\n                      <td className=\"px-2 py-3 text-right\">\r\n                        {String(row.ref || row.storagePath || \"\").trim() ? (\n                          <button\n                            type=\"button\"\n                            onClick={() => openEmployeeDocument(row)}\n                            className=\"inline-flex h-7 items-center rounded-md border border-sky-200 bg-sky-50 px-2.5 text-[11px] font-semibold text-sky-700 transition hover:bg-sky-100\"\n                          >\n                            Open\n                          </button>\n                        ) : (\n                          <span className=\"text-xs text-slate-400\">No file link</span>\n                        )}\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )\r\n        ) : section === \"contracts\" ? (\r\n          contractRows.length === 0 ? (\r\n            <EmptyState title=\"No contracts or agreements found\" subtitle=\"Contract-type templates will appear in this section.\" />\r\n          ) : (\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full text-left text-sm\">\r\n                <thead>\r\n                  <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\r\n                    <th className=\"px-2 py-3 font-medium\">Template</th>\r\n                    <th className=\"px-2 py-3 font-medium\">Category</th>\r\n                    <th className=\"px-2 py-3 font-medium\">Version</th>\r\n                    <th className=\"px-2 py-3 font-medium\">Status</th>\r\n                    <th className=\"px-2 py-3 font-medium\">Updated</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {contractRows.map((row) => (\r\n                    <tr key={row.id} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\r\n                      <td className=\"px-2 py-3 font-medium text-slate-900\">{row.templateName || \"-\"}</td>\r\n                      <td className=\"px-2 py-3\">{row.category || \"-\"}</td>\r\n                      <td className=\"px-2 py-3\">{row.version || \"-\"}</td>\r\n                      <td className=\"px-2 py-3\">\r\n                        <StatusBadge value={row.status || \"-\"} />\r\n                      </td>\r\n                      <td className=\"px-2 py-3\">{formatDate(row.updatedAt || row.createdAt)}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )\r\n        ) : section === \"versions\" ? (\r\n          !selectedTemplate ? (\r\n            <EmptyState title=\"No template selected\" subtitle=\"Select a template from the library to inspect version history.\" />\r\n          ) : (selectedTemplate.versionHistory || []).length === 0 ? (\r\n            <EmptyState title=\"No historical versions yet\" subtitle=\"Version changes will be recorded after updates.\" />\r\n          ) : (\r\n            <div className=\"space-y-2\">\r\n              {(selectedTemplate.versionHistory || []).map((item, index) => (\r\n                <div key={`${item.changedAt}-${index}`} className=\"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-700\">\r\n                  <p>\r\n                    <span className=\"font-semibold text-slate-900\">{item.version || \"v1.0\"}</span> changed by{\" \"}\r\n                    <span className=\"font-medium\">{formatActorName(item.changedByName, item.changedBy)}</span>\r\n                    {formatActorEmail(item.changedByEmail || item.changedBy) ? (\r\n                      <span className=\"text-slate-500\"> ({formatActorEmail(item.changedByEmail || item.changedBy)})</span>\r\n                    ) : null}\r\n                  </p>\r\n                  <p className=\"mt-1 text-slate-500\">{formatDate(item.changedAt)}</p>\r\n                  <p className=\"mt-1\">{item.note || \"-\"}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )\r\n        ) : section === \"upload-audit\" ? (\r\n          !selectedTemplate ? (\r\n            <EmptyState title=\"No template selected\" subtitle=\"Select a template from the library to inspect upload logs.\" />\r\n          ) : (selectedTemplate.modificationLog || []).length === 0 ? (\r\n            <EmptyState title=\"No upload logs yet\" subtitle=\"Template upload and update logs will appear here.\" />\r\n          ) : (\r\n            <div className=\"space-y-2\">\r\n              {(selectedTemplate.modificationLog || []).map((item, index) => (\r\n                <div key={`${item.at}-${index}`} className=\"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-700\">\r\n                  <p>\r\n                    <span className=\"font-semibold text-slate-900\">{item.action || \"update\"}</span> by{\" \"}\r\n                    <span className=\"font-medium\">{formatActorName(item.byName, item.by)}</span>\r\n                    {formatActorEmail(item.byEmail || item.by) ? (\r\n                      <span className=\"text-slate-500\"> ({formatActorEmail(item.byEmail || item.by)})</span>\r\n                    ) : null}{\" \"}\r\n                    | version {item.version || \"-\"}\r\n                  </p>\r\n                  <p className=\"mt-1 text-slate-500\">{formatDate(item.at)}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )\r\n        ) : templates.length === 0 ? (\r\n          <EmptyState title=\"No templates yet\" subtitle=\"Upload template files and metadata to populate the repository.\" />\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full text-left text-sm\">\r\n              <thead>\r\n                <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\r\n                  <th className=\"px-2 py-3 font-medium\">Template</th>\r\n                  <th className=\"px-2 py-3 font-medium\">Category</th>\r\n                  <th className=\"px-2 py-3 font-medium\">Version</th>\r\n                  <th className=\"px-2 py-3 font-medium\">Classification</th>\r\n                  <th className=\"px-2 py-3 font-medium\">Tags</th>\r\n                  <th className=\"px-2 py-3 font-medium\">Status</th>\r\n                  <th className=\"px-2 py-3 font-medium text-right\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {templates.map((row) => (\r\n                  <tr\r\n                    key={row.id}\r\n                    className={`border-b border-slate-100 text-slate-700 last:border-b-0 ${\r\n                      row.id === selectedTemplateId ? \"bg-sky-50/50\" : \"\"\r\n                    }`}\r\n                  >\r\n                    <td className=\"px-2 py-3 font-medium text-slate-900\">{row.templateName || \"-\"}</td>\r\n                    <td className=\"px-2 py-3\">{row.category || \"-\"}</td>\r\n                    <td className=\"px-2 py-3\">{row.version || \"-\"}</td>\r\n                    <td className=\"px-2 py-3\">{row.classification || \"-\"}</td>\r\n                    <td className=\"px-2 py-3 text-xs text-slate-600\">{(row.tags || []).join(\", \") || \"-\"}</td>\r\n                    <td className=\"px-2 py-3\">\r\n                      <StatusBadge value={row.status || \"-\"} />\r\n                    </td>\r\n                    <td className=\"px-2 py-3 text-right\">\r\n                      <div className=\"inline-flex flex-wrap items-center justify-end gap-2\">\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => setSelectedTemplateId(row.id)}\r\n                          className=\"rounded-lg border border-slate-300 bg-white px-2.5 py-1.5 text-xs font-medium text-slate-700 transition hover:bg-slate-50\"\r\n                        >\r\n                          Select\r\n                        </button>\r\n                        {canManageTemplates ? (\r\n                          <>\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() =>\r\n                                updateTemplate(\r\n                                  {\r\n                                    version: row.version === \"v1.0\" ? \"v1.1\" : row.version,\r\n                                    changeNote: \"Template metadata update\",\r\n                                  },\r\n                                  \"Template version updated.\",\r\n                                )\r\n                              }\r\n                              disabled={isSubmitting}\r\n                              className=\"rounded-lg border border-sky-200 bg-sky-50 px-2.5 py-1.5 text-xs font-medium text-sky-700 transition hover:bg-sky-100 disabled:opacity-60\"\r\n                            >\r\n                              New Version\r\n                            </button>\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => archiveTemplate(row.id)}\r\n                              disabled={isSubmitting}\r\n                              className=\"rounded-lg border border-rose-200 bg-rose-50 px-2.5 py-1.5 text-xs font-medium text-rose-700 transition hover:bg-rose-100 disabled:opacity-60\"\r\n                            >\r\n                              Archive\r\n                            </button>\r\n                          </>\r\n                        ) : null}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </SurfaceCard>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}