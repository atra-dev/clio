{"version":3,"sources":["../../../../src/components/hris/modules/AttendanceManagementModule.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport SurfaceCard from \"@/components/hris/SurfaceCard\";\r\nimport EmptyState from \"@/components/hris/shared/EmptyState\";\r\nimport StatusBadge from \"@/components/hris/shared/StatusBadge\";\r\nimport { formatNameFromEmail, formatPersonName } from \"@/lib/name-utils\";\r\nimport { toSubTabAnchor } from \"@/lib/subtab-anchor\";\r\nimport { hrisApi } from \"@/services/hris-api-client\";\r\n\r\nconst MANAGEMENT_SECTION_TABS = [\r\n  { id: \"monitoring-dashboard\", label: \"Attendance Monitoring Dashboard\" },\r\n  { id: \"records\", label: \"Records\" },\r\n  { id: \"audit-logs\", label: \"Attendance Audit Logs\" },\r\n];\r\n\r\nconst SHIFT_WINDOWS = [\r\n  {\r\n    id: \"morning\",\r\n    sourceShift: \"6:00 AM - 2:00 PM\",\r\n    assignedShift: \"8:00 AM - 4:00 PM\",\r\n    onTimeLabel: \"7:30 AM - 8:00 AM\",\r\n    earlyLabel: \"Before 7:30 AM\",\r\n    lateLabel: \"After 8:00 AM\",\r\n    startMinute: 6 * 60,\r\n    endMinute: 14 * 60,\r\n    onTimeStartMinute: 7 * 60 + 30,\r\n    onTimeEndMinute: 8 * 60,\r\n  },\r\n  {\r\n    id: \"afternoon\",\r\n    sourceShift: \"2:00 PM - 10:00 PM\",\r\n    assignedShift: \"4:00 PM - 12:00 AM\",\r\n    onTimeLabel: \"3:30 PM - 4:00 PM\",\r\n    earlyLabel: \"Before 3:30 PM\",\r\n    lateLabel: \"After 4:00 PM\",\r\n    startMinute: 14 * 60,\r\n    endMinute: 22 * 60,\r\n    onTimeStartMinute: 15 * 60 + 30,\r\n    onTimeEndMinute: 16 * 60,\r\n  },\r\n  {\r\n    id: \"graveyard\",\r\n    sourceShift: \"10:00 PM - 6:00 AM\",\r\n    assignedShift: \"12:00 AM - 8:00 AM\",\r\n    onTimeLabel: \"11:30 PM - 12:00 AM\",\r\n    earlyLabel: \"Before 11:30 PM\",\r\n    lateLabel: \"After 12:00 AM\",\r\n    startMinute: 22 * 60,\r\n    endMinute: 6 * 60,\r\n    onTimeStartMinute: 23 * 60 + 30,\r\n    onTimeEndMinute: 0,\r\n    wrapsMidnight: true,\r\n  },\r\n];\r\n\r\nfunction isEmployeeRole(role) {\r\n  return String(role || \"\")\r\n    .trim()\r\n    .toUpperCase()\r\n    .startsWith(\"EMPLOYEE_\");\r\n}\r\n\r\nfunction hasValue(value) {\r\n  const normalized = String(value || \"\").trim();\r\n  return normalized.length > 0 && normalized !== \"-\";\r\n}\r\n\r\nfunction toDateKey(date) {\r\n  const source = date instanceof Date ? date : new Date(date || \"\");\r\n  if (Number.isNaN(source.getTime())) {\r\n    return \"\";\r\n  }\r\n  const year = source.getFullYear();\r\n  const month = `${source.getMonth() + 1}`.padStart(2, \"0\");\r\n  const day = `${source.getDate()}`.padStart(2, \"0\");\r\n  return `${year}-${month}-${day}`;\r\n}\r\n\r\nfunction normalizeDateKey(value) {\r\n  const raw = String(value || \"\").trim();\r\n  if (!raw) {\r\n    return \"\";\r\n  }\r\n  const exactMatch = raw.match(/^(\\d{4}-\\d{2}-\\d{2})/);\r\n  if (exactMatch?.[1]) {\r\n    return exactMatch[1];\r\n  }\r\n  return toDateKey(raw);\r\n}\r\n\r\nfunction parseTimeToMinutes(value) {\r\n  const raw = String(value || \"\").trim();\r\n  if (!raw || raw === \"-\") {\r\n    return null;\r\n  }\r\n\r\n  const meridiemMatch = raw.match(/^(\\d{1,2}):(\\d{2})\\s*(AM|PM)$/i);\r\n  if (meridiemMatch) {\r\n    const hours = Number.parseInt(meridiemMatch[1], 10);\r\n    const minutes = Number.parseInt(meridiemMatch[2], 10);\r\n    const meridiem = meridiemMatch[3].toUpperCase();\r\n    if (Number.isNaN(hours) || Number.isNaN(minutes) || minutes < 0 || minutes > 59 || hours < 1 || hours > 12) {\r\n      return null;\r\n    }\r\n    const normalizedHours = (hours % 12) + (meridiem === \"PM\" ? 12 : 0);\r\n    return normalizedHours * 60 + minutes;\r\n  }\r\n\r\n  const twentyFourMatch = raw.match(/^(\\d{1,2}):(\\d{2})$/);\r\n  if (!twentyFourMatch) {\r\n    return null;\r\n  }\r\n  const hours = Number.parseInt(twentyFourMatch[1], 10);\r\n  const minutes = Number.parseInt(twentyFourMatch[2], 10);\r\n  if (Number.isNaN(hours) || Number.isNaN(minutes) || hours < 0 || hours > 23 || minutes < 0 || minutes > 59) {\r\n    return null;\r\n  }\r\n  return hours * 60 + minutes;\r\n}\r\n\r\nfunction formatTimeDisplay(value) {\r\n  const date = value instanceof Date ? value : new Date(value || \"\");\r\n  if (Number.isNaN(date.getTime())) {\r\n    return \"-\";\r\n  }\r\n  return new Intl.DateTimeFormat(\"en-US\", {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n    hour12: true,\r\n  }).format(date);\r\n}\r\n\r\nfunction formatLongDate(value) {\r\n  const date = value instanceof Date ? value : new Date(value || \"\");\r\n  if (Number.isNaN(date.getTime())) {\r\n    return \"-\";\r\n  }\r\n  return new Intl.DateTimeFormat(\"en-US\", {\r\n    weekday: \"long\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n    year: \"numeric\",\r\n  }).format(date);\r\n}\r\n\r\nfunction formatDate(value) {\r\n  const date = new Date(value || \"\");\r\n  if (Number.isNaN(date.getTime())) {\r\n    return \"-\";\r\n  }\r\n  return new Intl.DateTimeFormat(\"en-US\", {\r\n    month: \"short\",\r\n    day: \"2-digit\",\r\n    year: \"numeric\",\r\n  }).format(date);\r\n}\r\n\r\nfunction isWithinShiftWindow(minutes, shift) {\r\n  if (shift.wrapsMidnight) {\r\n    return minutes >= shift.startMinute || minutes < shift.endMinute;\r\n  }\r\n  return minutes >= shift.startMinute && minutes < shift.endMinute;\r\n}\r\n\r\nfunction resolveShiftForMinutes(minutes) {\r\n  if (!Number.isFinite(minutes)) {\r\n    return SHIFT_WINDOWS[0];\r\n  }\r\n  const matched = SHIFT_WINDOWS.find((shift) => isWithinShiftWindow(minutes, shift));\r\n  return matched || SHIFT_WINDOWS[0];\r\n}\r\n\r\nfunction getShiftArrivalStatus(minutes, shift) {\r\n  if (!Number.isFinite(minutes)) {\r\n    return \"Recorded\";\r\n  }\r\n\r\n  if (shift.wrapsMidnight) {\r\n    if (minutes >= shift.startMinute && minutes < shift.onTimeStartMinute) {\r\n      return \"Early\";\r\n    }\r\n    if ((minutes >= shift.onTimeStartMinute && minutes < 24 * 60) || minutes === shift.onTimeEndMinute) {\r\n      return \"On Time\";\r\n    }\r\n    return \"Late\";\r\n  }\r\n\r\n  if (minutes < shift.onTimeStartMinute) {\r\n    return \"Early\";\r\n  }\r\n  if (minutes <= shift.onTimeEndMinute) {\r\n    return \"On Time\";\r\n  }\r\n  return \"Late\";\r\n}\r\n\r\nfunction getInitialsFromName(value) {\r\n  const initials = String(value || \"\")\r\n    .split(\" \")\r\n    .map((token) => token.trim())\r\n    .filter(Boolean)\r\n    .slice(0, 2)\r\n    .map((token) => token.charAt(0).toUpperCase())\r\n    .join(\"\");\r\n  return initials || \"EM\";\r\n}\r\n\r\nfunction getSortableAttendanceTime(row) {\r\n  const dateKey = normalizeDateKey(row.date || row.createdAt);\r\n  if (!dateKey) {\r\n    return new Date(row.updatedAt || row.createdAt || 0).getTime();\r\n  }\r\n  const timeMinutes = parseTimeToMinutes(row.checkIn);\r\n  const [year, month, day] = dateKey.split(\"-\").map((item) => Number.parseInt(item, 10));\r\n  const hour = Number.isFinite(timeMinutes) ? Math.floor(timeMinutes / 60) : 0;\r\n  const minute = Number.isFinite(timeMinutes) ? timeMinutes % 60 : 0;\r\n  return new Date(year, (month || 1) - 1, day || 1, hour, minute).getTime();\r\n}\r\n\r\nfunction formatAttendanceDateForRow(row) {\r\n  const dateValue = row.date || row.createdAt;\r\n  return formatDate(dateValue);\r\n}\r\n\r\nfunction getShiftLabelForRecord(row) {\r\n  const minutes = parseTimeToMinutes(row.checkIn);\r\n  if (!Number.isFinite(minutes)) {\r\n    return \"-\";\r\n  }\r\n  const shift = resolveShiftForMinutes(minutes);\r\n  return shift.assignedShift;\r\n}\r\n\r\nfunction getSummaryForRecord(row) {\r\n  const reason = String(row.reason || \"\").trim();\r\n  if (reason) {\r\n    return reason;\r\n  }\r\n  if (hasValue(row.checkOut)) {\r\n    return \"Attendance completed and logged.\";\r\n  }\r\n  if (hasValue(row.checkIn)) {\r\n    return \"Clock-in recorded.\";\r\n  }\r\n  return \"No summary available.\";\r\n}\r\n\r\nfunction appendClockOutSummary(existingSummary, clockOutTime) {\r\n  const base = String(existingSummary || \"\").trim();\r\n  const suffix = `Clock-out: ${clockOutTime}`;\r\n  if (!base) {\r\n    return suffix;\r\n  }\r\n  if (base.toLowerCase().includes(\"clock-out\")) {\r\n    return base;\r\n  }\r\n  return `${base} | ${suffix}`;\r\n}\r\n\r\nfunction computeWorkedMinutes(checkInValue, checkOutValue) {\r\n  const checkIn = parseTimeToMinutes(checkInValue);\r\n  const checkOut = parseTimeToMinutes(checkOutValue);\r\n  if (!Number.isFinite(checkIn) || !Number.isFinite(checkOut)) {\r\n    return null;\r\n  }\r\n  let diff = checkOut - checkIn;\r\n  if (diff < 0) {\r\n    diff += 24 * 60;\r\n  }\r\n  return diff >= 0 ? diff : null;\r\n}\r\n\r\nfunction formatWorkedHours(minutes) {\r\n  if (!Number.isFinite(minutes)) {\r\n    return \"-\";\r\n  }\r\n  const hours = minutes / 60;\r\n  return `${hours.toFixed(2)} h`;\r\n}\r\n\r\nfunction getDepartmentLabel(row) {\r\n  const direct = String(row?.department || \"\").trim();\r\n  if (direct) {\r\n    return direct;\r\n  }\r\n  return \"Unassigned\";\r\n}\r\n\r\nfunction getStatusBadgeClass(status) {\r\n  const normalized = String(status || \"\").trim().toLowerCase();\r\n  if (normalized === \"early\") {\r\n    return \"bg-cyan-100 text-cyan-700\";\r\n  }\r\n  if (normalized === \"on time\") {\r\n    return \"bg-emerald-100 text-emerald-700\";\r\n  }\r\n  if (normalized === \"late\") {\r\n    return \"bg-amber-100 text-amber-700\";\r\n  }\r\n  if (normalized === \"completed\") {\r\n    return \"bg-emerald-100 text-emerald-700\";\r\n  }\r\n  return \"\";\r\n}\r\n\r\nfunction getActorDisplayName(nameValue, emailValue, fallback = \"System\") {\r\n  const explicitName = String(nameValue || \"\").trim();\r\n  if (explicitName) {\r\n    return explicitName;\r\n  }\r\n\r\n  const raw = String(emailValue || \"\").trim();\r\n  if (!raw) {\r\n    return fallback;\r\n  }\r\n\r\n  if (!raw.includes(\"@\")) {\r\n    return raw;\r\n  }\r\n\r\n  return formatNameFromEmail(raw, { fallbackLabel: fallback });\r\n}\r\n\r\nfunction getActorEmail(emailValue) {\r\n  const raw = String(emailValue || \"\").trim();\r\n  if (!raw || !raw.includes(\"@\")) {\r\n    return \"\";\r\n  }\r\n  return raw.toLowerCase();\r\n}\r\n\r\nfunction getActorAvatar(avatarValue) {\r\n  const raw = String(avatarValue || \"\").trim();\r\n  return raw || \"/avatars/default-user.svg\";\r\n}\r\n\r\nexport default function AttendanceManagementModule({ session }) {\r\n  const actorEmail = session?.email || \"\";\r\n  const actorFirstName = session?.firstName || \"\";\r\n  const actorMiddleName = session?.middleName || \"\";\r\n  const actorLastName = session?.lastName || \"\";\r\n  const actorRole = session?.role || \"EMPLOYEE_L1\";\r\n  const employeeRole = isEmployeeRole(actorRole);\r\n  const employeeDisplayName = useMemo(\r\n    () =>\r\n      formatPersonName({\r\n        firstName: actorFirstName,\r\n        middleName: actorMiddleName,\r\n        lastName: actorLastName,\r\n        fallbackEmail: actorEmail,\r\n        fallbackLabel: \"Employee\",\r\n      }),\r\n    [actorEmail, actorFirstName, actorLastName, actorMiddleName],\r\n  );\r\n  const employeeInitials = useMemo(() => getInitialsFromName(employeeDisplayName), [employeeDisplayName]);\r\n\r\n  const [section, setSection] = useState(\"monitoring-dashboard\");\r\n  const [attendanceRows, setAttendanceRows] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n  const [isClockInfoOpen, setIsClockInfoOpen] = useState(false);\r\n  const [now, setNow] = useState(() => new Date());\r\n  const [recordsFilter, setRecordsFilter] = useState(\"all\");\r\n\r\n  useEffect(() => {\r\n    const timer = window.setInterval(() => {\r\n      setNow(new Date());\r\n    }, 1000);\r\n    return () => {\r\n      window.clearInterval(timer);\r\n    };\r\n  }, []);\r\n\r\n  const loadData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setErrorMessage(\"\");\r\n    try {\r\n      const attendancePayload = await hrisApi.attendance.list(employeeRole ? { employeeEmail: actorEmail } : {});\r\n      setAttendanceRows(Array.isArray(attendancePayload.records) ? attendancePayload.records : []);\r\n    } catch (error) {\r\n      setErrorMessage(error.message || \"Unable to load attendance records.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [actorEmail, employeeRole]);\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, [loadData]);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") {\r\n      return;\r\n    }\r\n\r\n    const allowed = new Set(MANAGEMENT_SECTION_TABS.map((tab) => tab.id));\r\n    const syncSectionFromHash = (rawHash = window.location.hash) => {\r\n      const hash = String(rawHash || \"\")\r\n        .trim()\r\n        .replace(/^#/, \"\");\r\n      if (!hash) {\r\n        setSection(\"monitoring-dashboard\");\r\n        return;\r\n      }\r\n      const matched = MANAGEMENT_SECTION_TABS.find((tab) => toSubTabAnchor(tab.id) === hash);\r\n      if (matched && allowed.has(matched.id)) {\r\n        setSection(matched.id);\r\n      }\r\n    };\r\n\r\n    const onSubTabAnchor = (event) => {\r\n      const anchor = String(event?.detail?.anchor || \"\")\r\n        .trim()\r\n        .replace(/^#/, \"\");\r\n      if (!anchor) {\r\n        return;\r\n      }\r\n      const matched = MANAGEMENT_SECTION_TABS.find((tab) => toSubTabAnchor(tab.id) === anchor);\r\n      if (matched && allowed.has(matched.id)) {\r\n        setSection(matched.id);\r\n      }\r\n    };\r\n\r\n    const onHashChange = () => syncSectionFromHash();\r\n\r\n    syncSectionFromHash();\r\n    window.addEventListener(\"hashchange\", onHashChange);\r\n    window.addEventListener(\"clio:subtab-anchor\", onSubTabAnchor);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"hashchange\", onHashChange);\r\n      window.removeEventListener(\"clio:subtab-anchor\", onSubTabAnchor);\r\n    };\r\n  }, []);\r\n\r\n  const currentMinutes = now.getHours() * 60 + now.getMinutes();\r\n  const currentShift = useMemo(() => resolveShiftForMinutes(currentMinutes), [currentMinutes]);\r\n  const currentAttendanceStatus = useMemo(\r\n    () => getShiftArrivalStatus(currentMinutes, currentShift),\r\n    [currentMinutes, currentShift],\r\n  );\r\n  const todayKey = useMemo(() => toDateKey(now), [now]);\r\n\r\n  const todayRecords = useMemo(\r\n    () =>\r\n      attendanceRows\r\n        .filter((row) => normalizeDateKey(row.date || row.createdAt) === todayKey)\r\n        .sort((a, b) => getSortableAttendanceTime(b) - getSortableAttendanceTime(a)),\r\n    [attendanceRows, todayKey],\r\n  );\r\n\r\n  const openTodayRecord = useMemo(\r\n    () => todayRecords.find((row) => hasValue(row.checkIn) && !hasValue(row.checkOut)) || null,\r\n    [todayRecords],\r\n  );\r\n\r\n  const completedTodayRecord = useMemo(\r\n    () => todayRecords.find((row) => hasValue(row.checkIn) && hasValue(row.checkOut)) || null,\r\n    [todayRecords],\r\n  );\r\n\r\n  const recentAttendanceRows = useMemo(\r\n    () => [...attendanceRows].sort((a, b) => getSortableAttendanceTime(b) - getSortableAttendanceTime(a)).slice(0, 12),\r\n    [attendanceRows],\r\n  );\r\n\r\n  const computedAttendanceRows = useMemo(\r\n    () =>\r\n      attendanceRows.map((row) => {\r\n        const workedMinutes = computeWorkedMinutes(row.checkIn, row.checkOut);\r\n        const isLate = String(row.status || \"\")\r\n          .trim()\r\n          .toLowerCase()\r\n          .includes(\"late\");\r\n        const isUndertime = Number.isFinite(workedMinutes) && workedMinutes < 8 * 60;\r\n        const overtimeMinutes = Number.isFinite(workedMinutes) ? Math.max(0, workedMinutes - 8 * 60) : 0;\r\n\r\n        return {\r\n          ...row,\r\n          workedMinutes,\r\n          workedHours: formatWorkedHours(workedMinutes),\r\n          isLate,\r\n          isUndertime,\r\n          overtimeMinutes,\r\n          overtimeHours: formatWorkedHours(overtimeMinutes),\r\n          departmentLabel: getDepartmentLabel(row),\r\n        };\r\n      }),\r\n    [attendanceRows],\r\n  );\r\n\r\n  const todaySummary = useMemo(() => {\r\n    const rows = computedAttendanceRows.filter((row) => normalizeDateKey(row.date || row.createdAt) === todayKey);\r\n    const total = rows.length;\r\n    const absent = rows.filter((row) => !hasValue(row.checkIn)).length;\r\n    const late = rows.filter((row) => row.isLate).length;\r\n    const completed = rows.filter((row) => hasValue(row.checkIn) && hasValue(row.checkOut)).length;\r\n    return { total, absent, late, completed };\r\n  }, [computedAttendanceRows, todayKey]);\r\n\r\n  const overtimeRows = useMemo(\r\n    () => computedAttendanceRows.filter((row) => Number.isFinite(row.overtimeMinutes) && row.overtimeMinutes > 0),\r\n    [computedAttendanceRows],\r\n  );\r\n\r\n  const departmentOverview = useMemo(() => {\r\n    const map = new Map();\r\n    computedAttendanceRows.forEach((row) => {\r\n      const key = row.departmentLabel;\r\n      const current = map.get(key) || { department: key, total: 0, late: 0, absent: 0, completed: 0 };\r\n      current.total += 1;\r\n      if (row.isLate) {\r\n        current.late += 1;\r\n      }\r\n      if (!hasValue(row.checkIn)) {\r\n        current.absent += 1;\r\n      }\r\n      if (hasValue(row.checkIn) && hasValue(row.checkOut)) {\r\n        current.completed += 1;\r\n      }\r\n      map.set(key, current);\r\n    });\r\n    return [...map.values()].sort((left, right) => right.total - left.total);\r\n  }, [computedAttendanceRows]);\r\n\r\n  const dailyTrend = useMemo(() => {\r\n    const map = new Map();\r\n    computedAttendanceRows.forEach((row) => {\r\n      const key = normalizeDateKey(row.date || row.createdAt);\r\n      if (!key) {\r\n        return;\r\n      }\r\n      const current = map.get(key) || { dateKey: key, total: 0, late: 0, absent: 0 };\r\n      current.total += 1;\r\n      if (row.isLate) {\r\n        current.late += 1;\r\n      }\r\n      if (!hasValue(row.checkIn)) {\r\n        current.absent += 1;\r\n      }\r\n      map.set(key, current);\r\n    });\r\n    return [...map.values()].sort((a, b) => String(b.dateKey).localeCompare(String(a.dateKey))).slice(0, 7);\r\n  }, [computedAttendanceRows]);\r\n\r\n  const filteredRecords = useMemo(() => {\r\n    if (recordsFilter === \"late\") {\r\n      return computedAttendanceRows.filter((row) => row.isLate);\r\n    }\r\n    if (recordsFilter === \"undertime\") {\r\n      return computedAttendanceRows.filter((row) => row.isUndertime);\r\n    }\r\n    if (recordsFilter === \"overtime\") {\r\n      return computedAttendanceRows.filter((row) => Number.isFinite(row.overtimeMinutes) && row.overtimeMinutes > 0);\r\n    }\r\n    if (recordsFilter === \"completed\") {\r\n      return computedAttendanceRows.filter((row) => hasValue(row.checkIn) && hasValue(row.checkOut));\r\n    }\r\n    if (recordsFilter === \"active\") {\r\n      return computedAttendanceRows.filter((row) => hasValue(row.checkIn) && !hasValue(row.checkOut));\r\n    }\r\n    if (recordsFilter === \"absent\") {\r\n      return computedAttendanceRows.filter((row) => !hasValue(row.checkIn));\r\n    }\r\n    return computedAttendanceRows;\r\n  }, [computedAttendanceRows, recordsFilter]);\r\n\r\n  const handleClockIn = async () => {\r\n    if (!employeeRole) {\r\n      return;\r\n    }\r\n\r\n    if (!actorEmail) {\r\n      setErrorMessage(\"Signed-in employee email is required.\");\r\n      return;\r\n    }\r\n\r\n    if (openTodayRecord) {\r\n      setErrorMessage(\"You already have an active clock-in record for today.\");\r\n      setSuccessMessage(\"\");\r\n      return;\r\n    }\r\n\r\n    if (completedTodayRecord) {\r\n      setErrorMessage(\"Today's attendance is already completed.\");\r\n      setSuccessMessage(\"\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n\r\n    try {\r\n      const timestamp = new Date();\r\n      const date = toDateKey(timestamp);\r\n      const minutes = timestamp.getHours() * 60 + timestamp.getMinutes();\r\n      const shift = resolveShiftForMinutes(minutes);\r\n      const status = getShiftArrivalStatus(minutes, shift);\r\n      const checkIn = formatTimeDisplay(timestamp);\r\n      const reason = `Shift assigned: ${shift.assignedShift}. Arrival: ${status}.`;\r\n\r\n      const draftRecord = todayRecords.find((row) => !hasValue(row.checkIn));\r\n      const payload = {\r\n        employeeEmail: actorEmail,\r\n        employee: employeeDisplayName || actorEmail,\r\n        date,\r\n        checkIn,\r\n        checkOut: \"\",\r\n        status,\r\n        reason,\r\n      };\r\n\r\n      if (draftRecord?.id) {\r\n        await hrisApi.attendance.update(draftRecord.id, payload);\r\n      } else {\r\n        await hrisApi.attendance.create(payload);\r\n      }\r\n\r\n      setSuccessMessage(`Clock-in recorded at ${checkIn}.`);\r\n      await loadData();\r\n    } catch (error) {\r\n      setErrorMessage(error.message || \"Unable to clock in.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleClockOut = async () => {\r\n    if (!employeeRole) {\r\n      return;\r\n    }\r\n\r\n    if (!openTodayRecord?.id) {\r\n      setErrorMessage(\"No active clock-in record found for today.\");\r\n      setSuccessMessage(\"\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n\r\n    try {\r\n      const timestamp = new Date();\r\n      const checkOut = formatTimeDisplay(timestamp);\r\n      await hrisApi.attendance.update(openTodayRecord.id, {\r\n        checkOut,\r\n        status: \"Completed\",\r\n        reason: appendClockOutSummary(openTodayRecord.reason, checkOut),\r\n      });\r\n      setSuccessMessage(`Clock-out recorded at ${checkOut}.`);\r\n      await loadData();\r\n    } catch (error) {\r\n      setErrorMessage(error.message || \"Unable to clock out.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (employeeRole) {\r\n    const canClockIn = !isSubmitting && !openTodayRecord && !completedTodayRecord;\r\n    const canClockOut = !isSubmitting && Boolean(openTodayRecord);\r\n\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        {errorMessage ? (\r\n          <p className=\"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700\">{errorMessage}</p>\r\n        ) : null}\r\n        {successMessage ? (\r\n          <p className=\"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700\">\r\n            {successMessage}\r\n          </p>\r\n        ) : null}\r\n\r\n        {section === \"monitoring-dashboard\" ? (\r\n          <>\r\n            <div className=\"relative\">\r\n          <div className=\"rounded-2xl border border-sky-200 bg-white px-4 py-3 shadow-[0_12px_30px_-24px_rgba(15,23,42,0.55)]\">\r\n            <div className=\"flex items-center justify-between gap-3\">\r\n              <p className=\"text-base font-semibold text-slate-900\">Clock-in Information</p>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setIsClockInfoOpen((current) => !current)}\r\n                aria-label={isClockInfoOpen ? \"Hide clock-in information details\" : \"Show clock-in information details\"}\r\n                aria-expanded={isClockInfoOpen}\r\n                className=\"inline-flex h-8 w-8 items-center justify-center rounded-full border border-sky-300 bg-sky-50 text-sm font-semibold text-sky-700 transition hover:bg-sky-100\"\r\n              >\r\n                ?\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {isClockInfoOpen ? (\r\n            <div className=\"absolute inset-x-0 top-[calc(100%+0.5rem)] z-20 flex justify-end\">\r\n              <div className=\"w-full max-w-[820px] rounded-2xl border border-sky-200 bg-white p-4 shadow-[0_24px_50px_-30px_rgba(14,116,214,0.55)]\">\r\n                <div className=\"flex items-start justify-between gap-3\">\r\n                  <div>\r\n                    <p className=\"text-base font-semibold text-slate-900\">Clock-in Information</p>\r\n                    <p className=\"text-xs text-slate-500\">Everything you need to know before clocking in</p>\r\n                  </div>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setIsClockInfoOpen(false)}\r\n                    aria-label=\"Close clock-in information details\"\r\n                    className=\"inline-flex h-7 w-7 items-center justify-center rounded-md text-slate-500 transition hover:bg-slate-100 hover:text-slate-700\"\r\n                  >\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" className=\"h-4 w-4\" aria-hidden=\"true\">\r\n                      <path d=\"M6 6l12 12M18 6l-12 12\" />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"mt-3 space-y-2 text-sm text-slate-700\">\r\n                  <p>\r\n                    Date: <span className=\"font-semibold text-slate-900\">{formatLongDate(now)}</span>\r\n                  </p>\r\n                  <p>\r\n                    Current Time: <span className=\"font-semibold text-slate-900\">{formatTimeDisplay(now)}</span>\r\n                  </p>\r\n                  <p>\r\n                    If you clock in now, your shift will be:{\" \"}\r\n                    <span className=\"font-semibold text-sky-700\">{currentShift.assignedShift}</span>\r\n                  </p>\r\n                  <p>\r\n                    Attendance Status: <span className=\"font-semibold text-sky-700\">{currentAttendanceStatus}</span>\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"mt-3 rounded-xl border border-sky-100 bg-sky-50/50 p-3\">\r\n                  <p className=\"text-sm font-medium text-slate-700\">\r\n                    <span className=\"mr-2 inline-block h-2 w-2 rounded-full bg-sky-500 align-middle\" />\r\n                    Clock in anytime. The system will automatically assign your shift.\r\n                  </p>\r\n                  <div className=\"mt-3 grid gap-3 lg:grid-cols-3\">\r\n                    {SHIFT_WINDOWS.map((shift) => {\r\n                      const isActive = shift.id === currentShift.id;\r\n                      return (\r\n                        <article\r\n                          key={shift.id}\r\n                          className={`rounded-xl border p-3 ${\r\n                            isActive ? \"border-sky-300 bg-white\" : \"border-slate-200 bg-white/80\"\r\n                          }`}\r\n                        >\r\n                          <p className=\"text-sm font-semibold text-slate-900\">\r\n                            {shift.sourceShift} {\"->\"} {shift.assignedShift}\r\n                          </p>\r\n                          <p className=\"mt-2 text-xs text-slate-600\">\r\n                            On Time: <span className=\"font-medium text-slate-900\">{shift.onTimeLabel}</span>\r\n                          </p>\r\n                          <p className=\"mt-1 text-xs text-slate-600\">\r\n                            Early: <span className=\"font-medium text-slate-900\">{shift.earlyLabel}</span>\r\n                          </p>\r\n                          <p className=\"mt-1 text-xs text-slate-600\">\r\n                            Late: <span className=\"font-medium text-slate-900\">{shift.lateLabel}</span>\r\n                          </p>\r\n                        </article>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n            </div>\r\n\r\n            <SurfaceCard title=\"Your Profile\" subtitle=\"Clock-in and clock-out controls\">\r\n          <div className=\"rounded-xl border border-slate-200 bg-slate-50/80 px-4 py-5\">\r\n            <div className=\"flex flex-col items-center gap-3 text-center\">\r\n              <span className=\"inline-flex h-20 w-20 items-center justify-center rounded-full bg-slate-900 text-xl font-semibold text-white\">\r\n                {employeeInitials}\r\n              </span>\r\n              <div>\r\n                <p className=\"text-lg font-semibold text-slate-900\">{employeeDisplayName}</p>\r\n                <p className=\"text-xs text-slate-500\">{actorEmail}</p>\r\n              </div>\r\n              <div className=\"flex flex-wrap justify-center gap-2\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleClockIn}\r\n                  disabled={!canClockIn}\r\n                  className=\"inline-flex h-9 items-center rounded-full bg-emerald-600 px-4 text-xs font-semibold text-white transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-60\"\r\n                >\r\n                  {isSubmitting ? \"Processing...\" : `Clock In (${currentShift.assignedShift} - ${currentAttendanceStatus})`}\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleClockOut}\r\n                  disabled={!canClockOut}\r\n                  className=\"inline-flex h-9 items-center rounded-full bg-rose-600 px-4 text-xs font-semibold text-white transition hover:bg-rose-700 disabled:cursor-not-allowed disabled:opacity-60\"\r\n                >\r\n                  Clock Out\r\n                </button>\r\n              </div>\r\n              <p className=\"text-xs text-slate-500\">\r\n                You can clock in anytime. The system automatically determines your attendance status.\r\n              </p>\r\n              {openTodayRecord ? (\r\n                <p className=\"text-xs font-medium text-emerald-700\">Active record started at {openTodayRecord.checkIn || \"-\"}</p>\r\n              ) : null}\r\n              {completedTodayRecord ? (\r\n                <p className=\"text-xs font-medium text-slate-600\">Today&apos;s attendance is already completed.</p>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n            </SurfaceCard>\r\n          </>\r\n        ) : null}\r\n\r\n        {section === \"records\" ? (\r\n          <SurfaceCard title=\"Attendance Records\" subtitle=\"Latest attendance logs from your account\">\r\n          {isLoading ? (\r\n            <p className=\"text-sm text-slate-600\">Loading attendance data...</p>\r\n          ) : recentAttendanceRows.length === 0 ? (\r\n            <EmptyState title=\"No attendance records yet\" subtitle=\"Your clock-in and clock-out activity will appear here.\" />\r\n          ) : (\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full text-left text-sm\">\r\n                <thead>\r\n                  <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\r\n                    <th className=\"px-2 py-3 font-medium\">Date</th>\r\n                    <th className=\"px-2 py-3 font-medium\">Clock In</th>\r\n                    <th className=\"px-2 py-3 font-medium\">Clock Out</th>\r\n                    <th className=\"px-2 py-3 font-medium\">Shift</th>\r\n                    <th className=\"px-2 py-3 font-medium\">Status</th>\r\n                    <th className=\"px-2 py-3 font-medium\">Summary</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {recentAttendanceRows.map((row) => {\r\n                    const rowStatus = hasValue(row.checkOut) ? \"Completed\" : row.status || \"Recorded\";\r\n                    return (\r\n                      <tr key={row.id} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\r\n                        <td className=\"px-2 py-3 font-medium text-slate-900\">{formatAttendanceDateForRow(row)}</td>\r\n                        <td className=\"px-2 py-3\">{row.checkIn || \"-\"}</td>\r\n                        <td className=\"px-2 py-3\">{row.checkOut || \"-\"}</td>\r\n                        <td className=\"px-2 py-3\">{getShiftLabelForRecord(row)}</td>\r\n                        <td className=\"px-2 py-3\">\r\n                          <StatusBadge value={rowStatus} className={getStatusBadgeClass(rowStatus)} />\r\n                        </td>\r\n                        <td className=\"max-w-[460px] px-2 py-3 text-xs text-slate-600\">{getSummaryForRecord(row)}</td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n          </SurfaceCard>\r\n        ) : null}\r\n\r\n        {section === \"audit-logs\" ? (\r\n          <SurfaceCard title=\"Attendance Audit Logs\" subtitle=\"Modification trail for your attendance records\">\r\n            {isLoading ? (\r\n              <p className=\"text-sm text-slate-600\">Loading attendance data...</p>\r\n            ) : attendanceRows.length === 0 ? (\r\n              <EmptyState title=\"No attendance audit logs yet\" subtitle=\"Modification trails will appear after updates.\" />\r\n            ) : (\r\n              <div className=\"space-y-2\">\r\n                {attendanceRows.map((row) => (\r\n                  <div key={row.id} className=\"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3\">\r\n                    <p className=\"text-sm font-semibold text-slate-900\">\r\n                      {row.employee || \"-\"} | {row.date || \"-\"}\r\n                    </p>\r\n                    <div className=\"mt-2 space-y-1\">\r\n                      {(row.modificationTrail || []).length === 0 ? (\r\n                        <p className=\"text-xs text-slate-500\">No trail entries yet.</p>\r\n                      ) : (\r\n                        row.modificationTrail.map((event, index) => {\r\n                          const actorName = getActorDisplayName(event.byName, event.byEmail || event.by, \"-\");\r\n                          const actorEmail = getActorEmail(event.byEmail || event.by);\r\n                          return (\r\n                            <div\r\n                              key={`${row.id}-${index}`}\r\n                              className=\"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-2 py-1.5\"\r\n                            >\r\n                              <div className=\"flex min-w-[200px] items-center gap-2\">\r\n                                <Image\r\n                                  src={getActorAvatar(event.byAvatar)}\r\n                                  alt={`${actorName} profile`}\r\n                                  width={24}\r\n                                  height={24}\r\n                                  className=\"h-6 w-6 rounded-full border border-slate-200 bg-white object-cover\"\r\n                                />\r\n                                <div className=\"min-w-0\">\r\n                                  <p className=\"truncate text-xs font-medium text-slate-800\">{actorName}</p>\r\n                                  {actorEmail ? <p className=\"truncate text-[11px] text-slate-500\">{actorEmail}</p> : null}\r\n                                </div>\r\n                              </div>\r\n                              <p className=\"text-xs text-slate-700\">\r\n                                [{formatDate(event.at)}] {event.action || \"update\"} | status: {event.status || \"-\"}\r\n                              </p>\r\n                            </div>\r\n                          );\r\n                        })\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </SurfaceCard>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {errorMessage ? (\r\n        <p className=\"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700\">{errorMessage}</p>\r\n      ) : null}\r\n      {successMessage ? (\r\n        <p className=\"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700\">{successMessage}</p>\r\n      ) : null}\r\n\r\n      <SurfaceCard\r\n        title={\r\n          section === \"monitoring-dashboard\"\r\n            ? \"Attendance Monitoring Dashboard\"\r\n            : section === \"records\"\r\n              ? \"Attendance Records\"\r\n              : \"Attendance Audit Logs\"\r\n        }\r\n        subtitle=\"Daily attendance summary, monitoring, and traceability\"\r\n      >\r\n        {isLoading ? (\r\n          <p className=\"text-sm text-slate-600\">Loading attendance data...</p>\r\n        ) : (\r\n          <>\r\n            {section === \"monitoring-dashboard\" ? (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"grid gap-3 sm:grid-cols-2 xl:grid-cols-4\">\r\n                  <div className=\"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3\">\r\n                    <p className=\"text-xs uppercase tracking-[0.09em] text-slate-500\">Daily Attendance Summary</p>\r\n                    <p className=\"mt-2 text-2xl font-semibold text-slate-900\">{todaySummary.total}</p>\r\n                  </div>\r\n                  <div className=\"rounded-xl border border-rose-200 bg-rose-50 px-3 py-3\">\r\n                    <p className=\"text-xs uppercase tracking-[0.09em] text-rose-600\">Absent Employees</p>\r\n                    <p className=\"mt-2 text-2xl font-semibold text-rose-700\">{todaySummary.absent}</p>\r\n                  </div>\r\n                  <div className=\"rounded-xl border border-amber-200 bg-amber-50 px-3 py-3\">\r\n                    <p className=\"text-xs uppercase tracking-[0.09em] text-amber-700\">Late Employees</p>\r\n                    <p className=\"mt-2 text-2xl font-semibold text-amber-700\">{todaySummary.late}</p>\r\n                  </div>\r\n                  <div className=\"rounded-xl border border-emerald-200 bg-emerald-50 px-3 py-3\">\r\n                    <p className=\"text-xs uppercase tracking-[0.09em] text-emerald-700\">Overtime Reports</p>\r\n                    <p className=\"mt-2 text-2xl font-semibold text-emerald-700\">{overtimeRows.length}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid gap-3 xl:grid-cols-2\">\r\n                  <div className=\"rounded-xl border border-slate-200 bg-white p-3\">\r\n                    <p className=\"text-sm font-semibold text-slate-900\">Department Attendance Overview</p>\r\n                    {departmentOverview.length === 0 ? (\r\n                      <p className=\"mt-2 text-xs text-slate-500\">No department attendance data yet.</p>\r\n                    ) : (\r\n                      <div className=\"mt-2 overflow-x-auto\">\r\n                        <table className=\"min-w-full text-left text-xs\">\r\n                          <thead>\r\n                            <tr className=\"border-b border-slate-200 uppercase tracking-[0.08em] text-slate-500\">\r\n                              <th className=\"px-2 py-2 font-medium\">Department</th>\r\n                              <th className=\"px-2 py-2 font-medium\">Total</th>\r\n                              <th className=\"px-2 py-2 font-medium\">Late</th>\r\n                              <th className=\"px-2 py-2 font-medium\">Absent</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {departmentOverview.map((item) => (\r\n                              <tr key={item.department} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\r\n                                <td className=\"px-2 py-2\">{item.department}</td>\r\n                                <td className=\"px-2 py-2\">{item.total}</td>\r\n                                <td className=\"px-2 py-2\">{item.late}</td>\r\n                                <td className=\"px-2 py-2\">{item.absent}</td>\r\n                              </tr>\r\n                            ))}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"rounded-xl border border-slate-200 bg-white p-3\">\r\n                    <p className=\"text-sm font-semibold text-slate-900\">Trends and Analytics (Last 7 days)</p>\r\n                    {dailyTrend.length === 0 ? (\r\n                      <p className=\"mt-2 text-xs text-slate-500\">No trend data yet.</p>\r\n                    ) : (\r\n                      <div className=\"mt-2 overflow-x-auto\">\r\n                        <table className=\"min-w-full text-left text-xs\">\r\n                          <thead>\r\n                            <tr className=\"border-b border-slate-200 uppercase tracking-[0.08em] text-slate-500\">\r\n                              <th className=\"px-2 py-2 font-medium\">Date</th>\r\n                              <th className=\"px-2 py-2 font-medium\">Total</th>\r\n                              <th className=\"px-2 py-2 font-medium\">Late</th>\r\n                              <th className=\"px-2 py-2 font-medium\">Absent</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {dailyTrend.map((item) => (\r\n                              <tr key={item.dateKey} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\r\n                                <td className=\"px-2 py-2\">{formatDate(item.dateKey)}</td>\r\n                                <td className=\"px-2 py-2\">{item.total}</td>\r\n                                <td className=\"px-2 py-2\">{item.late}</td>\r\n                                <td className=\"px-2 py-2\">{item.absent}</td>\r\n                              </tr>\r\n                            ))}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : section === \"audit-logs\" ? (\r\n              attendanceRows.length === 0 ? (\r\n                <EmptyState title=\"No attendance audit logs yet\" subtitle=\"Modification trails will appear after updates.\" />\r\n              ) : (\r\n                <div className=\"space-y-2\">\r\n                  {attendanceRows.map((row) => (\r\n                    <div key={row.id} className=\"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3\">\r\n                      <p className=\"text-sm font-semibold text-slate-900\">\r\n                        {row.employee || \"-\"} | {row.date || \"-\"}\r\n                      </p>\r\n                      <div className=\"mt-2 space-y-1\">\r\n                        {(row.modificationTrail || []).length === 0 ? (\r\n                          <p className=\"text-xs text-slate-500\">No trail entries yet.</p>\r\n                        ) : (\r\n                          row.modificationTrail.map((event, index) => {\r\n                            const actorName = getActorDisplayName(event.byName, event.byEmail || event.by, \"-\");\r\n                            const actorEmail = getActorEmail(event.byEmail || event.by);\r\n                            return (\r\n                              <div\r\n                                key={`${row.id}-${index}`}\r\n                                className=\"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-2 py-1.5\"\r\n                              >\r\n                                <div className=\"flex min-w-[200px] items-center gap-2\">\r\n                                  <Image\r\n                                    src={getActorAvatar(event.byAvatar)}\r\n                                    alt={`${actorName} profile`}\r\n                                    width={24}\r\n                                    height={24}\r\n                                    className=\"h-6 w-6 rounded-full border border-slate-200 bg-white object-cover\"\r\n                                  />\r\n                                  <div className=\"min-w-0\">\r\n                                    <p className=\"truncate text-xs font-medium text-slate-800\">{actorName}</p>\r\n                                    {actorEmail ? <p className=\"truncate text-[11px] text-slate-500\">{actorEmail}</p> : null}\r\n                                  </div>\r\n                                </div>\r\n                                <p className=\"text-xs text-slate-700\">\r\n                                  [{formatDate(event.at)}] {event.action || \"update\"} | status: {event.status || \"-\"}\r\n                                </p>\r\n                              </div>\r\n                            );\r\n                          })\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )\r\n            ) : section === \"records\" ? (\r\n              <>\r\n                <div className=\"mb-3 flex flex-wrap items-end gap-2\">\r\n                  <label className=\"text-xs font-semibold uppercase tracking-[0.09em] text-slate-500\" htmlFor=\"attendance-records-filter\">\r\n                    Records Filter\r\n                  </label>\r\n                  <select\r\n                    id=\"attendance-records-filter\"\r\n                    value={recordsFilter}\r\n                    onChange={(event) => setRecordsFilter(event.target.value)}\r\n                    className=\"h-9 min-w-[220px] rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                  >\r\n                    <option value=\"all\">All records</option>\r\n                    <option value=\"late\">Late only</option>\r\n                    <option value=\"undertime\">Undertime only</option>\r\n                    <option value=\"overtime\">Overtime only</option>\r\n                    <option value=\"completed\">Completed only</option>\r\n                    <option value=\"active\">Active (no clock-out)</option>\r\n                    <option value=\"absent\">Absent (no clock-in)</option>\r\n                  </select>\r\n                </div>\r\n\r\n                {filteredRecords.length === 0 ? (\r\n                  <EmptyState title=\"No matching attendance records\" subtitle=\"Change filter to view other attendance records.\" />\r\n                ) : (\r\n                  <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full text-left text-sm\">\r\n                      <thead>\r\n                        <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\r\n                          <th className=\"px-2 py-3 font-medium\">Employee</th>\r\n                          <th className=\"px-2 py-3 font-medium\">Date</th>\r\n                          <th className=\"px-2 py-3 font-medium\">Clock In</th>\r\n                          <th className=\"px-2 py-3 font-medium\">Clock Out</th>\r\n                          <th className=\"px-2 py-3 font-medium\">Worked</th>\r\n                          <th className=\"px-2 py-3 font-medium\">Overtime</th>\r\n                          <th className=\"px-2 py-3 font-medium\">Flags</th>\r\n                          <th className=\"px-2 py-3 font-medium\">Status</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {filteredRecords.map((row) => (\r\n                          <tr key={row.id} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\r\n                            <td className=\"px-2 py-3\">\r\n                              <p className=\"font-medium text-slate-900\">{row.employee || \"-\"}</p>\r\n                              <p className=\"text-xs text-slate-500\">{row.employeeEmail || \"-\"}</p>\r\n                            </td>\r\n                            <td className=\"px-2 py-3\">{row.date || \"-\"}</td>\r\n                            <td className=\"px-2 py-3\">{row.checkIn || \"-\"}</td>\r\n                            <td className=\"px-2 py-3\">{row.checkOut || \"-\"}</td>\r\n                            <td className=\"px-2 py-3\">{row.workedHours}</td>\r\n                            <td className=\"px-2 py-3\">{row.overtimeHours}</td>\r\n                            <td className=\"px-2 py-3\">\r\n                              <div className=\"flex flex-wrap gap-1.5\">\r\n                                {row.isLate ? <StatusBadge value=\"Late\" className=\"bg-amber-100 text-amber-700\" /> : null}\r\n                                {row.isUndertime ? <StatusBadge value=\"Undertime\" className=\"bg-rose-100 text-rose-700\" /> : null}\r\n                                {!row.isLate && !row.isUndertime ? <span className=\"text-xs text-slate-500\">-</span> : null}\r\n                              </div>\r\n                            </td>\r\n                            <td className=\"px-2 py-3\">\r\n                              <StatusBadge value={row.status || \"-\"} className={getStatusBadgeClass(row.status)} />\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <>\r\n                {attendanceRows.length === 0 ? (\r\n                  <EmptyState title=\"No attendance records yet\" subtitle=\"Clock-in and clock-out entries will appear here.\" />\r\n                ) : (\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"overflow-x-auto\">\r\n                      <table className=\"min-w-full text-left text-sm\">\r\n                        <thead>\r\n                          <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\r\n                            <th className=\"px-2 py-3 font-medium\">Employee</th>\r\n                            <th className=\"px-2 py-3 font-medium\">Date</th>\r\n                            <th className=\"px-2 py-3 font-medium\">Clock In</th>\r\n                            <th className=\"px-2 py-3 font-medium\">Clock Out</th>\r\n                            <th className=\"px-2 py-3 font-medium\">Status</th>\r\n                            <th className=\"px-2 py-3 font-medium\">Reason</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {attendanceRows.map((row) => (\r\n                            <tr key={row.id} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\r\n                              <td className=\"px-2 py-3\">\r\n                                <p className=\"font-medium text-slate-900\">{row.employee || \"-\"}</p>\r\n                                <p className=\"text-xs text-slate-500\">{row.employeeEmail || \"-\"}</p>\r\n                              </td>\r\n                              <td className=\"px-2 py-3\">{row.date || \"-\"}</td>\r\n                              <td className=\"px-2 py-3\">{row.checkIn || \"-\"}</td>\r\n                              <td className=\"px-2 py-3\">{row.checkOut || \"-\"}</td>\r\n                              <td className=\"px-2 py-3\">\r\n                                <StatusBadge value={row.status || \"-\"} />\r\n                              </td>\r\n                              <td className=\"px-2 py-3 text-xs text-slate-600\">{row.reason || \"-\"}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </SurfaceCard>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}