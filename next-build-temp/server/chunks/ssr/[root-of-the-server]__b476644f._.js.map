{"version":3,"sources":["../../../../src/lib/utils.js","../../../../src/components/hris/SurfaceCard.jsx","../../../../src/app/%28hris%29/dashboard/page.jsx"],"sourcesContent":["export function cn(...parts) {\r\n  return parts.filter(Boolean).join(\" \");\r\n}\r\n","import { cn } from \"@/lib/utils\";\r\n\r\nexport default function SurfaceCard({ title, subtitle, className, children, action }) {\r\n  return (\r\n    <section\r\n      className={cn(\r\n        \"rounded-2xl border border-slate-200 bg-white p-5 shadow-[0_12px_30px_-24px_rgba(15,23,42,0.55)]\",\r\n        className,\r\n      )}\r\n    >\r\n      {(title || subtitle || action) && (\r\n        <header className=\"mb-4 flex items-start justify-between gap-3\">\r\n          <div className=\"space-y-1\">\r\n            {title && <h2 className=\"text-base font-semibold text-slate-900\">{title}</h2>}\r\n            {subtitle && <p className=\"text-sm text-slate-600\">{subtitle}</p>}\r\n          </div>\r\n          {action}\r\n        </header>\r\n      )}\r\n      {children}\r\n    </section>\r\n  );\r\n}\r\n","import SurfaceCard from \"@/components/hris/SurfaceCard\";\r\nimport {\r\n  CORE_FUNCTIONAL_FEATURES,\r\n  ROLE_DASHBOARD_CONTENT,\r\n  ROLE_PRIVILEGE_MATRIX,\r\n} from \"@/features/hris/mock-data\";\r\nimport { requireModuleAccess } from \"@/lib/server-authorization\";\r\n\r\nexport const metadata = {\r\n  title: \"Dashboard | Clio HRIS\",\r\n};\r\n\r\nfunction normalizeRoleForMatrix(role) {\r\n  if (String(role).startsWith(\"EMPLOYEE_\")) {\r\n    return \"EMPLOYEE (L1/L2/L3)\";\r\n  }\r\n  return role;\r\n}\r\n\r\nexport default async function DashboardPage() {\r\n  const session = await requireModuleAccess(\"dashboard\");\r\n  const role = session.role;\r\n  const isEmployeeRole = String(role).startsWith(\"EMPLOYEE_\");\r\n  const showRoleCoreVisualization = [\"GRC\", \"HR\", \"EA\"].includes(role);\r\n  const dashboard = ROLE_DASHBOARD_CONTENT[role] ?? ROLE_DASHBOARD_CONTENT.HR;\r\n  const matrixRoleKey = normalizeRoleForMatrix(role);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <header>\r\n        <h1 className=\"text-2xl font-semibold tracking-tight text-slate-900\">{dashboard.title}</h1>\r\n      </header>\r\n\r\n      <section className=\"grid gap-4 sm:grid-cols-2 xl:grid-cols-4\">\r\n        {dashboard.metrics.map((metric) => (\r\n          <SurfaceCard key={metric.id}>\r\n            <p className=\"text-sm text-slate-600\">{metric.label}</p>\r\n            <p className=\"mt-2 text-3xl font-semibold tracking-tight text-slate-900\">{metric.value}</p>\r\n            <p className=\"mt-3 text-xs font-medium text-sky-700\">{metric.trend}</p>\r\n          </SurfaceCard>\r\n        ))}\r\n      </section>\r\n\r\n      {showRoleCoreVisualization ? (\r\n        <SurfaceCard title=\"Core Functional Features\">\r\n          <div className=\"grid gap-4 lg:grid-cols-2\">\r\n            {CORE_FUNCTIONAL_FEATURES.map((feature) => (\r\n              <article key={feature.id} className=\"rounded-xl border border-slate-200 bg-white px-4 py-3\">\r\n                <p className=\"text-[11px] font-semibold uppercase tracking-[0.1em] text-slate-500\">Main Tab</p>\r\n                <h3 className=\"mt-1 text-base font-semibold text-slate-900\">{feature.mainTab}</h3>\r\n                <p className=\"mt-3 text-[11px] font-semibold uppercase tracking-[0.1em] text-slate-500\">Sub Tabs</p>\r\n                <div className=\"mt-2 flex flex-wrap gap-1.5\">\r\n                  {feature.subTabs.map((subTab) => (\r\n                    <span key={subTab} className=\"rounded-md border border-slate-200 bg-slate-50 px-2 py-1 text-xs text-slate-700\">\r\n                      {subTab}\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              </article>\r\n            ))}\r\n          </div>\r\n        </SurfaceCard>\r\n      ) : null}\r\n\r\n      {!isEmployeeRole ? (\r\n        <SurfaceCard title=\"Role Privilege Matrix\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full text-left text-sm\">\r\n              <thead>\r\n                <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.12em] text-slate-500\">\r\n                  <th className=\"px-2 py-3 font-medium\">Role</th>\r\n                  <th className=\"px-2 py-3 font-medium\">Employee Records</th>\r\n                  <th className=\"px-2 py-3 font-medium\">Lifecycle</th>\r\n                  <th className=\"px-2 py-3 font-medium\">Attendance</th>\r\n                  <th className=\"px-2 py-3 font-medium\">Performance</th>\r\n                  <th className=\"px-2 py-3 font-medium\">Templates</th>\r\n                  <th className=\"px-2 py-3 font-medium\">Exports</th>\r\n                  <th className=\"px-2 py-3 font-medium\">Audit</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {ROLE_PRIVILEGE_MATRIX.map((row) => {\r\n                  const isCurrentRole = row.role === matrixRoleKey;\r\n                  return (\r\n                    <tr\r\n                      key={row.role}\r\n                      className={`border-b border-slate-100 text-slate-700 last:border-b-0 ${isCurrentRole ? \"bg-sky-50/60\" : \"\"}`}\r\n                    >\r\n                      <td className=\"px-2 py-3 font-semibold text-slate-900\">{row.role}</td>\r\n                      <td className=\"px-2 py-3\">{row.employeeRecords}</td>\r\n                      <td className=\"px-2 py-3\">{row.lifecycle}</td>\r\n                      <td className=\"px-2 py-3\">{row.attendance}</td>\r\n                      <td className=\"px-2 py-3\">{row.performance}</td>\r\n                      <td className=\"px-2 py-3\">{row.templates}</td>\r\n                      <td className=\"px-2 py-3\">{row.exports}</td>\r\n                      <td className=\"px-2 py-3\">{row.audit}</td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </SurfaceCard>\r\n      ) : null}\r\n\r\n      {!isEmployeeRole ? (\r\n        <SurfaceCard\r\n          title={dashboard.table.title}\r\n          action={\r\n            <button className=\"rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-medium text-slate-700 transition hover:bg-slate-100\">\r\n              {dashboard.table.actionLabel}\r\n            </button>\r\n          }\r\n        >\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full text-left text-sm\">\r\n              <thead>\r\n                <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.12em] text-slate-500\">\r\n                  {dashboard.table.columns.map((column) => (\r\n                    <th key={column} className=\"px-2 py-3 font-medium\">\r\n                      {column}\r\n                    </th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dashboard.table.rows.map((row) => (\r\n                  <tr key={`${dashboard.title}-${row[0]}`} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\r\n                    {row.map((cell, index) => (\r\n                      <td key={`${row[0]}-${index}`} className=\"px-2 py-3\">\r\n                        {index === row.length - 1 ? (\r\n                          <span className=\"rounded-md bg-sky-100 px-2 py-1 text-xs font-medium text-sky-700\">\r\n                            {cell}\r\n                          </span>\r\n                        ) : (\r\n                          <span className={index === 0 ? \"font-medium text-slate-900\" : \"\"}>{cell}</span>\r\n                        )}\r\n                      </td>\r\n                    ))}\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </SurfaceCard>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}