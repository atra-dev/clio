{"version":3,"sources":["../../../../src/components/hris/HrisShell.jsx","../../../../src/components/hris/ModuleSubTabAnchors.jsx","../../../../src/lib/hris.js","../../../../src/lib/rbac.js"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport { signOut as signOutFirebase } from \"firebase/auth\";\r\nimport BrandMark from \"@/components/ui/BrandMark\";\r\nimport ModuleSubTabAnchors from \"@/components/hris/ModuleSubTabAnchors\";\r\nimport { useToast } from \"@/components/ui/ToastProvider\";\r\nimport { getModulesForRole, normalizeRole } from \"@/lib/hris\";\r\nimport { canAccessModule } from \"@/lib/rbac\";\r\nimport { MODULES } from \"@/features/hris/constants\";\r\nimport { formatPersonName } from \"@/lib/name-utils\";\r\nimport { getFirebaseClientAuth } from \"@/lib/firebase-client-auth\";\r\nimport {\r\n  removeStorageObjectByPath,\r\n  uploadProfilePhotoToStorage,\r\n} from \"@/services/firebase-storage-client\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst MODULE_ID_BY_HREF = new Map(\r\n  MODULES.map((module) => [String(module?.href || \"\").trim().toLowerCase(), module.id]),\r\n);\r\nconst MODULE_ID_BY_LABEL = new Map(\r\n  MODULES.map((module) => [String(module?.label || \"\").trim().toLowerCase(), module.id]),\r\n);\r\n\r\nfunction getInitials(label) {\r\n  const initials = label\r\n    .split(\" \")\r\n    .filter(Boolean)\r\n    .map((word) => word.charAt(0).toUpperCase())\r\n    .slice(0, 2)\r\n    .join(\"\");\r\n\r\n  return initials || \"CU\";\r\n}\r\n\r\nfunction getModuleLabelForRole(moduleId, defaultLabel, role) {\r\n  const normalizedRole = String(role || \"\").trim().toUpperCase();\r\n  if (!normalizedRole.startsWith(\"EMPLOYEE_\")) {\r\n    return defaultLabel;\r\n  }\r\n\r\n  const employeeLabels = {\r\n    employees: \"My Profile\",\r\n    attendance: \"My Attendance\",\r\n    performance: \"My Performance\",\r\n    documents: \"My Documents\",\r\n  };\r\n\r\n  return employeeLabels[moduleId] || defaultLabel;\r\n}\r\n\r\nfunction formatRoleLabel(roleValue) {\r\n  const role = String(roleValue || \"\").trim().toUpperCase();\r\n  if (role === \"EMPLOYEE\" || role.startsWith(\"EMPLOYEE_\")) {\r\n    return \"Employee\";\r\n  }\r\n  const map = {\r\n    SUPER_ADMIN: \"Super Admin\",\r\n    GRC: \"GRC\",\r\n    HR: \"HR\",\r\n    EA: \"EA\",\r\n  };\r\n  return map[role] || \"Employee\";\r\n}\r\n\r\nfunction formatEmployeeRoleLabel(roleValue) {\r\n  const role = String(roleValue || \"\").trim().toUpperCase();\r\n  const employeeMap = {\r\n    EMPLOYEE: \"Employee\",\r\n    EMPLOYEE_L1: \"Employee (L1)\",\r\n    EMPLOYEE_L2: \"Employee (L2)\",\r\n    EMPLOYEE_L3: \"Employee (L3)\",\r\n  };\r\n  if (employeeMap[role]) {\r\n    return employeeMap[role];\r\n  }\r\n  return formatRoleLabel(role);\r\n}\r\n\r\nfunction formatDateTime(value) {\r\n  const date = value ? new Date(value) : null;\r\n  if (!date || Number.isNaN(date.getTime())) {\r\n    return \"-\";\r\n  }\r\n  return new Intl.DateTimeFormat(\"en-US\", {\r\n    month: \"short\",\r\n    day: \"2-digit\",\r\n    year: \"numeric\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  }).format(date);\r\n}\r\n\r\nfunction formatDate(value) {\r\n  const date = value ? new Date(value) : null;\r\n  if (!date || Number.isNaN(date.getTime())) {\r\n    return \"-\";\r\n  }\r\n  return new Intl.DateTimeFormat(\"en-US\", {\r\n    month: \"short\",\r\n    day: \"2-digit\",\r\n    year: \"numeric\",\r\n  }).format(date);\r\n}\r\n\r\nfunction formatSourceIp(value) {\r\n  const ip = String(value || \"\").trim();\r\n  if (!ip || ip.toLowerCase() === \"unknown\") {\r\n    return \"Unknown\";\r\n  }\r\n\r\n  const localIpSet = new Set([\"::1\", \"127.0.0.1\", \"::ffff:127.0.0.1\"]);\r\n  if (localIpSet.has(ip.toLowerCase())) {\r\n    return `Loopback (${ip})`;\r\n  }\r\n\r\n  return ip;\r\n}\r\n\r\nfunction formatNotificationRelativeTime(value) {\r\n  const date = value ? new Date(value) : null;\r\n  if (!date || Number.isNaN(date.getTime())) {\r\n    return \"Just now\";\r\n  }\r\n\r\n  const diffMs = Date.now() - date.getTime();\r\n  const diffMinutes = Math.floor(diffMs / (1000 * 60));\r\n  if (diffMinutes <= 0) {\r\n    return \"Just now\";\r\n  }\r\n  if (diffMinutes < 60) {\r\n    return `${diffMinutes}m ago`;\r\n  }\r\n  const diffHours = Math.floor(diffMinutes / 60);\r\n  if (diffHours < 24) {\r\n    return `${diffHours}h ago`;\r\n  }\r\n  const diffDays = Math.floor(diffHours / 24);\r\n  if (diffDays < 7) {\r\n    return `${diffDays}d ago`;\r\n  }\r\n  return formatDateTime(date.toISOString());\r\n}\r\n\r\nfunction notificationSeverityClass(value) {\r\n  const severity = String(value || \"\").trim().toLowerCase();\r\n  if (severity === \"critical\") {\r\n    return \"border-rose-200 bg-rose-50 text-rose-700\";\r\n  }\r\n  if (severity === \"high\") {\r\n    return \"border-amber-200 bg-amber-50 text-amber-700\";\r\n  }\r\n  if (severity === \"low\") {\r\n    return \"border-emerald-200 bg-emerald-50 text-emerald-700\";\r\n  }\r\n  return \"border-sky-200 bg-sky-50 text-sky-700\";\r\n}\r\n\r\nfunction resolveActionPathname(actionUrl) {\r\n  const raw = String(actionUrl || \"\").trim();\r\n  if (!raw) {\r\n    return \"\";\r\n  }\r\n\r\n  try {\r\n    const base = typeof window === \"undefined\" ? \"https://clio.invalid\" : window.location.origin;\r\n    return String(new URL(raw, base).pathname || \"\").trim().toLowerCase();\r\n  } catch {\r\n    return raw.split(\"?\")[0].split(\"#\")[0].trim().toLowerCase();\r\n  }\r\n}\r\n\r\nfunction resolveNotificationModuleId(notification) {\r\n  const actionPathname = resolveActionPathname(notification?.actionUrl);\r\n  if (actionPathname) {\r\n    const firstSegment = actionPathname.replace(/^\\/+/, \"\").split(\"/\")[0];\r\n    const fromHref = MODULE_ID_BY_HREF.get(`/${firstSegment}`);\r\n    if (fromHref) {\r\n      return fromHref;\r\n    }\r\n  }\r\n\r\n  const moduleLabel = String(notification?.module || \"\").trim().toLowerCase();\r\n  return MODULE_ID_BY_LABEL.get(moduleLabel) || \"\";\r\n}\r\n\r\nfunction ModuleIcon({ moduleId, active }) {\r\n  const iconClass = cn(\r\n    \"h-4 w-4 transition-colors\",\r\n    active ? \"text-sky-700\" : \"text-slate-500 group-hover:text-slate-700\",\r\n  );\r\n\r\n  switch (moduleId) {\r\n    case \"dashboard\":\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\r\n          <rect x=\"3.5\" y=\"3.5\" width=\"7\" height=\"7\" rx=\"1.2\" />\r\n          <rect x=\"13.5\" y=\"3.5\" width=\"7\" height=\"4.5\" rx=\"1.2\" />\r\n          <rect x=\"13.5\" y=\"10.5\" width=\"7\" height=\"10\" rx=\"1.2\" />\r\n          <rect x=\"3.5\" y=\"13\" width=\"7\" height=\"7.5\" rx=\"1.2\" />\r\n        </svg>\r\n      );\r\n    case \"employees\":\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\r\n          <circle cx=\"9\" cy=\"8.3\" r=\"3.1\" />\r\n          <path d=\"M3.8 18.3c0-3.2 2.4-5.2 5.2-5.2s5.2 2 5.2 5.2\" />\r\n          <path d=\"M15.1 9.3a2.5 2.5 0 1 0 0-5\" />\r\n          <path d=\"M20 18.2c0-2.3-1.3-3.9-3.4-4.7\" />\r\n        </svg>\r\n      );\r\n    case \"employment-lifecycle\":\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\r\n          <path d=\"M4.5 6.2h15\" />\r\n          <path d=\"M4.5 12h15\" />\r\n          <path d=\"M4.5 17.8h15\" />\r\n          <circle cx=\"7.2\" cy=\"6.2\" r=\"1.2\" />\r\n          <circle cx=\"12\" cy=\"12\" r=\"1.2\" />\r\n          <circle cx=\"16.8\" cy=\"17.8\" r=\"1.2\" />\r\n        </svg>\r\n      );\r\n    case \"attendance\":\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\r\n          <rect x=\"4\" y=\"5.2\" width=\"16\" height=\"14.2\" rx=\"2\" />\r\n          <path d=\"M8 3.8v2.4M16 3.8v2.4M4 9.2h16\" />\r\n          <path d=\"m9.1 14 1.9 1.9 4-4\" />\r\n        </svg>\r\n      );\r\n    case \"performance\":\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\r\n          <path d=\"M4.2 18.5h15.6\" />\r\n          <rect x=\"6.2\" y=\"11.5\" width=\"2.8\" height=\"7\" rx=\"0.8\" />\r\n          <rect x=\"10.6\" y=\"8.5\" width=\"2.8\" height=\"10\" rx=\"0.8\" />\r\n          <rect x=\"15\" y=\"5.5\" width=\"2.8\" height=\"13\" rx=\"0.8\" />\r\n        </svg>\r\n      );\r\n    case \"activity-log\":\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\r\n          <circle cx=\"12\" cy=\"12\" r=\"8.5\" />\r\n          <path d=\"M12 7.4v5.1l3.6 2.2\" />\r\n        </svg>\r\n      );\r\n    case \"exports\":\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\r\n          <path d=\"M12 4.2v9.6\" />\r\n          <path d=\"m8.4 10.1 3.6 3.7 3.6-3.7\" />\r\n          <rect x=\"4\" y=\"15.5\" width=\"16\" height=\"4.3\" rx=\"1.2\" />\r\n        </svg>\r\n      );\r\n    case \"access-management\":\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\r\n          <path d=\"M12 3.8 5.2 6.5v5.3c0 4.1 2.5 7.7 6.8 8.4 4.3-.7 6.8-4.3 6.8-8.4V6.5L12 3.8Z\" />\r\n          <path d=\"M9.2 12.3 11 14l3.8-3.9\" />\r\n        </svg>\r\n      );\r\n    case \"retention-archive\":\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\r\n          <rect x=\"4.4\" y=\"5.2\" width=\"15.2\" height=\"4.2\" rx=\"1\" />\r\n          <path d=\"M6.1 9.6h11.8v8.7a1.7 1.7 0 0 1-1.7 1.7H7.8a1.7 1.7 0 0 1-1.7-1.7V9.6Z\" />\r\n          <path d=\"M9 13.1h6M9 16h6\" />\r\n        </svg>\r\n      );\r\n    case \"incident-management\":\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\r\n          <path d=\"m12 3.8 8.1 14.1a1.2 1.2 0 0 1-1 1.8H4.9a1.2 1.2 0 0 1-1-1.8L12 3.8Z\" />\r\n          <path d=\"M12 9v5.2M12 17.5h.01\" />\r\n        </svg>\r\n      );\r\n    case \"documents\":\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\r\n          <path d=\"M7.5 3.8h7l4 4v12.4a1.8 1.8 0 0 1-1.8 1.8H7.5a1.8 1.8 0 0 1-1.8-1.8V5.6a1.8 1.8 0 0 1 1.8-1.8Z\" />\r\n          <path d=\"M14.5 3.8v4h4\" />\r\n          <path d=\"M8.8 13h6.6M8.8 16.4h6.6\" />\r\n        </svg>\r\n      );\r\n    case \"requests\":\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\r\n          <rect x=\"4\" y=\"4.5\" width=\"16\" height=\"15\" rx=\"2\" />\r\n          <path d=\"M8 9h8M8 13h5\" />\r\n          <path d=\"m14 16 2.1 2.1L20 14.2\" />\r\n        </svg>\r\n      );\r\n    case \"settings\":\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\r\n          <path d=\"M9.9 4.8h4.2l.7 2 2.1.9 1.9-1.1 2.1 3.6-1.6 1.4v2.4l1.6 1.4-2.1 3.6-1.9-1.1-2.1.9-.7 2H9.9l-.7-2-2.1-.9-1.9 1.1-2.1-3.6 1.6-1.4v-2.4l-1.6-1.4 2.1-3.6 1.9 1.1 2.1-.9.7-2Z\" />\r\n          <circle cx=\"12\" cy=\"12\" r=\"2.7\" />\r\n        </svg>\r\n      );\r\n    case \"user-management\":\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\r\n          <circle cx=\"8.2\" cy=\"8.4\" r=\"2.6\" />\r\n          <circle cx=\"16.1\" cy=\"9.6\" r=\"2.2\" />\r\n          <path d=\"M3.9 18.7c0-2.9 2.1-4.8 4.8-4.8s4.8 1.9 4.8 4.8\" />\r\n          <path d=\"M13.4 18.3c.3-2 1.7-3.4 3.9-3.4 2.1 0 3.4 1.1 3.8 2.9\" />\r\n        </svg>\r\n      );\r\n    default:\r\n      return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" className={iconClass} aria-hidden=\"true\">\r\n          <circle cx=\"12\" cy=\"12\" r=\"3\" />\r\n        </svg>\r\n      );\r\n  }\r\n}\r\n\r\nfunction SidebarCloseIcon({ className }) {\r\n  return (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.2\" className={className} aria-hidden=\"true\">\r\n      <path d=\"m15 5-7 7 7 7\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction SidebarOpenIcon({ className }) {\r\n  return (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.2\" className={className} aria-hidden=\"true\">\r\n      <path d=\"m9 5 7 7-7 7\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction clearLoginRedirectPendingFlag() {\r\n  if (typeof window === \"undefined\") {\r\n    return;\r\n  }\r\n  window.sessionStorage.removeItem(\"clio_google_redirect_pending\");\r\n}\r\n\r\nexport default function HrisShell({ children, session }) {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const toast = useToast();\r\n  const role = normalizeRole(session?.role);\r\n  const [isSigningOut, setIsSigningOut] = useState(false);\r\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false);\r\n  const userEmail = session?.email ?? \"user@gmail.com\";\r\n  const [isSessionReady, setIsSessionReady] = useState(false);\r\n  const [profile, setProfile] = useState(null);\r\n  const [profileDraft, setProfileDraft] = useState({\r\n    firstName: \"\",\r\n    middleName: \"\",\r\n    lastName: \"\",\r\n    profilePhotoDataUrl: \"\",\r\n    profilePhotoStoragePath: \"\",\r\n    phoneVerifiedAt: \"\",\r\n    phoneLast4: \"\",\r\n    smsMfaEnabled: false,\r\n  });\r\n  const [isProfileLoading, setIsProfileLoading] = useState(true);\r\n  const [isProfileModalOpen, setIsProfileModalOpen] = useState(false);\r\n  const [isNotificationsOpen, setIsNotificationsOpen] = useState(false);\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [notificationUnreadCount, setNotificationUnreadCount] = useState(0);\r\n  const [isLoadingNotifications, setIsLoadingNotifications] = useState(false);\r\n  const [isMarkingNotifications, setIsMarkingNotifications] = useState(false);\r\n  const [notificationsLimit, setNotificationsLimit] = useState(16);\r\n  const [notificationFilter, setNotificationFilter] = useState(\"all\");\r\n  const [deviceActionState, setDeviceActionState] = useState({});\r\n  const [isSavingProfile, setIsSavingProfile] = useState(false);\r\n  const [isUploadingPhoto, setIsUploadingPhoto] = useState(false);\r\n  const [isLoadingProfileInsights, setIsLoadingProfileInsights] = useState(false);\r\n  const [isRevokingSessions, setIsRevokingSessions] = useState(false);\r\n  const [profileInsights, setProfileInsights] = useState({\r\n    role: String(session?.role || \"\"),\r\n    employmentRole: String(session?.role || \"\"),\r\n    employeeId: \"-\",\r\n    employeeName: \"-\",\r\n    employeeEmail: userEmail,\r\n    department: \"-\",\r\n    jobTitle: \"-\",\r\n    employmentStatus: \"-\",\r\n    recordStatus: \"-\",\r\n    managerEmail: \"-\",\r\n    hireDate: \"-\",\r\n    lastLoginAt: null,\r\n    lastActiveIp: \"unknown\",\r\n    lastActiveDevice: \"Unknown device\",\r\n    recentActivity: [],\r\n  });\r\n  const fileInputRef = useRef(null);\r\n  const notificationsButtonRef = useRef(null);\r\n  const notificationsPanelRef = useRef(null);\r\n  const profileButtonRef = useRef(null);\r\n  const profilePanelRef = useRef(null);\r\n  const userName = useMemo(\r\n    () =>\r\n      formatPersonName({\r\n        firstName: profile?.firstName,\r\n        middleName: profile?.middleName,\r\n        lastName: profile?.lastName,\r\n        fallbackEmail: userEmail,\r\n        fallbackLabel: \"Clio User\",\r\n      }),\r\n    [profile?.firstName, profile?.middleName, profile?.lastName, userEmail],\r\n  );\r\n  const userInitials = useMemo(() => getInitials(userName), [userName]);\r\n  const userAvatar = useMemo(() => {\r\n    const value = String(profile?.profilePhotoDataUrl || \"\").trim();\r\n    return value || \"\";\r\n  }, [profile]);\r\n\r\n  useEffect(() => {\r\n    const savedState = window.localStorage.getItem(\"clio_sidebar_collapsed\");\r\n    setIsSidebarCollapsed(savedState === \"true\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"clio_sidebar_collapsed\", String(isSidebarCollapsed));\r\n  }, [isSidebarCollapsed]);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    let attempts = 0;\r\n    const maxAttempts = 4;\r\n    const delays = [0, 300, 700, 1200];\r\n\r\n    const confirmSession = async () => {\r\n      if (!isMounted) {\r\n        return;\r\n      }\r\n      attempts += 1;\r\n      try {\r\n        const response = await fetch(\"/api/auth/role\", { method: \"GET\", cache: \"no-store\" });\r\n        if (!response.ok) {\r\n          throw new Error(\"Session not ready.\");\r\n        }\r\n        await response.json().catch(() => ({}));\r\n        if (isMounted) {\r\n          setIsSessionReady(true);\r\n        }\r\n      } catch {\r\n        if (!isMounted) {\r\n          return;\r\n        }\r\n        if (attempts < maxAttempts) {\r\n          const delay = delays[Math.min(attempts, delays.length - 1)];\r\n          window.setTimeout(confirmSession, delay);\r\n        } else {\r\n          setIsSessionReady(true);\r\n        }\r\n      }\r\n    };\r\n\r\n    confirmSession();\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    async function loadProfile() {\r\n      if (!isSessionReady) {\r\n        return;\r\n      }\r\n      setIsProfileLoading(true);\r\n      try {\r\n        const response = await fetch(\"/api/auth/profile\", { method: \"GET\", cache: \"no-store\" });\r\n        const payload = await response.json().catch(() => ({}));\r\n        if (!response.ok) {\r\n          throw new Error(payload?.message || \"Unable to load account profile.\");\r\n        }\r\n        if (!isMounted) {\r\n          return;\r\n        }\r\n\r\n        const nextProfile = {\r\n          firstName: String(payload?.firstName || \"\"),\r\n          middleName: String(payload?.middleName || \"\"),\r\n          lastName: String(payload?.lastName || \"\"),\r\n          profilePhotoDataUrl: String(payload?.profilePhotoDataUrl || \"\"),\r\n          profilePhotoStoragePath: String(payload?.profilePhotoStoragePath || \"\"),\r\n          phoneVerifiedAt: String(payload?.phoneVerifiedAt || \"\"),\r\n          phoneLast4: String(payload?.phoneLast4 || \"\"),\r\n          smsMfaEnabled: Boolean(payload?.smsMfaEnabled),\r\n        };\r\n        setProfile(nextProfile);\r\n        setProfileDraft(nextProfile);\r\n      } catch (error) {\r\n        if (isMounted) {\r\n          toast.error(error.message || \"Unable to load account profile.\");\r\n        }\r\n      } finally {\r\n        if (isMounted) {\r\n          setIsProfileLoading(false);\r\n        }\r\n      }\r\n    }\r\n\r\n    loadProfile();\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [isSessionReady, toast, userEmail]);\r\n\r\n  const loadNotifications = useCallback(async ({ quiet = false, limit } = {}) => {\r\n    if (!isSessionReady) {\r\n      return;\r\n    }\r\n    if (!quiet) {\r\n      setIsLoadingNotifications(true);\r\n    }\r\n    try {\r\n      const resolvedLimit = typeof limit === \"number\" ? limit : notificationsLimit;\r\n      const response = await fetch(`/api/notifications?status=all&limit=${resolvedLimit}`, {\r\n        method: \"GET\",\r\n        cache: \"no-store\",\r\n      });\r\n      const payload = await response.json().catch(() => ({}));\r\n      if (!response.ok) {\r\n        throw new Error(payload?.message || \"Unable to load notifications.\");\r\n      }\r\n      setNotifications(Array.isArray(payload?.records) ? payload.records : []);\r\n      setNotificationUnreadCount(Number(payload?.unreadCount || 0));\r\n    } catch (error) {\r\n      if (!quiet) {\r\n        toast.error(error.message || \"Unable to load notifications.\");\r\n      }\r\n    } finally {\r\n      if (!quiet) {\r\n        setIsLoadingNotifications(false);\r\n      }\r\n    }\r\n  }, [isSessionReady, notificationsLimit, toast]);\r\n\r\n  useEffect(() => {\r\n    if (!isSessionReady) {\r\n      return;\r\n    }\r\n    loadNotifications().catch(() => null);\r\n    const timer = window.setInterval(() => {\r\n      loadNotifications({ quiet: true }).catch(() => null);\r\n    }, 30000);\r\n\r\n    return () => {\r\n      window.clearInterval(timer);\r\n    };\r\n  }, [isSessionReady, loadNotifications]);\r\n\r\n  useEffect(() => {\r\n    if ((!isProfileModalOpen && !isNotificationsOpen) || typeof window === \"undefined\") {\r\n      return;\r\n    }\r\n\r\n    const onKeyDown = (event) => {\r\n      if (event.key !== \"Escape\") {\r\n        return;\r\n      }\r\n      if (!isSavingProfile && !isUploadingPhoto && !isRevokingSessions) {\r\n        setIsProfileModalOpen(false);\r\n      }\r\n      if (!isMarkingNotifications) {\r\n        setIsNotificationsOpen(false);\r\n      }\r\n    };\r\n    const onPointerDown = (event) => {\r\n      const target = event.target;\r\n      if (!(target instanceof Node)) {\r\n        return;\r\n      }\r\n\r\n      const insideProfile =\r\n        profilePanelRef.current?.contains(target) || profileButtonRef.current?.contains(target);\r\n      const insideNotifications =\r\n        notificationsPanelRef.current?.contains(target) || notificationsButtonRef.current?.contains(target);\r\n      if (insideProfile || insideNotifications) {\r\n        return;\r\n      }\r\n\r\n      if (!isSavingProfile && !isUploadingPhoto && !isRevokingSessions) {\r\n        setIsProfileModalOpen(false);\r\n      }\r\n      if (!isMarkingNotifications) {\r\n        setIsNotificationsOpen(false);\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", onKeyDown);\r\n    window.addEventListener(\"mousedown\", onPointerDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", onKeyDown);\r\n      window.removeEventListener(\"mousedown\", onPointerDown);\r\n    };\r\n  }, [\r\n    isMarkingNotifications,\r\n    isNotificationsOpen,\r\n    isProfileModalOpen,\r\n    isRevokingSessions,\r\n    isSavingProfile,\r\n    isUploadingPhoto,\r\n  ]);\r\n\r\n  const modules = useMemo(() => getModulesForRole(role), [role]);\r\n  const [currentDateTime, setCurrentDateTime] = useState(\"\");\r\n  const accountRoleLabel = formatRoleLabel(profileInsights.role || role);\r\n  const employmentRoleLabel = formatEmployeeRoleLabel(profileInsights.employmentRole || profileInsights.role || role);\r\n  const canOpenSettings = canAccessModule(role, \"settings\");\r\n  const canOpenNotificationTarget = useCallback(\r\n    (notification) => {\r\n      const notificationType = String(notification?.type || \"\").trim().toLowerCase();\r\n      if (notificationType === \"device-login\") {\r\n        return false;\r\n      }\r\n      const actionUrl = String(notification?.actionUrl || \"\").trim();\r\n      if (!actionUrl) {\r\n        return false;\r\n      }\r\n\r\n      const moduleId = resolveNotificationModuleId(notification);\r\n      if (!moduleId) {\r\n        return false;\r\n      }\r\n\r\n      return canAccessModule(role, moduleId);\r\n    },\r\n    [role],\r\n  );\r\n  const filteredNotifications = useMemo(() => {\r\n    if (notificationFilter === \"all\") {\r\n      return notifications;\r\n    }\r\n    if (notificationFilter === \"unread\") {\r\n      return notifications.filter(\r\n        (item) => String(item?.status || \"\").trim().toLowerCase() !== \"read\",\r\n      );\r\n    }\r\n    if (notificationFilter === \"read\") {\r\n      return notifications.filter(\r\n        (item) => String(item?.status || \"\").trim().toLowerCase() === \"read\",\r\n      );\r\n    }\r\n    return notifications.filter(\r\n      (item) => String(item?.severity || \"\").trim().toLowerCase() === notificationFilter,\r\n    );\r\n  }, [notificationFilter, notifications]);\r\n\r\n  useEffect(() => {\r\n    modules.forEach((module) => {\r\n      router.prefetch(module.href);\r\n    });\r\n  }, [modules, router]);\r\n\r\n  useEffect(() => {\r\n    let formatter;\r\n    try {\r\n      formatter = new Intl.DateTimeFormat(\"en-US\", {\r\n        dateStyle: \"medium\",\r\n        timeStyle: \"medium\",\r\n        timeZone: \"Asia/Manila\",\r\n        timeZoneName: \"short\",\r\n      });\r\n    } catch {\r\n      formatter = new Intl.DateTimeFormat(\"en-US\", {\r\n        dateStyle: \"medium\",\r\n        timeStyle: \"medium\",\r\n      });\r\n    }\r\n    const tick = () => setCurrentDateTime(formatter.format(new Date()));\r\n    tick();\r\n    const timer = window.setInterval(tick, 1000);\r\n    return () => window.clearInterval(timer);\r\n  }, []);\r\n\r\n  const handleSignOut = async () => {\r\n    setIsSigningOut(true);\r\n    try {\r\n      const auth = getFirebaseClientAuth();\r\n      await signOutFirebase(auth).catch(() => null);\r\n      clearLoginRedirectPendingFlag();\r\n      await fetch(\"/api/auth/logout\", { method: \"POST\" }).catch(() => null);\r\n    } finally {\r\n      if (typeof window !== \"undefined\") {\r\n        window.location.assign(\"/login\");\r\n      } else {\r\n        router.replace(\"/login\");\r\n        router.refresh();\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleSidebar = () => {\r\n    setIsSidebarCollapsed((current) => !current);\r\n  };\r\n\r\n  const toggleNotificationsPanel = () => {\r\n    if (isNotificationsOpen) {\r\n      setIsNotificationsOpen(false);\r\n      return;\r\n    }\r\n    setIsProfileModalOpen(false);\r\n    setIsNotificationsOpen(true);\r\n    loadNotifications({ quiet: true }).catch(() => null);\r\n  };\r\n\r\n  const toggleProfileEditor = () => {\r\n    if (isProfileModalOpen) {\r\n      closeProfileEditor();\r\n      return;\r\n    }\r\n    setProfileDraft({\r\n      firstName: String(profile?.firstName || \"\"),\r\n      middleName: String(profile?.middleName || \"\"),\r\n      lastName: String(profile?.lastName || \"\"),\r\n      profilePhotoDataUrl: String(profile?.profilePhotoDataUrl || \"\"),\r\n      profilePhotoStoragePath: String(profile?.profilePhotoStoragePath || \"\"),\r\n      phoneVerifiedAt: String(profile?.phoneVerifiedAt || \"\"),\r\n      phoneLast4: String(profile?.phoneLast4 || \"\"),\r\n      smsMfaEnabled: Boolean(profile?.smsMfaEnabled),\r\n    });\r\n    setIsNotificationsOpen(false);\r\n    setIsProfileModalOpen(true);\r\n    if (isSessionReady) {\r\n      loadProfileInsights();\r\n    }\r\n  };\r\n\r\n  const closeProfileEditor = () => {\r\n    if (isSavingProfile || isUploadingPhoto || isRevokingSessions) {\r\n      return;\r\n    }\r\n    setIsProfileModalOpen(false);\r\n  };\r\n\r\n  const markNotificationAsRead = async (record) => {\r\n    const recordId = String(record?.id || record?.recordId || \"\").trim();\r\n    if (!recordId || String(record?.status || \"\").trim().toLowerCase() === \"read\") {\r\n      return;\r\n    }\r\n\r\n    setIsMarkingNotifications(true);\r\n    try {\r\n      const response = await fetch(`/api/notifications/${encodeURIComponent(recordId)}`, {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ read: true }),\r\n      });\r\n      const payload = await response.json().catch(() => ({}));\r\n      if (!response.ok) {\r\n        throw new Error(payload?.message || \"Unable to update notification.\");\r\n      }\r\n\r\n      setNotifications((current) =>\r\n        current.map((item) =>\r\n          String(item?.id || item?.recordId || \"\").trim() === recordId\r\n            ? { ...item, status: \"read\", readAt: new Date().toISOString() }\r\n            : item,\r\n        ),\r\n      );\r\n      setNotificationUnreadCount((current) => Math.max(0, current - 1));\r\n    } catch (error) {\r\n      toast.error(error.message || \"Unable to update notification.\");\r\n    } finally {\r\n      setIsMarkingNotifications(false);\r\n    }\r\n  };\r\n\r\n  const markAllNotificationsAsRead = async () => {\r\n    if (isMarkingNotifications) {\r\n      return;\r\n    }\r\n    setIsMarkingNotifications(true);\r\n    try {\r\n      const response = await fetch(\"/api/notifications/read-all\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ limit: 200 }),\r\n      });\r\n      const payload = await response.json().catch(() => ({}));\r\n      if (!response.ok) {\r\n        throw new Error(payload?.message || \"Unable to mark notifications as read.\");\r\n      }\r\n\r\n      setNotifications((current) =>\r\n        current.map((item) => ({\r\n          ...item,\r\n          status: \"read\",\r\n          readAt: item?.readAt || new Date().toISOString(),\r\n        })),\r\n      );\r\n      setNotificationUnreadCount(0);\r\n    } catch (error) {\r\n      toast.error(error.message || \"Unable to mark notifications as read.\");\r\n    } finally {\r\n      setIsMarkingNotifications(false);\r\n    }\r\n  };\r\n\r\n  const openNotificationTarget = async (notification) => {\r\n    if (String(notification?.type || \"\").trim().toLowerCase() === \"device-login\") {\r\n      return;\r\n    }\r\n    if (!canOpenNotificationTarget(notification)) {\r\n      return;\r\n    }\r\n\r\n    await markNotificationAsRead(notification);\r\n    const actionUrl = String(notification?.actionUrl || \"\").trim();\r\n    if (actionUrl) {\r\n      setIsNotificationsOpen(false);\r\n      router.push(actionUrl);\r\n    }\r\n  };\r\n\r\n  const handleDeviceVerification = async (notification, decision) => {\r\n    const recordId = String(notification?.id || notification?.recordId || \"\").trim();\r\n    if (!recordId) {\r\n      return;\r\n    }\r\n    const existingDecisionRaw = String(notification?.metadata?.deviceVerificationDecision || \"\")\r\n      .trim()\r\n      .toLowerCase();\r\n    const existingDecision =\r\n      existingDecisionRaw === \"confirmed\"\r\n        ? \"confirm\"\r\n        : existingDecisionRaw === \"denied\"\r\n          ? \"deny\"\r\n          : existingDecisionRaw;\r\n    if (existingDecision === \"confirm\" || existingDecision === \"deny\") {\r\n      return;\r\n    }\r\n\r\n    setDeviceActionState((current) => ({ ...current, [recordId]: true }));\r\n    try {\r\n      const response = await fetch(\"/api/auth/device-verification\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ notificationId: recordId, decision }),\r\n      });\r\n      const payload = await response.json().catch(() => ({}));\r\n      if (!response.ok) {\r\n        throw new Error(payload?.message || \"Unable to submit device verification.\");\r\n      }\r\n\r\n      const resolvedDecisionRaw = String(payload?.decision || decision || \"\")\r\n        .trim()\r\n        .toLowerCase();\r\n      const resolvedDecision =\r\n        resolvedDecisionRaw === \"confirmed\"\r\n          ? \"confirm\"\r\n          : resolvedDecisionRaw === \"denied\"\r\n            ? \"deny\"\r\n            : resolvedDecisionRaw;\r\n      const resolvedAtIso = new Date().toISOString();\r\n      setNotifications((current) =>\r\n        current.map((item) =>\r\n          String(item?.id || item?.recordId || \"\").trim() === recordId\r\n            ? {\r\n                ...item,\r\n                status: \"read\",\r\n                readAt: item?.readAt || resolvedAtIso,\r\n                metadata: {\r\n                  ...(item?.metadata && typeof item.metadata === \"object\" ? item.metadata : {}),\r\n                  deviceVerificationDecision: resolvedDecision || decision,\r\n                  deviceVerificationResolvedAt: resolvedAtIso,\r\n                  deviceVerificationResponder: userEmail,\r\n                },\r\n              }\r\n            : item,\r\n        ),\r\n      );\r\n      setNotificationUnreadCount((current) => Math.max(0, current - 1));\r\n      loadNotifications({ quiet: true }).catch(() => null);\r\n    } catch (error) {\r\n      toast.error(error.message || \"Unable to submit device verification.\");\r\n    } finally {\r\n      setDeviceActionState((current) => ({ ...current, [recordId]: false }));\r\n    }\r\n  };\r\n\r\n  const loadProfileInsights = async () => {\r\n    if (!isSessionReady) {\r\n      return;\r\n    }\r\n    setIsLoadingProfileInsights(true);\r\n    try {\r\n      const response = await fetch(\"/api/auth/profile/activity\", { method: \"GET\", cache: \"no-store\" });\r\n      const payload = await response.json().catch(() => ({}));\r\n      if (!response.ok) {\r\n        throw new Error(payload?.message || \"Unable to load account insights.\");\r\n      }\r\n\r\n      setProfileInsights((current) => ({\r\n        ...current,\r\n        role: String(payload?.role || current.role || session?.role || \"\"),\r\n        employmentRole: String(\r\n          payload?.employmentRole || current.employmentRole || payload?.role || current.role || session?.role || \"\",\r\n        ),\r\n        employeeId: String(payload?.employeeId || \"-\"),\r\n        employeeName: String(payload?.employeeName || \"-\"),\r\n        employeeEmail: String(payload?.employeeEmail || userEmail),\r\n        department: String(payload?.department || \"-\"),\r\n        jobTitle: String(payload?.jobTitle || \"-\"),\r\n        employmentStatus: String(payload?.employmentStatus || \"-\"),\r\n        recordStatus: String(payload?.recordStatus || \"-\"),\r\n        managerEmail: String(payload?.managerEmail || \"-\"),\r\n        hireDate: String(payload?.hireDate || \"-\"),\r\n        lastLoginAt: payload?.lastLoginAt || null,\r\n        lastActiveIp: String(payload?.lastActiveIp || \"unknown\"),\r\n        lastActiveDevice: String(payload?.lastActiveDevice || \"Unknown device\"),\r\n        recentActivity: Array.isArray(payload?.recentActivity) ? payload.recentActivity : [],\r\n      }));\r\n    } catch (error) {\r\n      toast.error(error.message || \"Unable to load account insights.\");\r\n    } finally {\r\n      setIsLoadingProfileInsights(false);\r\n    }\r\n  };\r\n\r\n  const handleDraftChange = (field) => (event) => {\r\n    setProfileDraft((current) => ({\r\n      ...current,\r\n      [field]: event.target.value,\r\n    }));\r\n  };\r\n\r\n  const handlePhotoFileChange = async (event) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file) {\r\n      return;\r\n    }\r\n\r\n    const mimeType = String(file.type || \"\").toLowerCase();\r\n    const isAllowed = [\"image/png\", \"image/jpeg\", \"image/jpg\", \"image/webp\"].includes(mimeType);\r\n    if (!isAllowed) {\r\n      toast.error(\"Only PNG, JPG, or WEBP images are allowed.\");\r\n      event.target.value = \"\";\r\n      return;\r\n    }\r\n\r\n    if (file.size > 1_000_000) {\r\n      toast.error(\"Profile picture must be 1MB or below.\");\r\n      event.target.value = \"\";\r\n      return;\r\n    }\r\n\r\n    setIsUploadingPhoto(true);\r\n    try {\r\n      const uploaded = await uploadProfilePhotoToStorage({\r\n        file,\r\n        userEmail,\r\n      });\r\n      setProfileDraft((current) => ({\r\n        ...current,\r\n        profilePhotoDataUrl: uploaded.downloadUrl,\r\n        profilePhotoStoragePath: uploaded.storagePath,\r\n      }));\r\n      toast.success(\"Profile photo uploaded to secure storage.\");\r\n    } catch (error) {\r\n      toast.error(error.message || \"Unable to upload profile photo.\");\r\n    } finally {\r\n      setIsUploadingPhoto(false);\r\n      event.target.value = \"\";\r\n    }\r\n  };\r\n\r\n  const removeProfilePhoto = () => {\r\n    setProfileDraft((current) => ({\r\n      ...current,\r\n      profilePhotoDataUrl: \"\",\r\n      profilePhotoStoragePath: \"\",\r\n    }));\r\n  };\r\n\r\n  const handleProfileSave = async () => {\r\n    if (isUploadingPhoto || isRevokingSessions) {\r\n      return;\r\n    }\r\n    setIsSavingProfile(true);\r\n    try {\r\n      const previousStoragePath = String(profile?.profilePhotoStoragePath || \"\").trim();\r\n      const response = await fetch(\"/api/auth/profile\", {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          firstName: profileDraft.firstName,\r\n          middleName: profileDraft.middleName,\r\n          lastName: profileDraft.lastName,\r\n          profilePhotoDataUrl: profileDraft.profilePhotoDataUrl || null,\r\n          profilePhotoStoragePath: profileDraft.profilePhotoStoragePath || null,\r\n          smsMfaEnabled: Boolean(profileDraft.smsMfaEnabled),\r\n        }),\r\n      });\r\n\r\n      const payload = await response.json().catch(() => ({}));\r\n      if (!response.ok) {\r\n        throw new Error(payload?.message || \"Unable to save profile.\");\r\n      }\r\n\r\n      const savedProfile = {\r\n        firstName: String(payload?.profile?.firstName || \"\"),\r\n        middleName: String(payload?.profile?.middleName || \"\"),\r\n        lastName: String(payload?.profile?.lastName || \"\"),\r\n        profilePhotoDataUrl: String(payload?.profile?.profilePhotoDataUrl || \"\"),\r\n        profilePhotoStoragePath: String(payload?.profile?.profilePhotoStoragePath || \"\"),\r\n        phoneVerifiedAt: String(payload?.profile?.phoneVerifiedAt || \"\"),\r\n        phoneLast4: String(payload?.profile?.phoneLast4 || \"\"),\r\n        smsMfaEnabled: Boolean(payload?.profile?.smsMfaEnabled),\r\n      };\r\n      setProfile(savedProfile);\r\n      setProfileDraft(savedProfile);\r\n      setIsProfileModalOpen(false);\r\n\r\n      const nextStoragePath = String(savedProfile.profilePhotoStoragePath || \"\").trim();\r\n      if (previousStoragePath && previousStoragePath !== nextStoragePath) {\r\n        removeStorageObjectByPath(previousStoragePath).catch(() => null);\r\n      }\r\n      toast.success(\"Profile updated.\");\r\n    } catch (error) {\r\n      toast.error(error.message || \"Unable to save profile.\");\r\n    } finally {\r\n      setIsSavingProfile(false);\r\n    }\r\n  };\r\n\r\n  const handleSignOutAllDevices = async () => {\r\n    if (isSavingProfile || isUploadingPhoto || isSigningOut || isRevokingSessions) {\r\n      return;\r\n    }\r\n\r\n    setIsRevokingSessions(true);\r\n    try {\r\n      const response = await fetch(\"/api/auth/sessions/revoke\", { method: \"POST\" });\r\n      const payload = await response.json().catch(() => ({}));\r\n      if (!response.ok) {\r\n        throw new Error(payload?.message || \"Unable to revoke active sessions.\");\r\n      }\r\n\r\n      const auth = getFirebaseClientAuth();\r\n      await signOutFirebase(auth).catch(() => null);\r\n      clearLoginRedirectPendingFlag();\r\n      toast.success(\"All active sessions were signed out.\");\r\n      setIsProfileModalOpen(false);\r\n      if (typeof window !== \"undefined\") {\r\n        window.location.assign(\"/login\");\r\n      } else {\r\n        router.replace(\"/login\");\r\n        router.refresh();\r\n      }\r\n    } catch (error) {\r\n      toast.error(error.message || \"Unable to revoke active sessions.\");\r\n    } finally {\r\n      setIsRevokingSessions(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-dvh w-full overflow-hidden bg-slate-100/80\">\r\n      <a\r\n        href=\"#main-content\"\r\n        className=\"sr-only rounded-lg bg-white px-4 py-2 text-sm text-slate-900 focus:not-sr-only\"\r\n      >\r\n        Skip to main content\r\n      </a>\r\n\r\n      <div\r\n        className={cn(\r\n          \"grid h-full w-full gap-0 lg:transition-[grid-template-columns] lg:duration-500 lg:ease-[cubic-bezier(0.22,1,0.36,1)]\",\r\n          isSidebarCollapsed ? \"lg:grid-cols-[88px_minmax(0,1fr)]\" : \"lg:grid-cols-[240px_minmax(0,1fr)]\",\r\n        )}\r\n      >\r\n        <aside\r\n          className={cn(\r\n            \"relative h-full border-r border-slate-200 bg-[linear-gradient(180deg,#f8fbff_0%,#f2f7fc_45%,#eef3f8_100%)] lg:overflow-visible\",\r\n            isSidebarCollapsed ? \"px-2 py-4 lg:px-2 lg:py-4\" : \"p-0\",\r\n          )}\r\n        >\r\n          <div className=\"flex h-full min-h-0 flex-col\">\r\n            <div\r\n              className={cn(\r\n                \"flex transition-all duration-300 ease-out\",\r\n                isSidebarCollapsed\r\n                  ? \"flex-col items-center gap-2\"\r\n                  : \"items-stretch h-[92px] w-full\",\r\n              )}\r\n            >\r\n              <BrandMark href=\"/dashboard\" iconOnly={isSidebarCollapsed} />\r\n            </div>\r\n\r\n            <button\r\n              type=\"button\"\r\n              onClick={toggleSidebar}\r\n              className=\"absolute -right-4 top-1/2 z-30 inline-flex h-9 w-9 -translate-y-1/2 items-center justify-center rounded-md border border-sky-300 bg-white text-slate-600 shadow-sm transition hover:border-sky-400 hover:text-slate-900\"\r\n              aria-label={isSidebarCollapsed ? \"Open sidebar\" : \"Close sidebar\"}\r\n              title={isSidebarCollapsed ? \"Open sidebar\" : \"Close sidebar\"}\r\n            >\r\n              {isSidebarCollapsed ? <SidebarOpenIcon className=\"h-5 w-5\" /> : <SidebarCloseIcon className=\"h-5 w-5\" />}\r\n            </button>\r\n\r\n            <div className={cn(\"mt-4 flex min-h-0 flex-1 flex-col px-2 lg:px-2.5\", isSidebarCollapsed && \"mt-5\")}>\r\n              <div\r\n                className={cn(\r\n                  \"overflow-hidden px-0.5 transition-all duration-300 ease-out\",\r\n                  isSidebarCollapsed ? \"max-h-0 opacity-0\" : \"max-h-6 opacity-100\",\r\n                )}\r\n              >\r\n                <p className=\"text-[11px] font-semibold uppercase tracking-[0.14em] text-sky-700/80\">Navigation</p>\r\n              </div>\r\n              <nav\r\n                className={cn(\r\n                  \"clio-sidebar-scroll mt-2 min-h-0 flex-1 space-y-1 overflow-y-auto overscroll-contain pb-3 pr-2\",\r\n                  isSidebarCollapsed ? \"max-h-[calc(100dvh-8.75rem)]\" : \"max-h-[calc(100dvh-10rem)]\",\r\n                )}\r\n                aria-label=\"Main navigation\"\r\n              >\r\n                {modules.map((module) => {\r\n                  const isActive = pathname === module.href;\r\n                  const moduleLabel = getModuleLabelForRole(module.id, module.label, role);\r\n                  return (\r\n                    <div key={module.id}>\r\n                      <Link\r\n                        href={module.href}\r\n                        prefetch\r\n                        aria-current={isActive ? \"page\" : undefined}\r\n                        title={isSidebarCollapsed ? moduleLabel : undefined}\r\n                        className={cn(\r\n                          \"group flex items-center gap-2.5 rounded-lg border py-2 text-[13px] transition\",\r\n                          isSidebarCollapsed ? \"justify-center px-2\" : \"px-2\",\r\n                          isActive\r\n                            ? \"border-sky-200 bg-white text-sky-700 shadow-[0_12px_28px_-20px_rgba(14,116,214,0.8)]\"\r\n                            : \"border-transparent text-slate-700 hover:border-slate-200/90 hover:bg-white/75\",\r\n                        )}\r\n                      >\r\n                        <span\r\n                          className={cn(\r\n                            \"inline-flex h-7 w-7 shrink-0 items-center justify-center transition\",\r\n                            isActive ? \"text-sky-700\" : \"text-slate-500 group-hover:text-slate-700\",\r\n                          )}\r\n                        >\r\n                          <ModuleIcon moduleId={module.id} active={isActive} />\r\n                        </span>\r\n                        <span\r\n                          className={cn(\r\n                            \"overflow-hidden whitespace-nowrap font-medium leading-none transition-all duration-300 ease-out\",\r\n                            isActive ? \"text-sky-700\" : \"text-slate-800\",\r\n                            isSidebarCollapsed ? \"max-w-0 -translate-x-2 opacity-0\" : \"max-w-[11.5rem] translate-x-0 opacity-100\",\r\n                          )}\r\n                        >\r\n                          {moduleLabel}\r\n                        </span>\r\n                      </Link>\r\n\r\n                      <ModuleSubTabAnchors\r\n                        moduleId={module.id}\r\n                        moduleHref={module.href}\r\n                        role={role}\r\n                        visible={!isSidebarCollapsed}\r\n                      />\r\n                    </div>\r\n                  );\r\n                })}\r\n              </nav>\r\n            </div>\r\n\r\n            <div className=\"mt-auto shrink-0 pt-2\" />\r\n          </div>\r\n        </aside>\r\n\r\n        <div className=\"flex min-h-0 min-w-0 flex-col overflow-hidden\">\r\n          <header className=\"shrink-0 flex flex-col gap-3 border-b border-slate-200 bg-white/90 px-5 py-4 sm:flex-row sm:items-center sm:justify-between lg:px-8\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-slate-900\">Clio Workspace</p>\r\n              <p className=\"text-xs text-slate-500\" suppressHydrationWarning>\r\n                Today: {currentDateTime || \"â€”\"}\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"relative\">\r\n                <button\r\n                  ref={notificationsButtonRef}\r\n                  type=\"button\"\r\n                  onClick={toggleNotificationsPanel}\r\n                  className=\"relative inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-300 bg-white text-slate-700 transition hover:border-sky-300 hover:bg-sky-50/60\"\r\n                  aria-label=\"Open notifications\"\r\n                  aria-expanded={isNotificationsOpen}\r\n                  title=\"Notifications\"\r\n                >\r\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className=\"h-4.5 w-4.5\" aria-hidden=\"true\">\r\n                    <path d=\"M7.3 10.2a4.7 4.7 0 1 1 9.4 0v3.3l1.4 2v1h-12v-1l1.2-2v-3.3\" />\r\n                    <path d=\"M10.1 17.6a2.1 2.1 0 0 0 3.8 0\" />\r\n                  </svg>\r\n                  {notificationUnreadCount > 0 ? (\r\n                    <span className=\"absolute -right-1.5 -top-1.5 inline-flex min-w-5 items-center justify-center rounded-full bg-rose-600 px-1.5 py-0.5 text-[10px] font-semibold text-white\">\r\n                      {notificationUnreadCount > 99 ? \"99+\" : notificationUnreadCount}\r\n                    </span>\r\n                  ) : null}\r\n                </button>\r\n\r\n                <div\r\n                  ref={notificationsPanelRef}\r\n                  role=\"dialog\"\r\n                  aria-label=\"Notifications\"\r\n                  aria-hidden={!isNotificationsOpen}\r\n                  className={cn(\r\n                    \"absolute right-0 top-[calc(100%+0.55rem)] z-50 w-[min(92vw,24rem)] max-h-[calc(100dvh-8rem)] overflow-y-auto rounded-2xl border border-slate-200 bg-white p-3 shadow-[0_20px_50px_-30px_rgba(15,23,42,0.45)] transition-all duration-200\",\r\n                    isNotificationsOpen ? \"pointer-events-auto translate-y-0 opacity-100\" : \"pointer-events-none -translate-y-2 opacity-0\",\r\n                  )}\r\n                >\r\n                  <div className=\"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 pb-2\">\r\n                    <div>\r\n                      <p className=\"text-sm font-semibold text-slate-900\">Notifications</p>\r\n                      <p className=\"text-[11px] text-slate-500\">\r\n                        {notificationUnreadCount > 0\r\n                          ? `${notificationUnreadCount} unread alert${notificationUnreadCount === 1 ? \"\" : \"s\"}`\r\n                          : \"No unread alerts\"}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => {\r\n                          setNotificationsLimit(120);\r\n                          loadNotifications({ quiet: false, limit: 120 }).catch(() => null);\r\n                        }}\r\n                        className=\"inline-flex h-7 items-center rounded-md border border-slate-300 bg-white px-2.5 text-[11px] font-semibold text-slate-700 transition hover:bg-slate-50\"\r\n                      >\r\n                        View all\r\n                      </button>\r\n                      <select\r\n                        value={notificationFilter}\r\n                        onChange={(event) => setNotificationFilter(event.target.value)}\r\n                        className=\"h-7 rounded-md border border-slate-300 bg-white px-2 text-[11px] font-semibold text-slate-700\"\r\n                      >\r\n                        <option value=\"all\">All</option>\r\n                        <option value=\"unread\">Unread</option>\r\n                        <option value=\"read\">Read</option>\r\n                        <option value=\"critical\">Critical</option>\r\n                        <option value=\"high\">High</option>\r\n                        <option value=\"medium\">Medium</option>\r\n                        <option value=\"low\">Low</option>\r\n                      </select>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={markAllNotificationsAsRead}\r\n                        disabled={isMarkingNotifications || notificationUnreadCount === 0}\r\n                        className=\"inline-flex h-7 items-center rounded-md border border-slate-300 bg-white px-2.5 text-[11px] font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-60\"\r\n                      >\r\n                        Mark all read\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"mt-2\">\r\n                    {isLoadingNotifications ? (\r\n                      <div className=\"flex justify-center py-6\">\r\n                        <span className=\"inline-flex h-5 w-5 animate-spin rounded-full border-2 border-slate-300 border-t-sky-600\" aria-hidden=\"true\" />\r\n                      </div>\r\n                    ) : filteredNotifications.length === 0 ? (\r\n                      <p className=\"rounded-lg border border-dashed border-slate-300 px-3 py-4 text-center text-xs text-slate-500\">\r\n                        No notifications found for this filter.\r\n                      </p>\r\n                    ) : (\r\n                      <ul className=\"space-y-2\">\r\n                        {filteredNotifications.map((item) => {\r\n                          const itemId = String(item?.id || item?.recordId || \"\").trim() || `${item?.title}-${item?.createdAt}`;\r\n                          const unread = String(item?.status || \"\").trim().toLowerCase() !== \"read\";\r\n                          const notificationType = String(item?.type || \"\").trim().toLowerCase();\r\n                          const isDeviceVerification = notificationType === \"device-login\";\r\n                          const canOpen = !isDeviceVerification && canOpenNotificationTarget(item);\r\n                          const deviceLabel = String(item?.metadata?.deviceLabel || \"\").trim();\r\n                          const sourceIp = String(item?.metadata?.sourceIp || \"\").trim();\r\n                          const deviceVerificationDecisionRaw = String(item?.metadata?.deviceVerificationDecision || \"\")\r\n                            .trim()\r\n                            .toLowerCase();\r\n                          const deviceVerificationDecision =\r\n                            deviceVerificationDecisionRaw === \"confirmed\"\r\n                              ? \"confirm\"\r\n                              : deviceVerificationDecisionRaw === \"denied\"\r\n                                ? \"deny\"\r\n                                : deviceVerificationDecisionRaw;\r\n                          const isDeviceVerificationResolved =\r\n                            deviceVerificationDecision === \"confirm\" || deviceVerificationDecision === \"deny\";\r\n                          const isActionLoading = Boolean(deviceActionState[itemId]);\r\n\r\n                          const content = (\r\n                            <>\r\n                              <div className=\"flex items-start justify-between gap-2\">\r\n                                <p className=\"text-xs font-semibold text-slate-900\">{String(item?.title || \"Security notification\")}</p>\r\n                                <span\r\n                                  className={cn(\r\n                                    \"inline-flex shrink-0 rounded-full border px-1.5 py-0.5 text-[10px] font-semibold capitalize\",\r\n                                    notificationSeverityClass(item?.severity),\r\n                                  )}\r\n                                >\r\n                                  {String(item?.severity || \"medium\")}\r\n                                </span>\r\n                              </div>\r\n                              <p className=\"mt-1 text-[11px] text-slate-600\">{String(item?.message || \"\")}</p>\r\n                              {isDeviceVerification ? (\r\n                                <div className=\"mt-1 text-[10px] text-slate-500\">\r\n                                  {deviceLabel ? `Device: ${deviceLabel}` : \"Device: Unknown\"}\r\n                                  {sourceIp ? ` â€¢ IP: ${sourceIp}` : \"\"}\r\n                                </div>\r\n                              ) : null}\r\n                              {!canOpen && !isDeviceVerification ? (\r\n                                <p className=\"mt-1 text-[10px] font-medium text-slate-500\">Read-only alert for visibility.</p>\r\n                              ) : null}\r\n                              {isDeviceVerification ? (\r\n                                <div className=\"mt-2 flex flex-wrap gap-2\">\r\n                                  {isDeviceVerificationResolved ? (\r\n                                    <p\r\n                                      className={cn(\r\n                                        \"rounded-md border px-2 py-1 text-[11px] font-semibold\",\r\n                                        deviceVerificationDecision === \"confirm\"\r\n                                          ? \"border-emerald-200 bg-emerald-50 text-emerald-700\"\r\n                                          : \"border-rose-200 bg-rose-50 text-rose-700\",\r\n                                      )}\r\n                                    >\r\n                                      Decision saved: {deviceVerificationDecision === \"confirm\" ? \"It's me\" : \"Not me\"}\r\n                                    </p>\r\n                                  ) : (\r\n                                    <>\r\n                                      <button\r\n                                        type=\"button\"\r\n                                        onClick={() => handleDeviceVerification(item, \"confirm\")}\r\n                                        disabled={isActionLoading}\r\n                                        className=\"inline-flex h-7 items-center rounded-md border border-emerald-200 bg-emerald-50 px-2.5 text-[11px] font-semibold text-emerald-700 transition hover:bg-emerald-100 disabled:opacity-60\"\r\n                                      >\r\n                                        It's me\r\n                                      </button>\r\n                                      <button\r\n                                        type=\"button\"\r\n                                        onClick={() => handleDeviceVerification(item, \"deny\")}\r\n                                        disabled={isActionLoading}\r\n                                        className=\"inline-flex h-7 items-center rounded-md border border-rose-200 bg-rose-50 px-2.5 text-[11px] font-semibold text-rose-700 transition hover:bg-rose-100 disabled:opacity-60\"\r\n                                      >\r\n                                        Not me\r\n                                      </button>\r\n                                    </>\r\n                                  )}\r\n                                </div>\r\n                              ) : null}\r\n                              <p className=\"mt-1 text-[10px] text-slate-500\">\r\n                                {formatNotificationRelativeTime(item?.createdAt)} | {String(item?.module || \"System\")}\r\n                              </p>\r\n                            </>\r\n                          );\r\n\r\n                          return (\r\n                            <li key={itemId}>\r\n                              {isDeviceVerification ? (\r\n                                <div\r\n                                  className={cn(\r\n                                    \"w-full rounded-lg border px-2.5 py-2 text-left transition\",\r\n                                    unread ? \"border-sky-200 bg-sky-50/50\" : \"border-slate-200 bg-white\",\r\n                                  )}\r\n                                >\r\n                                  {content}\r\n                                </div>\r\n                              ) : (\r\n                                <button\r\n                                  type=\"button\"\r\n                                  onClick={() => openNotificationTarget(item)}\r\n                                  disabled={!canOpen}\r\n                                  aria-disabled={!canOpen}\r\n                                  title={\r\n                                    canOpen ? \"Open notification\" : \"You do not have access to open this notification target.\"\r\n                                  }\r\n                                  className={cn(\r\n                                    \"w-full rounded-lg border px-2.5 py-2 text-left transition\",\r\n                                    canOpen ? \"hover:bg-slate-50\" : \"cursor-default\",\r\n                                    unread ? \"border-sky-200 bg-sky-50/50\" : \"border-slate-200 bg-white\",\r\n                                  )}\r\n                                >\r\n                                  {content}\r\n                                </button>\r\n                              )}\r\n                            </li>\r\n                          );\r\n                        })}\r\n                      </ul>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {canOpenSettings ? (\r\n                <Link\r\n                  href=\"/settings\"\r\n                  className=\"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-300 bg-white text-slate-700 transition hover:border-sky-300 hover:bg-sky-50/60\"\r\n                  aria-label=\"Open settings\"\r\n                  title=\"Settings\"\r\n                >\r\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className=\"h-4.5 w-4.5\" aria-hidden=\"true\">\r\n                    <path d=\"M9.9 4.8h4.2l.7 2 2.1.9 1.9-1.1 2.1 3.6-1.6 1.4v2.4l1.6 1.4-2.1 3.6-1.9-1.1-2.1.9-.7 2H9.9l-.7-2-2.1-.9-1.9 1.1-2.1-3.6 1.6-1.4v-2.4l-1.6-1.4 2.1-3.6 1.9 1.1 2.1-.9.7-2Z\" />\r\n                    <circle cx=\"12\" cy=\"12\" r=\"2.7\" />\r\n                  </svg>\r\n                </Link>\r\n              ) : null}\r\n\r\n              <div className=\"relative\">\r\n                <button\r\n                  ref={profileButtonRef}\r\n                  type=\"button\"\r\n                  onClick={toggleProfileEditor}\r\n                  disabled={isProfileLoading}\r\n                  className=\"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-300 bg-white text-slate-700 transition hover:border-sky-300 hover:bg-sky-50/50 disabled:cursor-wait disabled:opacity-70\"\r\n                  aria-label=\"Open account profile\"\r\n                  title=\"Account profile\"\r\n                  aria-expanded={isProfileModalOpen}\r\n                >\r\n                  {userAvatar ? (\r\n                    <span className=\"inline-flex h-8 w-8 items-center justify-center overflow-hidden rounded-lg border border-slate-200 bg-white\">\r\n                      <Image\r\n                        src={userAvatar}\r\n                        alt=\"Profile picture\"\r\n                        width={32}\r\n                        height={32}\r\n                        className=\"h-full w-full object-cover\"\r\n                        unoptimized\r\n                      />\r\n                    </span>\r\n                  ) : (\r\n                    <span className=\"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-slate-900 text-xs font-semibold text-white\">\r\n                      {userInitials}\r\n                    </span>\r\n                  )}\r\n                </button>\r\n\r\n                <div\r\n                ref={profilePanelRef}\r\n                role=\"dialog\"\r\n                aria-label=\"Account profile\"\r\n                aria-hidden={!isProfileModalOpen}\r\n                className={cn(\r\n                  \"absolute right-0 top-[calc(100%+0.6rem)] z-50 w-[min(94vw,42rem)] max-h-[calc(100dvh-7rem)] origin-top-right overflow-y-auto overscroll-contain rounded-2xl border border-slate-200 bg-white p-4 shadow-[0_22px_60px_-28px_rgba(15,23,42,0.45)] transition-all duration-200 sm:p-5\",\r\n                  isProfileModalOpen ? \"pointer-events-auto translate-y-0 opacity-100\" : \"pointer-events-none -translate-y-2 opacity-0\",\r\n                )}\r\n              >\r\n                <div className=\"flex items-start justify-between gap-3\">\r\n                  <div>\r\n                    <h2 className=\"text-base font-semibold text-slate-900\">Account Profile</h2>\r\n                    <p className=\"mt-0.5 text-sm text-slate-600\">Update your name and profile picture.</p>\r\n                  </div>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={closeProfileEditor}\r\n                    disabled={isSavingProfile || isUploadingPhoto || isRevokingSessions}\r\n                    className=\"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 disabled:opacity-70\"\r\n                    aria-label=\"Close profile panel\"\r\n                  >\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className=\"h-4 w-4\" aria-hidden=\"true\">\r\n                      <path d=\"m6 6 12 12M18 6 6 18\" />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"mt-4 space-y-4\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    {profileDraft.profilePhotoDataUrl ? (\r\n                      <span className=\"inline-flex h-14 w-14 items-center justify-center overflow-hidden rounded-xl border border-slate-200 bg-white\">\r\n                        <Image\r\n                          src={profileDraft.profilePhotoDataUrl}\r\n                          alt=\"Profile preview\"\r\n                          width={56}\r\n                          height={56}\r\n                          className=\"h-full w-full object-cover\"\r\n                          unoptimized\r\n                        />\r\n                      </span>\r\n                    ) : (\r\n                      <span className=\"inline-flex h-14 w-14 items-center justify-center rounded-xl bg-slate-900 text-sm font-semibold text-white\">\r\n                        {userInitials}\r\n                      </span>\r\n                    )}\r\n                    <div className=\"flex flex-wrap items-center gap-2\">\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => fileInputRef.current?.click()}\r\n                        disabled={isUploadingPhoto || isSavingProfile || isRevokingSessions}\r\n                        className=\"inline-flex h-9 items-center rounded-lg border border-slate-300 bg-white px-3 text-xs font-semibold text-slate-700 transition hover:bg-slate-50\"\r\n                      >\r\n                        {isUploadingPhoto ? \"Uploading...\" : \"Upload Photo\"}\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={removeProfilePhoto}\r\n                        disabled={isUploadingPhoto || isSavingProfile || isRevokingSessions}\r\n                        className=\"inline-flex h-9 items-center rounded-lg border border-rose-200 bg-rose-50 px-3 text-xs font-semibold text-rose-700 transition hover:bg-rose-100\"\r\n                      >\r\n                        Remove\r\n                      </button>\r\n                      <input\r\n                        ref={fileInputRef}\r\n                        type=\"file\"\r\n                        accept=\"image/png,image/jpeg,image/jpg,image/webp\"\r\n                        className=\"hidden\"\r\n                        onChange={handlePhotoFileChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"grid gap-2.5 sm:grid-cols-3\">\r\n                    <input\r\n                      value={profileDraft.firstName}\r\n                      onChange={handleDraftChange(\"firstName\")}\r\n                      placeholder=\"First name\"\r\n                      className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    />\r\n                    <input\r\n                      value={profileDraft.middleName}\r\n                      onChange={handleDraftChange(\"middleName\")}\r\n                      placeholder=\"Middle name\"\r\n                      className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    />\r\n                    <input\r\n                      value={profileDraft.lastName}\r\n                      onChange={handleDraftChange(\"lastName\")}\r\n                      placeholder=\"Last name\"\r\n                      className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n                    />\r\n                  </div>\r\n\r\n                  <section className=\"rounded-xl border border-slate-200 bg-slate-50/70 p-3\">\r\n                    <div className=\"grid gap-2 sm:grid-cols-2\">\r\n                      <div>\r\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Account Role</p>\r\n                        <p className=\"text-sm font-medium text-slate-900\">{accountRoleLabel}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employment Role</p>\r\n                        <p className=\"text-sm font-medium text-slate-900\">{employmentRoleLabel}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employee ID</p>\r\n                        <p className=\"text-sm font-medium text-slate-900\">{profileInsights.employeeId || \"-\"}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employee Name</p>\r\n                        <p className=\"text-sm font-medium text-slate-900\">{profileInsights.employeeName || \"-\"}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employee Email</p>\r\n                        <p className=\"truncate text-sm font-medium text-slate-900\">{profileInsights.employeeEmail || userEmail}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Department</p>\r\n                        <p className=\"text-sm font-medium text-slate-900\">{profileInsights.department || \"-\"}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Position</p>\r\n                        <p className=\"text-sm font-medium text-slate-900\">{profileInsights.jobTitle || \"-\"}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employment Status</p>\r\n                        <p className=\"text-sm font-medium text-slate-900\">{profileInsights.employmentStatus || \"-\"}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Record Status</p>\r\n                        <p className=\"text-sm font-medium text-slate-900\">{profileInsights.recordStatus || \"-\"}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employment Start Date</p>\r\n                        <p className=\"text-sm font-medium text-slate-900\">{formatDate(profileInsights.hireDate)}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Manager</p>\r\n                        <p className=\"truncate text-sm font-medium text-slate-900\">{profileInsights.managerEmail || \"-\"}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Last Login</p>\r\n                        <p className=\"text-sm font-medium text-slate-900\">{formatDateTime(profileInsights.lastLoginAt)}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Last Active</p>\r\n                        <p className=\"text-sm font-medium text-slate-900\">\r\n                          {profileInsights.lastActiveDevice || \"Unknown device\"}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Source IP</p>\r\n                        <p className=\"text-sm font-medium text-slate-900\">{formatSourceIp(profileInsights.lastActiveIp)}</p>\r\n                      </div>\r\n                    </div>\r\n                  </section>\r\n\r\n                </div>\r\n\r\n                <div className=\"mt-4 flex flex-wrap items-center justify-between gap-2\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={handleSignOut}\r\n                      disabled={isSigningOut || isSavingProfile || isUploadingPhoto || isRevokingSessions}\r\n                      className=\"inline-flex h-9 items-center rounded-lg border border-rose-200 bg-rose-50 px-3 text-xs font-semibold text-rose-700 transition hover:bg-rose-100 disabled:opacity-70\"\r\n                    >\r\n                      {isSigningOut ? \"Signing out...\" : \"Sign out\"}\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={handleSignOutAllDevices}\r\n                      disabled={isRevokingSessions || isSigningOut || isSavingProfile || isUploadingPhoto}\r\n                      className=\"inline-flex h-9 items-center rounded-lg border border-amber-300 bg-amber-50 px-3 text-xs font-semibold text-amber-800 transition hover:bg-amber-100 disabled:opacity-70\"\r\n                    >\r\n                      {isRevokingSessions ? \"Revoking...\" : \"Sign out all devices\"}\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={closeProfileEditor}\r\n                      disabled={isSavingProfile || isUploadingPhoto || isRevokingSessions}\r\n                      className=\"inline-flex h-9 items-center rounded-lg border border-slate-300 bg-white px-3 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-70\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={handleProfileSave}\r\n                      disabled={isSavingProfile || isUploadingPhoto || isRevokingSessions}\r\n                      className=\"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70\"\r\n                    >\r\n                      {isUploadingPhoto ? \"Uploading...\" : isSavingProfile ? \"Saving...\" : \"Save Profile\"}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </header>\r\n\r\n          <main\r\n            id=\"main-content\"\r\n            className=\"min-h-0 flex-1 overflow-y-auto bg-slate-100/70 px-5 py-5 sm:px-6 sm:py-6 lg:px-8 lg:py-7\"\r\n          >\r\n            {children}\r\n          </main>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n","\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { toSubTabAnchor } from \"@/lib/subtab-anchor\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst MODULE_SUBTABS = {\r\n  employees: [],\r\n  \"employment-lifecycle\": [\r\n    { id: \"workflow-status-tracking\", label: \"Workflow Status Tracking\" },\r\n    { id: \"onboarding\", label: \"Onboarding\" },\r\n    { id: \"role-changes\", label: \"Role Changes\" },\r\n    { id: \"disciplinary-records\", label: \"Disciplinary Records\" },\r\n    { id: \"offboarding-access-revocation\", label: \"Offboarding + Access Revocation\" },\r\n  ],\r\n  attendance: [\r\n    { id: \"monitoring-dashboard\", label: \"Attendance Dashboard\" },\r\n    { id: \"records\", label: \"Records\" },\r\n    { id: \"audit-logs\", label: \"Audit Logs\" },\r\n  ],\r\n  \"incident-management\": [\r\n    { id: \"incident-dashboard\", label: \"Incident Dashboard\" },\r\n    { id: \"report-incident\", label: \"Report Incident\" },\r\n    { id: \"incident-list\", label: \"Case Management\" },\r\n    { id: \"reports-analytics\", label: \"Reports & Analytics\" },\r\n  ],\r\n};\r\n\r\nconst EMPLOYEE_VISIBLE_SUBTABS = new Set([\"profile\", \"documents\"]);\r\n\r\nfunction isEmployeeRole(role) {\r\n  const normalized = String(role || \"\").trim().toUpperCase();\r\n  return normalized === \"EMPLOYEE\" || normalized.startsWith(\"EMPLOYEE_\");\r\n}\r\n\r\nexport default function ModuleSubTabAnchors({ moduleId, moduleHref, role, visible = true }) {\r\n  const pathname = usePathname();\r\n  const [hash, setHash] = useState(\"\");\r\n\r\n  const subTabs = useMemo(() => {\r\n    const tabs = MODULE_SUBTABS[moduleId] || [];\r\n    if (moduleId !== \"employees\") {\r\n      return tabs;\r\n    }\r\n    if (!isEmployeeRole(role)) {\r\n      return tabs;\r\n    }\r\n    return tabs.filter((tab) => EMPLOYEE_VISIBLE_SUBTABS.has(tab.id));\r\n  }, [moduleId, role]);\r\n\r\n  useEffect(() => {\r\n    const syncHash = () => {\r\n      if (typeof window === \"undefined\") {\r\n        return;\r\n      }\r\n      const raw = String(window.location.hash || \"\").trim();\r\n      setHash(raw.replace(/^#/, \"\"));\r\n    };\r\n\r\n    syncHash();\r\n    window.addEventListener(\"hashchange\", syncHash);\r\n    return () => window.removeEventListener(\"hashchange\", syncHash);\r\n  }, []);\r\n\r\n  if (!visible || pathname !== moduleHref || subTabs.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  const handleSubTabClick = (anchor) => {\r\n    if (typeof window === \"undefined\") {\r\n      return;\r\n    }\r\n\r\n    const nextUrl = `${moduleHref}#${anchor}`;\r\n    window.history.pushState(null, \"\", nextUrl);\r\n    setHash(anchor);\r\n    window.dispatchEvent(\r\n      new CustomEvent(\"clio:subtab-anchor\", {\r\n        detail: { moduleId, anchor },\r\n      }),\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-1.5 space-y-1.5 pl-12 pr-1\">\r\n      {subTabs.map((subTab, index) => {\r\n        const anchor = toSubTabAnchor(subTab.id);\r\n        const isActive = hash === anchor || (!hash && index === 0);\r\n\r\n        return (\r\n          <button\r\n            key={subTab.id}\r\n            type=\"button\"\r\n            onClick={() => handleSubTabClick(anchor)}\r\n            className={cn(\r\n              \"block w-full rounded-lg border px-2.5 py-1.5 text-left text-[11px] font-medium transition\",\r\n              isActive\r\n                ? \"border-sky-200 bg-sky-50 text-sky-700\"\r\n                : \"border-transparent text-slate-600 hover:border-slate-200 hover:bg-white hover:text-slate-800\",\r\n            )}\r\n          >\r\n            {subTab.label}\r\n          </button>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import { MODULE_ACCESS, MODULES, ROLES } from \"@/features/hris/constants\";\r\n\r\nconst DEFAULT_ROLE = \"EMPLOYEE_L1\";\r\nconst roleIds = new Set(ROLES.map((role) => role.id));\r\n\r\nexport function normalizeRole(value) {\r\n  if (typeof value !== \"string\") {\r\n    return DEFAULT_ROLE;\r\n  }\r\n\r\n  const sanitized = value.trim().toUpperCase();\r\n  return roleIds.has(sanitized) ? sanitized : DEFAULT_ROLE;\r\n}\r\n\r\nexport function getRoleDetails(role) {\r\n  const normalized = normalizeRole(role);\r\n  return ROLES.find((item) => item.id === normalized) ?? ROLES.find((item) => item.id === DEFAULT_ROLE);\r\n}\r\n\r\nexport function getModulesForRole(role) {\r\n  const normalized = normalizeRole(role);\r\n  const allowed = new Set(MODULE_ACCESS[normalized] ?? []);\r\n  return MODULES.filter((module) => allowed.has(module.id));\r\n}\r\n","import { MODULE_ACCESS } from \"@/features/hris/constants\";\r\nimport { normalizeRole } from \"@/lib/hris\";\r\n\r\nconst ROLE_PERMISSIONS = {\r\n  SUPER_ADMIN: [\"*\"],\r\n  GRC: [\r\n    \"dashboard:view\",\r\n    \"employees:view\",\r\n    \"employees:edit\",\r\n    \"employees:view:sensitive\",\r\n    \"lifecycle:view\",\r\n    \"lifecycle:edit\",\r\n    \"lifecycle:approve\",\r\n    \"attendance:view\",\r\n    \"attendance:edit\",\r\n    \"attendance:approve\",\r\n    \"performance:view\",\r\n    \"performance:edit\",\r\n    \"performance:approve\",\r\n    \"templates:view\",\r\n    \"templates:edit\",\r\n    \"exports:view\",\r\n    \"exports:manage\",\r\n    \"exports:approve\",\r\n    \"exports:request\",\r\n    \"activity_log:export\",\r\n    \"activity_log:view\",\r\n    \"audit:view\",\r\n    \"access_management:view\",\r\n    \"retention_archive:view\",\r\n    \"retention_archive:manage\",\r\n    \"incident_management:view\",\r\n    \"incident_management:edit\",\r\n    \"user_management:view\",\r\n    \"user_management:manage\",\r\n    \"settings:view\",\r\n    \"audit:write:nonsensitive\",\r\n    \"auth:logout\",\r\n    \"resource:own\",\r\n  ],\r\n  HR: [\r\n    \"dashboard:view\",\r\n    \"employees:view\",\r\n    \"employees:edit\",\r\n    \"employees:view:sensitive\",\r\n    \"lifecycle:view\",\r\n    \"lifecycle:edit\",\r\n    \"lifecycle:approve\",\r\n    \"attendance:view\",\r\n    \"attendance:edit\",\r\n    \"attendance:approve\",\r\n    \"performance:view\",\r\n    \"performance:edit\",\r\n    \"performance:approve\",\r\n    \"templates:view\",\r\n    \"templates:edit\",\r\n    \"exports:view\",\r\n    \"exports:manage\",\r\n    \"exports:approve\",\r\n    \"exports:request\",\r\n    \"activity_log:export\",\r\n    \"settings:view\",\r\n    \"audit:write:nonsensitive\",\r\n    \"auth:logout\",\r\n    \"resource:own\",\r\n  ],\r\n  EA: [\r\n    \"dashboard:view\",\r\n    \"employees:view\",\r\n    \"employees:edit\",\r\n    \"employees:view:sensitive\",\r\n    \"lifecycle:view\",\r\n    \"lifecycle:edit\",\r\n    \"lifecycle:approve\",\r\n    \"attendance:view\",\r\n    \"attendance:edit\",\r\n    \"attendance:approve\",\r\n    \"performance:view\",\r\n    \"performance:edit\",\r\n    \"performance:approve\",\r\n    \"templates:view\",\r\n    \"templates:edit\",\r\n    \"exports:view\",\r\n    \"exports:manage\",\r\n    \"exports:approve\",\r\n    \"exports:request\",\r\n    \"activity_log:export\",\r\n    \"settings:view\",\r\n    \"audit:write:nonsensitive\",\r\n    \"auth:logout\",\r\n    \"resource:own\",\r\n  ],\r\n  EMPLOYEE_L1: [\r\n    \"dashboard:view\",\r\n    \"employees:view\",\r\n    \"employees:edit:self\",\r\n    \"attendance:view\",\r\n    \"attendance:edit:self\",\r\n    \"performance:view\",\r\n    \"templates:view\",\r\n    \"requests:view\",\r\n    \"requests:create:self\",\r\n    \"exports:request:self\",\r\n    \"settings:view\",\r\n    \"audit:write:nonsensitive\",\r\n    \"auth:logout\",\r\n    \"resource:own\",\r\n  ],\r\n  EMPLOYEE_L2: [\r\n    \"dashboard:view\",\r\n    \"employees:view\",\r\n    \"employees:edit:self\",\r\n    \"attendance:view\",\r\n    \"attendance:edit:self\",\r\n    \"performance:view\",\r\n    \"templates:view\",\r\n    \"requests:view\",\r\n    \"requests:create:self\",\r\n    \"exports:request:self\",\r\n    \"settings:view\",\r\n    \"audit:write:nonsensitive\",\r\n    \"auth:logout\",\r\n    \"resource:own\",\r\n  ],\r\n  EMPLOYEE_L3: [\r\n    \"dashboard:view\",\r\n    \"employees:view\",\r\n    \"employees:edit:self\",\r\n    \"attendance:view\",\r\n    \"attendance:edit:self\",\r\n    \"performance:view\",\r\n    \"templates:view\",\r\n    \"requests:view\",\r\n    \"requests:create:self\",\r\n    \"exports:request:self\",\r\n    \"settings:view\",\r\n    \"audit:write:nonsensitive\",\r\n    \"auth:logout\",\r\n    \"resource:own\",\r\n  ],\r\n};\r\n\r\nconst MODULE_REQUIRED_PERMISSION = {\r\n  dashboard: \"dashboard:view\",\r\n  employees: \"employees:view\",\r\n  \"employment-lifecycle\": \"lifecycle:view\",\r\n  attendance: \"attendance:view\",\r\n  performance: \"performance:view\",\r\n  \"activity-log\": \"activity_log:view\",\r\n  exports: \"exports:view\",\r\n  documents: \"templates:view\",\r\n  \"access-management\": \"access_management:view\",\r\n  \"retention-archive\": \"retention_archive:view\",\r\n  \"incident-management\": \"incident_management:view\",\r\n  requests: \"requests:view\",\r\n  settings: \"settings:view\",\r\n  \"user-management\": \"user_management:view\",\r\n};\r\n\r\nconst DEFAULT_ROLE_EMAILS = {\r\n  SUPER_ADMIN: [],\r\n  HR: [],\r\n  GRC: [],\r\n  EA: [],\r\n  EMPLOYEE_L1: [],\r\n  EMPLOYEE_L2: [],\r\n  EMPLOYEE_L3: [],\r\n};\r\n\r\nfunction parseEnvEmailList(rawValue, fallbackValues = []) {\r\n  if (typeof rawValue !== \"string\") {\r\n    return new Set(fallbackValues.map((value) => value.trim().toLowerCase()).filter(Boolean));\r\n  }\r\n\r\n  if (rawValue.trim().length === 0) {\r\n    return new Set(fallbackValues.map((value) => value.trim().toLowerCase()).filter(Boolean));\r\n  }\r\n\r\n  return new Set(\r\n    rawValue\r\n      .split(\",\")\r\n      .map((item) => item.trim().toLowerCase())\r\n      .filter(Boolean),\r\n  );\r\n}\r\n\r\nexport function getPermissionsForRole(role) {\r\n  const normalized = normalizeRole(role);\r\n  return ROLE_PERMISSIONS[normalized] ?? [];\r\n}\r\n\r\nexport function hasPermission(role, permission) {\r\n  const permissions = getPermissionsForRole(role);\r\n  return permissions.includes(\"*\") || permissions.includes(permission);\r\n}\r\n\r\nexport function canAccessModule(role, moduleId) {\r\n  const normalized = normalizeRole(role);\r\n  const allowedModules = new Set(MODULE_ACCESS[normalized] ?? []);\r\n\r\n  if (!allowedModules.has(moduleId)) {\r\n    return false;\r\n  }\r\n\r\n  const requiredPermission = MODULE_REQUIRED_PERMISSION[moduleId];\r\n  if (!requiredPermission) {\r\n    return true;\r\n  }\r\n\r\n  return hasPermission(normalized, requiredPermission);\r\n}\r\n\r\nexport function canAccessResource({\r\n  role,\r\n  actorIdentifier,\r\n  ownerIdentifier,\r\n  allowRoles = [\"SUPER_ADMIN\"],\r\n}) {\r\n  const normalized = normalizeRole(role);\r\n  if (allowRoles.includes(normalized)) {\r\n    return true;\r\n  }\r\n\r\n  if (!hasPermission(normalized, \"resource:own\")) {\r\n    return false;\r\n  }\r\n\r\n  const actor = String(actorIdentifier || \"\").trim().toLowerCase();\r\n  const owner = String(ownerIdentifier || \"\").trim().toLowerCase();\r\n  if (!actor || !owner) {\r\n    return false;\r\n  }\r\n\r\n  return actor === owner;\r\n}\r\n\r\nexport function resolveRoleForEmail(email) {\r\n  const normalizedEmail = String(email || \"\").trim().toLowerCase();\r\n  if (!normalizedEmail) {\r\n    return null;\r\n  }\r\n\r\n  const explicitRoleMap = {\r\n    SUPER_ADMIN: parseEnvEmailList(process.env.SUPER_ADMIN_EMAILS, DEFAULT_ROLE_EMAILS.SUPER_ADMIN),\r\n    HR: parseEnvEmailList(process.env.HR_EMAILS, DEFAULT_ROLE_EMAILS.HR),\r\n    GRC: parseEnvEmailList(process.env.GRC_EMAILS, DEFAULT_ROLE_EMAILS.GRC),\r\n    EA: parseEnvEmailList(process.env.EA_EMAILS, DEFAULT_ROLE_EMAILS.EA),\r\n    EMPLOYEE_L1: parseEnvEmailList(process.env.EMPLOYEE_L1_EMAILS, DEFAULT_ROLE_EMAILS.EMPLOYEE_L1),\r\n    EMPLOYEE_L2: parseEnvEmailList(process.env.EMPLOYEE_L2_EMAILS, DEFAULT_ROLE_EMAILS.EMPLOYEE_L2),\r\n    EMPLOYEE_L3: parseEnvEmailList(process.env.EMPLOYEE_L3_EMAILS, DEFAULT_ROLE_EMAILS.EMPLOYEE_L3),\r\n  };\r\n\r\n  for (const role of [\"SUPER_ADMIN\", \"HR\", \"GRC\", \"EA\", \"EMPLOYEE_L1\", \"EMPLOYEE_L2\", \"EMPLOYEE_L3\"]) {\r\n    if (explicitRoleMap[role].has(normalizedEmail)) {\r\n      return role;\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport function getModuleIdFromPathname(pathname) {\r\n  const path = String(pathname || \"\")\r\n    .trim()\r\n    .replace(/^\\/+|\\/+$/g, \"\");\r\n\r\n  if (!path) {\r\n    return \"dashboard\";\r\n  }\r\n\r\n  const firstSegment = path.split(\"/\")[0];\r\n  return MODULE_REQUIRED_PERMISSION[firstSegment] ? firstSegment : null;\r\n}\r\n"],"names":[],"mappings":"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"}