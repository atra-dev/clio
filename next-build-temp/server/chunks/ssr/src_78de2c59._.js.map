{"version":3,"sources":["../../../../src/components/hris/SurfaceCard.jsx","../../../../src/services/hris-api-client.js","../../../../src/components/hris/shared/EmptyState.jsx","../../../../src/components/hris/shared/StatusBadge.jsx","../../../../src/components/hris/shared/ModuleTabs.jsx","../../../../src/components/hris/modules/ExportControlModule.jsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\r\n\r\nexport default function SurfaceCard({ title, subtitle, className, children, action }) {\r\n  return (\r\n    <section\r\n      className={cn(\r\n        \"rounded-2xl border border-slate-200 bg-white p-5 shadow-[0_12px_30px_-24px_rgba(15,23,42,0.55)]\",\r\n        className,\r\n      )}\r\n    >\r\n      {(title || subtitle || action) && (\r\n        <header className=\"mb-4 flex items-start justify-between gap-3\">\r\n          <div className=\"space-y-1\">\r\n            {title && <h2 className=\"text-base font-semibold text-slate-900\">{title}</h2>}\r\n            {subtitle && <p className=\"text-sm text-slate-600\">{subtitle}</p>}\r\n          </div>\r\n          {action}\r\n        </header>\r\n      )}\r\n      {children}\r\n    </section>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nfunction buildQuery(params = {}) {\r\n  const searchParams = new URLSearchParams();\r\n  Object.entries(params).forEach(([key, value]) => {\r\n    if (value === undefined || value === null) {\r\n      return;\r\n    }\r\n    const normalized = String(value).trim();\r\n    if (!normalized) {\r\n      return;\r\n    }\r\n    searchParams.set(key, normalized);\r\n  });\r\n  const query = searchParams.toString();\r\n  return query ? `?${query}` : \"\";\r\n}\r\n\r\nasync function parseResponse(response) {\r\n  const contentType = response.headers.get(\"content-type\") || \"\";\r\n  if (contentType.includes(\"text/csv\")) {\r\n    return await response.text();\r\n  }\r\n  const payload = await response.json().catch(() => ({}));\r\n  if (!response.ok) {\r\n    const message = payload?.message || \"Request failed.\";\r\n    throw new Error(message);\r\n  }\r\n  return payload;\r\n}\r\n\r\nasync function requestJson(url, options = {}) {\r\n  const response = await fetch(url, {\r\n    ...options,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      ...(options.headers || {}),\r\n    },\r\n    cache: \"no-store\",\r\n  });\r\n  return await parseResponse(response);\r\n}\r\n\r\nasync function requestCsv(url, options = {}) {\r\n  const response = await fetch(url, {\r\n    ...options,\r\n    cache: \"no-store\",\r\n  });\r\n  if (!response.ok) {\r\n    const payload = await response.json().catch(() => ({}));\r\n    throw new Error(payload?.message || \"Export failed.\");\r\n  }\r\n  return await response.text();\r\n}\r\n\r\nexport const hrisApi = {\r\n  employees: {\r\n    async list(params = {}) {\r\n      return await requestJson(`/api/hris/employees${buildQuery(params)}`, { method: \"GET\" });\r\n    },\r\n    async get(recordId) {\r\n      return await requestJson(`/api/hris/employees/${encodeURIComponent(recordId)}`, { method: \"GET\" });\r\n    },\r\n    async create(payload) {\r\n      return await requestJson(\"/api/hris/employees\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async update(recordId, payload) {\r\n      return await requestJson(`/api/hris/employees/${encodeURIComponent(recordId)}`, {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async archive(recordId) {\r\n      return await requestJson(`/api/hris/employees/${encodeURIComponent(recordId)}`, {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify({\r\n          status: \"Archived\",\r\n        }),\r\n      });\r\n    },\r\n    async logDocumentAccess(recordId, payload) {\r\n      return await requestJson(`/api/hris/employees/${encodeURIComponent(recordId)}/documents/access`, {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload || {}),\r\n      });\r\n    },\r\n  },\r\n\r\n  lifecycle: {\r\n    async list(params = {}) {\r\n      return await requestJson(`/api/hris/lifecycle${buildQuery(params)}`, { method: \"GET\" });\r\n    },\r\n    async get(recordId) {\r\n      return await requestJson(`/api/hris/lifecycle/${encodeURIComponent(recordId)}`, { method: \"GET\" });\r\n    },\r\n    async create(payload) {\r\n      return await requestJson(\"/api/hris/lifecycle\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async update(recordId, payload) {\r\n      return await requestJson(`/api/hris/lifecycle/${encodeURIComponent(recordId)}`, {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async offboard(recordId, payload = {}) {\r\n      return await requestJson(`/api/hris/lifecycle/${encodeURIComponent(recordId)}/offboard`, {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async approve(recordId, payload = {}) {\r\n      return await requestJson(`/api/hris/lifecycle/${encodeURIComponent(recordId)}/approve`, {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n  },\r\n\r\n  attendance: {\r\n    async list(params = {}) {\r\n      return await requestJson(`/api/hris/attendance${buildQuery(params)}`, { method: \"GET\" });\r\n    },\r\n    async create(payload) {\r\n      return await requestJson(\"/api/hris/attendance\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async update(recordId, payload) {\r\n      return await requestJson(`/api/hris/attendance/${encodeURIComponent(recordId)}`, {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n  },\r\n\r\n  leave: {\r\n    async list(params = {}) {\r\n      return await requestJson(`/api/hris/attendance/leave-requests${buildQuery(params)}`, { method: \"GET\" });\r\n    },\r\n    async create(payload) {\r\n      return await requestJson(\"/api/hris/attendance/leave-requests\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async update(recordId, payload) {\r\n      return await requestJson(`/api/hris/attendance/leave-requests/${encodeURIComponent(recordId)}`, {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async approve(recordId, { approved, approvalNote }) {\r\n      return await requestJson(`/api/hris/attendance/leave-requests/${encodeURIComponent(recordId)}`, {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify({\r\n          status: approved ? \"Approved\" : \"Rejected\",\r\n          approvalNote: approvalNote || \"\",\r\n        }),\r\n      });\r\n    },\r\n  },\r\n\r\n  performance: {\r\n    async list(params = {}) {\r\n      return await requestJson(`/api/hris/performance${buildQuery(params)}`, { method: \"GET\" });\r\n    },\r\n    async create(payload) {\r\n      return await requestJson(\"/api/hris/performance\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async update(recordId, payload) {\r\n      return await requestJson(`/api/hris/performance/${encodeURIComponent(recordId)}`, {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n  },\r\n\r\n  templates: {\r\n    async list(params = {}) {\r\n      return await requestJson(`/api/hris/templates${buildQuery(params)}`, { method: \"GET\" });\r\n    },\r\n    async create(payload) {\r\n      return await requestJson(\"/api/hris/templates\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async update(recordId, payload) {\r\n      return await requestJson(`/api/hris/templates/${encodeURIComponent(recordId)}`, {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async archive(recordId) {\r\n      return await requestJson(`/api/hris/templates/${encodeURIComponent(recordId)}`, { method: \"DELETE\" });\r\n    },\r\n  },\r\n\r\n  activityLogs: {\r\n    async list(params = {}) {\r\n      return await requestJson(`/api/hris/activity-logs${buildQuery(params)}`, { method: \"GET\" });\r\n    },\r\n    async exportCsv(params = {}) {\r\n      const query = buildQuery({ ...params, export: \"csv\" });\r\n      return await requestCsv(`/api/hris/activity-logs${query}`, { method: \"GET\" });\r\n    },\r\n  },\r\n\r\n  exports: {\r\n    async list(params = {}) {\r\n      return await requestJson(`/api/hris/exports${buildQuery(params)}`, { method: \"GET\" });\r\n    },\r\n    async create(payload) {\r\n      return await requestJson(\"/api/hris/exports\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async update(recordId, payload) {\r\n      return await requestJson(`/api/hris/exports/${encodeURIComponent(recordId)}`, {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async approve(recordId, payload) {\r\n      return await requestJson(`/api/hris/exports/${encodeURIComponent(recordId)}/approve`, {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async execute(recordId) {\r\n      return await requestCsv(`/api/hris/exports/${encodeURIComponent(recordId)}/execute`, {\r\n        method: \"POST\",\r\n      });\r\n    },\r\n  },\r\n\r\n  retention: {\r\n    async list(params = {}) {\r\n      return await requestJson(`/api/hris/retention${buildQuery(params)}`, { method: \"GET\" });\r\n    },\r\n    async purge(payload = {}) {\r\n      return await requestJson(\"/api/hris/retention\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n  },\r\n\r\n  incidents: {\r\n    async list(params = {}) {\r\n      return await requestJson(`/api/hris/incidents${buildQuery(params)}`, { method: \"GET\" });\r\n    },\r\n    async get(recordId) {\r\n      return await requestJson(`/api/hris/incidents/${encodeURIComponent(recordId)}`, { method: \"GET\" });\r\n    },\r\n    async create(payload) {\r\n      return await requestJson(\"/api/hris/incidents\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n    async update(recordId, payload) {\r\n      return await requestJson(`/api/hris/incidents/${encodeURIComponent(recordId)}`, {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(payload),\r\n      });\r\n    },\r\n  },\r\n\r\n  settings: {\r\n    referenceData: {\r\n      async list() {\r\n        return await requestJson(\"/api/hris/settings/reference-data\", { method: \"GET\" });\r\n      },\r\n      async create(payload) {\r\n        return await requestJson(\"/api/hris/settings/reference-data\", {\r\n          method: \"POST\",\r\n          body: JSON.stringify(payload),\r\n        });\r\n      },\r\n      async remove(payload) {\r\n        return await requestJson(\"/api/hris/settings/reference-data\", {\r\n          method: \"DELETE\",\r\n          body: JSON.stringify(payload),\r\n        });\r\n      },\r\n    },\r\n  },\r\n};\r\n","\"use client\";\r\n\r\nexport default function EmptyState({ title, subtitle }) {\r\n  return (\r\n    <div className=\"rounded-xl border border-dashed border-slate-300 bg-slate-50/80 px-4 py-5 text-center\">\r\n      <p className=\"text-sm font-semibold text-slate-900\">{title}</p>\r\n      {subtitle ? <p className=\"mt-1 text-xs text-slate-600\">{subtitle}</p> : null}\r\n    </div>\r\n  );\r\n}\r\n\r\n","\"use client\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst STATUS_CLASS = {\r\n  critical: \"bg-rose-100 text-rose-700 ring-1 ring-rose-200\",\r\n  high: \"bg-orange-100 text-orange-700 ring-1 ring-orange-200\",\r\n  medium: \"bg-amber-100 text-amber-700 ring-1 ring-amber-200\",\r\n  low: \"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200\",\r\n  open: \"bg-cyan-100 text-cyan-700 ring-1 ring-cyan-200\",\r\n  containment: \"bg-blue-100 text-blue-700 ring-1 ring-blue-200\",\r\n  investigating: \"bg-indigo-100 text-indigo-700 ring-1 ring-indigo-200\",\r\n  escalated: \"bg-violet-100 text-violet-700 ring-1 ring-violet-200\",\r\n  \"regulatory review\": \"bg-fuchsia-100 text-fuchsia-700 ring-1 ring-fuchsia-200\",\r\n  resolved: \"bg-teal-100 text-teal-700 ring-1 ring-teal-200\",\r\n  closed: \"bg-slate-200 text-slate-700 ring-1 ring-slate-300\",\r\n  active: \"bg-emerald-100 text-emerald-700\",\r\n  approved: \"bg-emerald-100 text-emerald-700\",\r\n  completed: \"bg-sky-100 text-sky-700\",\r\n  exported: \"bg-sky-100 text-sky-700\",\r\n  pending: \"bg-amber-100 text-amber-700\",\r\n  rejected: \"bg-rose-100 text-rose-700\",\r\n  failed: \"bg-rose-100 text-rose-700\",\r\n  archived: \"bg-slate-200 text-slate-700\",\r\n  \"in progress\": \"bg-indigo-100 text-indigo-700\",\r\n};\r\n\r\nexport default function StatusBadge({ value, className }) {\r\n  const normalized = String(value || \"\").trim().toLowerCase();\r\n  return (\r\n    <span\r\n      className={cn(\r\n        \"inline-flex rounded-md px-2 py-1 text-xs font-medium\",\r\n        STATUS_CLASS[normalized] || \"bg-slate-100 text-slate-700\",\r\n        className,\r\n      )}\r\n    >\r\n      {value || \"N/A\"}\r\n    </span>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport default function ModuleTabs({ tabs, value, onChange, className }) {\r\n  return (\r\n    <div className={cn(\"flex gap-2 overflow-x-auto pb-1 sm:flex-wrap sm:overflow-visible\", className)}>\r\n      {tabs.map((tab) => {\r\n        const active = tab.id === value;\r\n        return (\r\n          <button\r\n            key={tab.id}\r\n            type=\"button\"\r\n            onClick={() => onChange(tab.id)}\r\n            className={cn(\r\n              \"whitespace-nowrap rounded-lg border px-3 py-1.5 text-xs font-medium transition\",\r\n              active\r\n                ? \"border-sky-300 bg-sky-50 text-sky-700\"\r\n                : \"border-slate-300 bg-white text-slate-700 hover:bg-slate-50\",\r\n            )}\r\n          >\r\n            {tab.label}\r\n          </button>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\n","\"use client\";\r\n\r\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport SurfaceCard from \"@/components/hris/SurfaceCard\";\r\nimport EmptyState from \"@/components/hris/shared/EmptyState\";\r\nimport ModuleTabs from \"@/components/hris/shared/ModuleTabs\";\r\nimport StatusBadge from \"@/components/hris/shared/StatusBadge\";\r\nimport { hrisApi } from \"@/services/hris-api-client\";\r\n\r\nconst SECTION_TABS = [\r\n  { id: \"requests\", label: \"Export Requests\" },\r\n  { id: \"approval\", label: \"Approval Workflow\" },\r\n  { id: \"history\", label: \"Export History\" },\r\n  { id: \"alerts\", label: \"Mass Export Alerts\" },\r\n];\r\n\r\nconst initialRequestForm = {\r\n  dataset: \"Employee Master Data\",\r\n  format: \"CSV\",\r\n  estimateVolume: \"\",\r\n  justification: \"\",\r\n  scope: \"full\",\r\n};\r\n\r\nfunction isEmployeeRole(role) {\r\n  return String(role || \"\")\r\n    .trim()\r\n    .toUpperCase()\r\n    .startsWith(\"EMPLOYEE_\");\r\n}\r\n\r\nfunction formatDate(value) {\r\n  const date = new Date(value || \"\");\r\n  if (Number.isNaN(date.getTime())) {\r\n    return \"-\";\r\n  }\r\n  return new Intl.DateTimeFormat(\"en-US\", {\r\n    month: \"short\",\r\n    day: \"2-digit\",\r\n    year: \"numeric\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  }).format(date);\r\n}\r\n\r\nfunction downloadCsv(filename, csvText) {\r\n  const blob = new Blob([csvText], { type: \"text/csv;charset=utf-8;\" });\r\n  const url = URL.createObjectURL(blob);\r\n  const anchor = document.createElement(\"a\");\r\n  anchor.href = url;\r\n  anchor.download = filename;\r\n  document.body.appendChild(anchor);\r\n  anchor.click();\r\n  document.body.removeChild(anchor);\r\n  URL.revokeObjectURL(url);\r\n}\r\n\r\nexport default function ExportControlModule({ session }) {\r\n  const actorRole = session?.role || \"EMPLOYEE_L1\";\r\n  const actorEmail = session?.email || \"\";\r\n  const employeeRole = isEmployeeRole(actorRole);\r\n  const canApprove = !employeeRole;\r\n\r\n  const [section, setSection] = useState(\"requests\");\r\n  const [records, setRecords] = useState([]);\r\n  const [requestForm, setRequestForm] = useState(initialRequestForm);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n\r\n  const loadRecords = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setErrorMessage(\"\");\r\n    try {\r\n      const payload = await hrisApi.exports.list(employeeRole ? { ownerEmail: actorEmail } : {});\r\n      setRecords(Array.isArray(payload.records) ? payload.records : []);\r\n    } catch (error) {\r\n      setErrorMessage(error.message || \"Unable to load export control records.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [actorEmail, employeeRole]);\r\n\r\n  useEffect(() => {\r\n    loadRecords();\r\n  }, [loadRecords]);\r\n\r\n  const pendingApprovals = useMemo(\r\n    () => records.filter((record) => String(record.status || \"\").trim().toLowerCase() === \"pending\"),\r\n    [records],\r\n  );\r\n  const historyRows = useMemo(\r\n    () =>\r\n      records.filter((record) =>\r\n        [\"approved\", \"rejected\", \"exported\"].includes(String(record.status || \"\").trim().toLowerCase()),\r\n      ),\r\n    [records],\r\n  );\r\n  const massAlerts = useMemo(\r\n    () => records.filter((record) => String(record.alert || \"\").trim().toLowerCase() === \"mass_export_threshold\"),\r\n    [records],\r\n  );\r\n\r\n  const handleRequestField = (field) => (event) => {\r\n    setRequestForm((current) => ({\r\n      ...current,\r\n      [field]: event.target.value,\r\n    }));\r\n  };\r\n\r\n  const submitExportRequest = async (event) => {\r\n    event.preventDefault();\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n    try {\r\n      await hrisApi.exports.create({\r\n        ...requestForm,\r\n        requestedBy: actorEmail,\r\n      });\r\n      setRequestForm(initialRequestForm);\r\n      setSuccessMessage(\"Export request submitted with justification.\");\r\n      await loadRecords();\r\n    } catch (error) {\r\n      setErrorMessage(error.message || \"Unable to submit export request.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleApproval = async (recordId, approved) => {\r\n    if (!recordId || !canApprove) {\r\n      return;\r\n    }\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n    try {\r\n      await hrisApi.exports.approve(recordId, {\r\n        approved,\r\n        note: approved ? \"Approved by export control reviewer.\" : \"Rejected by export control reviewer.\",\r\n      });\r\n      setSuccessMessage(approved ? \"Export request approved.\" : \"Export request rejected.\");\r\n      await loadRecords();\r\n    } catch (error) {\r\n      setErrorMessage(error.message || \"Unable to process export approval.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const executeExport = async (record) => {\r\n    if (!record?.id) {\r\n      return;\r\n    }\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n    try {\r\n      const csv = await hrisApi.exports.execute(record.id);\r\n      downloadCsv(`clio-export-${record.id}.csv`, csv);\r\n      setSuccessMessage(\"Export generated and downloaded.\");\r\n      await loadRecords();\r\n    } catch (error) {\r\n      setErrorMessage(error.message || \"Unable to execute export.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <ModuleTabs tabs={SECTION_TABS} value={section} onChange={setSection} />\r\n\r\n      {errorMessage ? (\r\n        <p className=\"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700\">{errorMessage}</p>\r\n      ) : null}\r\n      {successMessage ? (\r\n        <p className=\"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700\">{successMessage}</p>\r\n      ) : null}\r\n\r\n      {section === \"requests\" ? (\r\n        <SurfaceCard title=\"Export Request Form\" subtitle=\"Every request requires business justification and is fully audited\">\r\n          <form className=\"grid gap-2 md:grid-cols-4\" onSubmit={submitExportRequest}>\r\n            <input\r\n              value={requestForm.dataset}\r\n              onChange={handleRequestField(\"dataset\")}\r\n              placeholder=\"Dataset\"\r\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n            />\r\n            <select\r\n              value={requestForm.format}\r\n              onChange={handleRequestField(\"format\")}\r\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n            >\r\n              <option>CSV</option>\r\n              <option>PDF</option>\r\n              <option>Sheets</option>\r\n            </select>\r\n            <input\r\n              value={requestForm.estimateVolume}\r\n              onChange={handleRequestField(\"estimateVolume\")}\r\n              placeholder=\"Estimated volume (rows/pages)\"\r\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n            />\r\n            <select\r\n              value={requestForm.scope}\r\n              onChange={handleRequestField(\"scope\")}\r\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n            >\r\n              <option value=\"full\">Full dataset</option>\r\n              <option value=\"department\">Department only</option>\r\n              <option value=\"self\">Own data only</option>\r\n            </select>\r\n            <textarea\r\n              required\r\n              value={requestForm.justification}\r\n              onChange={handleRequestField(\"justification\")}\r\n              placeholder=\"Justification for export\"\r\n              className=\"md:col-span-4 min-h-[84px] rounded-lg border border-slate-300 px-3 py-2 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\r\n            />\r\n            <div className=\"md:col-span-4\">\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n                className=\"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70\"\r\n              >\r\n                {isSubmitting ? \"Submitting...\" : \"Submit Export Request\"}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </SurfaceCard>\r\n      ) : null}\r\n\r\n      <SurfaceCard\r\n        title={\r\n          section === \"approval\"\r\n            ? \"Approval Workflow\"\r\n            : section === \"history\"\r\n              ? \"Export History Tracking\"\r\n              : section === \"alerts\"\r\n                ? \"Mass Export Alerts\"\r\n                : \"Export Requests\"\r\n        }\r\n        subtitle=\"All export events are monitored for governance and DLP compliance\"\r\n      >\r\n        {isLoading ? (\r\n          <p className=\"text-sm text-slate-600\">Loading export control data...</p>\r\n        ) : (\r\n          <>\r\n            {section === \"approval\" ? (\r\n              pendingApprovals.length === 0 ? (\r\n                <EmptyState title=\"No pending approvals\" subtitle=\"Pending export requests will appear here.\" />\r\n              ) : (\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"min-w-full text-left text-sm\">\r\n                    <thead>\r\n                      <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\r\n                        <th className=\"px-2 py-3 font-medium\">Dataset</th>\r\n                        <th className=\"px-2 py-3 font-medium\">Requested By</th>\r\n                        <th className=\"px-2 py-3 font-medium\">Format</th>\r\n                        <th className=\"px-2 py-3 font-medium\">Volume</th>\r\n                        <th className=\"px-2 py-3 font-medium\">Justification</th>\r\n                        <th className=\"px-2 py-3 font-medium text-right\">Actions</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {pendingApprovals.map((row) => (\r\n                        <tr key={row.id} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\r\n                          <td className=\"px-2 py-3 font-medium text-slate-900\">{row.dataset || \"-\"}</td>\r\n                          <td className=\"px-2 py-3\">{row.requestedBy || \"-\"}</td>\r\n                          <td className=\"px-2 py-3\">{row.format || \"-\"}</td>\r\n                          <td className=\"px-2 py-3\">{row.estimateVolume || \"-\"}</td>\r\n                          <td className=\"px-2 py-3 text-xs text-slate-600\">{row.justification || \"-\"}</td>\r\n                          <td className=\"px-2 py-3 text-right\">\r\n                            {canApprove ? (\r\n                              <div className=\"inline-flex items-center gap-2\">\r\n                                <button\r\n                                  type=\"button\"\r\n                                  onClick={() => handleApproval(row.id, true)}\r\n                                  disabled={isSubmitting}\r\n                                  className=\"rounded-lg border border-emerald-200 bg-emerald-50 px-2.5 py-1.5 text-xs font-medium text-emerald-700 transition hover:bg-emerald-100 disabled:opacity-60\"\r\n                                >\r\n                                  Approve\r\n                                </button>\r\n                                <button\r\n                                  type=\"button\"\r\n                                  onClick={() => handleApproval(row.id, false)}\r\n                                  disabled={isSubmitting}\r\n                                  className=\"rounded-lg border border-rose-200 bg-rose-50 px-2.5 py-1.5 text-xs font-medium text-rose-700 transition hover:bg-rose-100 disabled:opacity-60\"\r\n                                >\r\n                                  Reject\r\n                                </button>\r\n                              </div>\r\n                            ) : (\r\n                              <span className=\"text-xs text-slate-500\">Awaiting reviewer</span>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              )\r\n            ) : section === \"history\" ? (\r\n              historyRows.length === 0 ? (\r\n                <EmptyState title=\"No export history yet\" subtitle=\"Approved and executed exports will be tracked here.\" />\r\n              ) : (\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"min-w-full text-left text-sm\">\r\n                    <thead>\r\n                      <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\r\n                        <th className=\"px-2 py-3 font-medium\">Dataset</th>\r\n                        <th className=\"px-2 py-3 font-medium\">Requested By</th>\r\n                        <th className=\"px-2 py-3 font-medium\">Status</th>\r\n                        <th className=\"px-2 py-3 font-medium\">Reviewed By</th>\r\n                        <th className=\"px-2 py-3 font-medium\">Exported At</th>\r\n                        <th className=\"px-2 py-3 font-medium text-right\">Actions</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {historyRows.map((row) => (\r\n                        <tr key={row.id} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\r\n                          <td className=\"px-2 py-3 font-medium text-slate-900\">{row.dataset || \"-\"}</td>\r\n                          <td className=\"px-2 py-3\">{row.requestedBy || \"-\"}</td>\r\n                          <td className=\"px-2 py-3\">\r\n                            <StatusBadge value={row.status || \"-\"} />\r\n                          </td>\r\n                          <td className=\"px-2 py-3\">{row.reviewer || \"-\"}</td>\r\n                          <td className=\"px-2 py-3\">{formatDate(row.exportedAt || row.reviewedAt)}</td>\r\n                          <td className=\"px-2 py-3 text-right\">\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => executeExport(row)}\r\n                              disabled={isSubmitting || String(row.status || \"\").trim().toLowerCase() === \"rejected\"}\r\n                              className=\"rounded-lg border border-sky-200 bg-sky-50 px-2.5 py-1.5 text-xs font-medium text-sky-700 transition hover:bg-sky-100 disabled:opacity-60\"\r\n                            >\r\n                              Export\r\n                            </button>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              )\r\n            ) : section === \"alerts\" ? (\r\n              massAlerts.length === 0 ? (\r\n                <EmptyState title=\"No mass export alerts\" subtitle=\"Large-volume exports will trigger alerts automatically.\" />\r\n              ) : (\r\n                <div className=\"space-y-2\">\r\n                  {massAlerts.map((row) => (\r\n                    <div key={row.id} className=\"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800\">\r\n                      <p>\r\n                        <span className=\"font-semibold\">{row.dataset || \"Dataset\"}</span> requested by{\" \"}\r\n                        <span className=\"font-medium\">{row.requestedBy || \"-\"}</span>\r\n                      </p>\r\n                      <p className=\"mt-1\">Estimated volume: {row.estimateVolume || \"-\"}</p>\r\n                      <p className=\"mt-1\">Action: Review justification and validate business need before release.</p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )\r\n            ) : records.length === 0 ? (\r\n              <EmptyState title=\"No export requests yet\" subtitle=\"Create an export request to populate this section.\" />\r\n            ) : (\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full text-left text-sm\">\r\n                  <thead>\r\n                    <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\r\n                      <th className=\"px-2 py-3 font-medium\">Dataset</th>\r\n                      <th className=\"px-2 py-3 font-medium\">Requested By</th>\r\n                      <th className=\"px-2 py-3 font-medium\">Format</th>\r\n                      <th className=\"px-2 py-3 font-medium\">Scope</th>\r\n                      <th className=\"px-2 py-3 font-medium\">Status</th>\r\n                      <th className=\"px-2 py-3 font-medium\">Submitted</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {records.map((row) => (\r\n                      <tr key={row.id} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\r\n                        <td className=\"px-2 py-3 font-medium text-slate-900\">{row.dataset || \"-\"}</td>\r\n                        <td className=\"px-2 py-3\">{row.requestedBy || \"-\"}</td>\r\n                        <td className=\"px-2 py-3\">{row.format || \"-\"}</td>\r\n                        <td className=\"px-2 py-3\">{row.scope || \"-\"}</td>\r\n                        <td className=\"px-2 py-3\">\r\n                          <StatusBadge value={row.status || \"-\"} />\r\n                        </td>\r\n                        <td className=\"px-2 py-3\">{formatDate(row.createdAt)}</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </SurfaceCard>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}