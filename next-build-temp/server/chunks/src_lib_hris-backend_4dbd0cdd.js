module.exports=[45787,e=>{"use strict";e.i(18097);var t=e.i(19e3),r=e.i(67658),a=e.i(45709),i=e.i(35110),n=e.i(44801),o=e.i(96864);let l=new Set(["role","department"]),d=[{value:"SUPER_ADMIN",label:"Super Admin"},{value:"GRC",label:"GRC"},{value:"HR",label:"HR"},{value:"EA",label:"EA"},{value:"EMPLOYEE_L1",label:"Employee (L1)"},{value:"EMPLOYEE_L2",label:"Employee (L2)"},{value:"EMPLOYEE_L3",label:"Employee (L3)"}],c=["Governance, Risk, and Compliance (GRC)","Research and Development (R&D)","Cyber Security Operations Center (CSOC)","Threat Intelligence (TI)"],s=new Map([["SUPER_ADMIN","SUPER_ADMIN"],["SUPERADMIN","SUPER_ADMIN"],["ADMIN","SUPER_ADMIN"],["GRC","GRC"],["HR","HR"],["EA","EA"],["EMPLOYEE","EMPLOYEE_L1"],["EMPLOYEE_L1","EMPLOYEE_L1"],["EMPLOYEE_L2","EMPLOYEE_L2"],["EMPLOYEE_L3","EMPLOYEE_L3"],["L1","EMPLOYEE_L1"],["L2","EMPLOYEE_L2"],["L3","EMPLOYEE_L3"]]),u={onboarding:{type:"onboarding",category:"Onboarding",stages:["Initiated","Document Verification","Access Provisioning","Activation"],checklist:[{id:"profile-intake",label:"Collect employee profile and contacts",required:!0,slaHours:12},{id:"contract-check",label:"Validate contract and onboarding requirements",required:!0,slaHours:24},{id:"account-activation",label:"Activate employee account",required:!0,slaHours:48}],approverRoles:["HR","GRC"],slaHours:72},"role-change":{type:"role-change",category:"Role Change",stages:["Initiated","Approval Review","Role Sync","Completed"],checklist:[{id:"movement-justification",label:"Attach role-change justification",required:!0,slaHours:24},{id:"effective-date-review",label:"Validate effective date and scope",required:!0,slaHours:24},{id:"permission-sync",label:"Apply role and permission sync",required:!0,slaHours:48}],approverRoles:["HR","GRC"],slaHours:96},disciplinary:{type:"disciplinary",category:"Disciplinary",stages:["Case Opened","Investigation","Decision","Closed"],checklist:[{id:"incident-report",label:"Record incident report",required:!0,slaHours:24},{id:"evidence-review",label:"Attach and review case evidence",required:!0,slaHours:48},{id:"decision-log",label:"Finalize disciplinary decision",required:!0,slaHours:72}],approverRoles:["HR","GRC"],slaHours:120},offboarding:{type:"offboarding",category:"Offboarding",stages:["Initiated","Clearance","Access Revocation","Archived"],checklist:[{id:"clearance-init",label:"Start employee clearance checklist",required:!0,slaHours:12},{id:"access-revoked",label:"Disable account and revoke access",required:!0,slaHours:24},{id:"archive-records",label:"Archive employee records",required:!0,slaHours:48}],approverRoles:["HR","GRC"],slaHours:72}},m=new Set(["SUPER_ADMIN","GRC","HR","EA"]),p=new Set(["EMPLOYEE_L1","EMPLOYEE_L2","EMPLOYEE_L3"]),y=new Set(["GRC","HR","EA","EMPLOYEE_L1","EMPLOYEE_L2","EMPLOYEE_L3"]),f={disciplinary:[{id:"incident-report",label:"Incident Report",keywords:["incident","report"]},{id:"notice-to-explain",label:"Notice to Explain / Written Explanation",keywords:["notice","explain","written explanation","explanation"]},{id:"decision-memo",label:"Decision Memo",keywords:["decision","memo"]}],offboarding:[{id:"resignation-termination",label:"Resignation / Termination Document",keywords:["resignation","termination","termination notice"]},{id:"clearance-form",label:"Clearance Form",keywords:["clearance"]},{id:"handover-exit",label:"Handover / Exit Checklist",keywords:["handover","exit checklist","exit interview","knowledge transfer"]}]},v=["Low","High"],w=["Open","Containment","Investigating","Escalated","Regulatory Review","Resolved","Closed"],g=["Not Started","In Progress","Contained"],E=["Pending","In Progress","Completed"],h=["Unauthorized Access","Data Exposure","Credential Compromise","Insider Misuse","Malware / Ransomware","Policy Violation","System Misconfiguration","Other"],A=new Set(["pdf","png","jpg","jpeg","webp","doc","docx","xls","xlsx","csv","txt"]),b=new Set(["application/pdf","image/png","image/jpeg","image/webp","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv","text/plain"]);function _(e,t){return String(process.env[e]||"").trim()||t}function I(e,t){let r=String(e||"").split(",").map(e=>String(e||"").trim().toLowerCase()).filter(Boolean);return new Set(0===r.length?[...t]:r)}function S(){return new Date().toISOString()}function C(){let e=Number.parseInt(String(process.env.CLIO_RETENTION_YEARS||"").trim(),10);return!Number.isFinite(e)||e<1?5:Math.min(e,25)}function L(e,t=""){return String(e??"").trim()||t}function N(e){return String(e||"").trim().toLowerCase()}function R(e){return String(e||"").trim().toLowerCase()}function B(e){return String(e||"").trim().toUpperCase().replace(/[^A-Z0-9]+/g,"_").replace(/^_+|_+$/g,"")}function k(e){let t=String(e||"").trim().toLowerCase();return l.has(t)?t:""}function O(e,t){let r=k(e);return r?"role"===r?B(t):String(t||"").trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""):""}function D(e){return[...e].sort((e,t)=>!!e?.isSystem!=!!t?.isSystem?e?.isSystem?-1:1:String(e?.label||"").localeCompare(String(t?.label||""),void 0,{sensitivity:"base"}))}function T(e){return Array.isArray(e)?e:[]}function x(e,t={}){return e&&"object"==typeof e&&!Array.isArray(e)?e:t}function M(e,t=!1){if("boolean"==typeof e)return e;if("number"==typeof e)return 0!==e;if("string"==typeof e){let r=e.trim().toLowerCase();if(!r)return t;if(["true","1","yes","y","on"].includes(r))return!0;if(["false","0","no","n","off"].includes(r))return!1}return t}function P(e,{actorEmail:t,now:r}={}){let a=R(t)||"system@gmail.com",i=L(r,S());return T(e).map((e,t)=>{let r=x(e,{}),n=L(r.uploadedAt,i),o=R(r.uploadedBy||a)||a,l=Number(r.sizeBytes);return{id:L(r.id),name:L(r.name,"Employee Document"),type:L(r.type,"General"),ref:L(r.ref),storagePath:L(r.storagePath),contentType:L(r.contentType),sizeBytes:Number.isFinite(l)&&l>=0?l:0,uploadedAt:n,uploadedBy:o,order:Number.isFinite(Number(r.order))?Number(r.order):t}}).filter(e=>e.ref||e.name)}async function F(e,{db:r}={}){let a=L(e);if(!a)return[];let i=r||en(),n=ea("employees"),o=ei();return(await (0,t.getDocs)((0,t.collection)(i,n,a,o))).docs.map((e,t)=>{let r=P([e.data()],{now:S()})[0];return r?{...r,id:e.id,recordId:e.id,order:Number.isFinite(Number(r.order))?Number(r.order):t}:null}).filter(Boolean).sort((e,t)=>{let r=new Date(e.uploadedAt||0).getTime(),a=new Date(t.uploadedAt||0).getTime();return Number.isFinite(r)&&Number.isFinite(a)&&a!==r?a-r:Number(e.order||0)-Number(t.order||0)})}async function q(e,{db:r}={}){let a=L(e);if(!a)return 0;let i=r||en(),n=ea("employees"),o=ei(),l=await (0,t.getDocs)((0,t.collection)(i,n,a,o)),d=0;for(let e of l.docs)await (0,t.deleteDoc)(e.ref),d+=1;return d}async function H(e,r,{actorEmail:a,db:i}={}){let n=L(e);if(!n)throw Error("invalid_record_id");let o=i||en(),l=ea("employees"),d=ei(),c=(0,t.collection)(o,l,n,d),s=P(r,{actorEmail:a,now:S()});await q(n,{db:o});let u=[];for(let e of s){let r={name:e.name,type:e.type,ref:e.ref,storagePath:e.storagePath,contentType:e.contentType,sizeBytes:e.sizeBytes,uploadedAt:e.uploadedAt,uploadedBy:e.uploadedBy,order:e.order},a=await (0,t.addDoc)(c,r);u.push({...r,id:a.id,recordId:a.id})}return u.sort((e,t)=>new Date(t.uploadedAt||0).getTime()-new Date(e.uploadedAt||0).getTime()).map((e,t)=>({...e,order:Number.isFinite(Number(e.order))?Number(e.order):t}))}function U(e,t=[]){let r=Array.isArray(t)?t:[];return{...e,documents:r,documentsCount:r.length}}async function Y(e,{db:t}={}){if(!e?.id)return[];let r=await F(e.id,{db:t});if(r.length>0)return r;let a=function(e,t=[]){return Array.isArray(t)&&t.length>0?t:P(e?.documents,{actorEmail:e?.updatedBy||e?.createdBy,now:e?.updatedAt||e?.createdAt||S()})}(e,[]);if(0===a.length)return[];let i=await H(e.id,a,{actorEmail:e.updatedBy||e.createdBy,db:t});return await j(e.id,{documentsCount:i.length,db:t}),i}async function j(e,{documentsCount:r,db:a}={}){let i=L(e);if(!i)return;let n=a||en(),o={documents:(0,t.deleteField)()};Number.isFinite(Number(r))&&(o.documentsCount=Math.max(0,Number(r))),await (0,t.updateDoc)((0,t.doc)(n,ea("employees"),i),o)}function $(e,t){let r=[],a=new Set,i=0,n=(e,t=!1)=>{let n=P([e],{actorEmail:e?.uploadedBy,now:e?.uploadedAt})[0];if(!n)return;let o=function(e){let t=L(e?.storagePath);if(t)return`path:${t}`;let r=L(e?.ref);return r?`ref:${r}`:`fallback:${L(e?.name)}|${Number.isFinite(Number(e?.sizeBytes))?Number(e.sizeBytes):0}|${L(e?.uploadedAt)}`}(n);!a.has(o)&&(a.add(o),r.push(n),t&&(i+=1))};return T(e).forEach(e=>n(e,!1)),T(t).forEach(e=>n(e,!0)),{merged:r,addedCount:i}}function G(e,t){let r=S();return P(T(e).map(e=>{let a=x(e,{});return{id:L(a.id),name:L(a.name,"Onboarding Document"),type:L(a.type,"Onboarding"),ref:L(a.ref),storagePath:L(a.storagePath),contentType:L(a.contentType),sizeBytes:Number.isFinite(Number(a.sizeBytes))?Number(a.sizeBytes):0,uploadedAt:L(a.uploadedAt,r),uploadedBy:L(a.uploadedBy,t)}}),{actorEmail:t,now:r})}async function V(e,t){if(!L(e?.category).toLowerCase().includes("onboarding"))return{synced:!1,addedCount:0};let r=R(e?.employeeEmail);if(!r)return{synced:!1,addedCount:0};let a=G(e?.evidence,t);if(0===a.length)return{synced:!1,addedCount:0};let i=(await eo(ea("employees"),{filterField:"email",filterValue:r}))[0];if(!i?.id)return{synced:!1,addedCount:0};let{merged:n,addedCount:o}=$(await Y(i),a);if(o<=0)return{synced:!1,addedCount:0};let l=await H(i.id,n,{actorEmail:t});return await j(i.id,{documentsCount:l.length}),{synced:!0,addedCount:o,documentsCount:l.length,employeeRecordId:i.id}}async function W(e,t){let r=R(e);return r?$([],(await eo(ea("lifecycle"),{filterField:"employeeEmail",filterValue:r})).filter(e=>L(e?.category).toLowerCase().includes("onboarding")).flatMap(e=>G(e?.evidence,t))).merged:[]}function z({firstName:e,middleName:t,lastName:r,suffix:a,fallback:i}){return(0,n.formatEmployeeName)({firstName:L(e),middleName:L(t),lastName:L(r),suffix:L(a),fallback:L(i),fallbackLabel:"Employee"})}function X(e,t){let r=Number.isFinite(Number(t))?Number(t):0,a=new Date(e||S());return Number.isNaN(a.getTime())?S():(a.setTime(a.getTime()+60*Math.max(0,r)*6e4),a.toISOString())}function J(e){return String(e||"").trim().toUpperCase().replace(/[^A-Z0-9_]+/g,"")}function K(e){let t=T(e);return 0===t.length?"Not Required":t.some(e=>"rejected"===N(e?.status))?"Rejected":t.length>0&&t.every(e=>"approved"===N(e?.status))?"Approved":"Pending"}function Z(e){let t=e.filter(e=>!1!==e.required),r=t.filter(e=>"completed"===N(e.status)).length,a=t.length;return{completedRequired:r,totalRequired:a,percent:0===a?0:Math.round(r/a*100)}}function Q(e,t){let r=Number.parseInt(String(e??""),10);return Number.isFinite(r)?Math.max(0,Math.min(r,Math.max(0,t-1))):0}function ee({actorRole:e,targetRole:t}){if(!t)return;let r=J(e),a=J(t);if("SUPER_ADMIN"!==r){if("GRC"===r){if("SUPER_ADMIN"===a)throw Error("forbidden_target_role");if(!y.has(a))throw Error("invalid_target_role");return}if("HR"===r||"EA"===r){if(!p.has(a))throw Error("forbidden_target_role");return}if(m.has(a))throw Error("forbidden_target_role");if(!p.has(a))throw Error("invalid_target_role")}}function et(e,t){let r=[...T(e),t];return r.length<=80?r:r.slice(r.length-80)}function er(e,t){return new Date(t.updatedAt||t.createdAt||0).getTime()-new Date(e.updatedAt||e.createdAt||0).getTime()}function ea(e){return({employees:_("CLIO_FIRESTORE_EMPLOYEES_COLLECTION","employees"),lifecycle:_("CLIO_FIRESTORE_LIFECYCLE_COLLECTION","employment_lifecycle"),attendance:_("CLIO_FIRESTORE_ATTENDANCE_COLLECTION","attendance"),leave:_("CLIO_FIRESTORE_LEAVE_COLLECTION","leave_requests"),performance:_("CLIO_FIRESTORE_PERFORMANCE_COLLECTION","performance_records"),templates:_("CLIO_FIRESTORE_TEMPLATES_COLLECTION","document_templates"),exports:_("CLIO_FIRESTORE_EXPORTS_COLLECTION","export_requests"),incidents:_("CLIO_FIRESTORE_INCIDENTS_COLLECTION","security_incidents"),settingsReference:_("CLIO_FIRESTORE_SETTINGS_REFERENCE_COLLECTION","settings_reference_data")})[e]||e}function ei(){return _("CLIO_FIRESTORE_EMPLOYEE_DOCUMENTS_SUBCOLLECTION","documents")}function en(){if(!(0,r.isFirestoreEnabled)())throw Error("firestore_not_configured");let e=(0,r.getFirestoreDb)();if(!e)throw Error("firestore_not_configured");return e}async function eo(e,{filterField:r,filterValue:a}={}){let i=en(),n=(0,t.collection)(i,e);return(r&&"string"==typeof a&&a.trim()?await (0,t.getDocs)((0,t.query)(n,(0,t.where)(r,"==",a.trim()))):await (0,t.getDocs)(n)).docs.map(e=>({...e.data(),id:e.id,recordId:e.id})).sort(er)}async function el(e,r){let a=en(),i=L(r);if(!i)throw Error("invalid_record_id");let n=(0,t.doc)(a,e,i),o=await (0,t.getDoc)(n);return o.exists()?{...o.data(),id:o.id,recordId:o.id}:null}async function ed(e,r){let a=en(),i=await (0,t.addDoc)((0,t.collection)(a,e),r);return{...r,id:i.id,recordId:i.id}}async function ec(e,r,a){let i=en(),n=L(r);if(!n)throw Error("invalid_record_id");let o=(0,t.doc)(i,e,n),l=await (0,t.getDoc)(o);if(!l.exists())return null;let d={...l.data()||{},...a};return await (0,t.updateDoc)(o,d),{...d,id:l.id,recordId:l.id}}async function es(e,r,a,i){let n=en(),o=L(a);if(!o)return 0;let l=await (0,t.getDocs)((0,t.query)((0,t.collection)(n,e),(0,t.where)(r,"==",o))),d=0;for(let r of l.docs){let a=i(r.data()||{},r.id);a&&"object"==typeof a&&0!==Object.keys(a).length&&(await (0,t.updateDoc)((0,t.doc)(n,e,r.id),a),d+=1)}return d}async function eu(e,r){let a=en(),i=L(r);if(!i)throw Error("invalid_record_id");let n=(0,t.doc)(a,e,i),o=await (0,t.getDoc)(n);return o.exists()?(await (0,t.deleteDoc)(n),{...o.data(),id:o.id,recordId:o.id}):null}function em(e,t){let r=k(t||e?.kind);if(!r)return null;let a=L(e?.value||e?.label),i=L(e?.label||e?.value),n=a||i,o=i||a,l=O(r,n||o);return n&&o&&l?{id:L(e?.id||e?.recordId),kind:r,key:l,value:n,label:o,isSystem:!!e?.isSystem,createdAt:L(e?.createdAt),updatedAt:L(e?.updatedAt)}:null}async function ep(){let e=ea("settingsReference"),t={roles:d.map(e=>{let t=L(e.value),r=L(e.label,t),a=O("role",t||r);return{id:`system-role-${a}`,kind:"role",key:a,value:t,label:r,isSystem:!0,createdAt:"",updatedAt:""}}),departments:c.map(e=>{let t=L(e),r=O("department",t);return{id:`system-department-${r}`,kind:"department",key:r,value:t,label:t,isSystem:!0,createdAt:"",updatedAt:""}})},r=(await eo(e)).slice(0,256),a=new Map(t.roles.map(e=>[e.key,e])),i=new Map(t.departments.map(e=>[e.key,e]));return r.forEach(e=>{let t=em(e);if(t){if("role"===t.kind){a.has(t.key)||a.set(t.key,t);return}i.has(t.key)||i.set(t.key,t)}}),{roles:D([...a.values()]),departments:D([...i.values()])}}async function ey({kind:e,label:t},r){let a=k(e);if(!a)throw Error("invalid_reference_kind");let i=String(t||"").trim().replace(/\s+/g," ");if(!i||i.length>72)throw Error("invalid_reference_label");let n=O(a,i);if(!n)throw Error("invalid_reference_label");let o=await ep();if(("role"===a?o.roles:o.departments).some(e=>e.key===n))throw Error("duplicate_reference_value");let l=S(),d=em(await ed(ea("settingsReference"),{kind:a,key:n,value:i,label:i,isSystem:!1,createdAt:l,createdBy:r,updatedAt:l,updatedBy:r}),a);if(!d)throw Error("invalid_reference_label");return d}async function ef({kind:e,recordId:t}){let r=k(e);if(!r)throw Error("invalid_reference_kind");let a=L(t);if(!a||a.startsWith("system-"))throw Error("immutable_reference_item");let i=await el(ea("settingsReference"),a);if(!i)return null;let n=k(i.kind);if(!n||n!==r||!0===i.isSystem)throw Error("immutable_reference_item");return em(await eu(ea("settingsReference"),a),r)}function ev(e,t,{base:r}={}){let a=S(),i=R(e?.email||r?.email);if(!i)throw Error("invalid_employee_email");let n=x(r?.governmentIds,{}),o=x(e?.governmentIds,{}),l={...n,...o},d=x(r?.payrollInformation,{}),c=x(e?.payrollInformation,{}),s={...d,...c},u=R(e?.managerEmail||r?.managerEmail),m=L(e?.contact,L(r?.contact,"-")),p=L(e?.address,L(r?.address,"-")),y=L(e?.emergencyContact,L(r?.emergencyContact,"-")),f=L(e?.govId,L(r?.govId,"Masked")),v=L(e?.firstName,L(r?.firstName,"")),w=L(e?.middleName,L(r?.middleName,"")),g=L(e?.lastName,L(r?.lastName,"")),E=L(e?.suffix,L(r?.suffix,"")),h=z({firstName:v,middleName:w,lastName:g,suffix:E,fallback:L(e?.name,L(r?.name,i))||i});l.primaryId||(l.primaryId=f);let A=Object.prototype.hasOwnProperty.call(x(e,{}),"documents")?T(e?.documents):null,b=Number(r?.documentsCount),_=Number.isFinite(b)?Math.max(0,b):T(r?.documents).length,I=A?A.length:_;return{employeeId:L(e?.employeeId,L(r?.employeeId,`CL-${Date.now().toString().slice(-6)}`)),name:h,firstName:v,middleName:w,lastName:g,suffix:E,email:i,role:L(e?.role,L(r?.role,"EMPLOYEE_L1")),department:L(e?.department,L(r?.department,"-")),jobTitle:L(e?.jobTitle,L(r?.jobTitle,"-")),managerEmail:u,hireDate:L(e?.hireDate,L(r?.hireDate,"")),employmentStatus:L(e?.employmentStatus,L(r?.employmentStatus,"Active Employee")),status:L(e?.status,L(r?.status,"Active")),governmentIds:l,govId:f,contact:m,address:p,emergencyContact:y,contactInformation:{primaryPhone:m,address:p,emergencyContact:y},payrollInformation:s,payrollGroup:L(e?.payrollGroup,L(r?.payrollGroup,"-")),documentsCount:I,classification:"Restricted PII",createdAt:L(r?.createdAt,a),createdBy:L(r?.createdBy,t),updatedAt:a,updatedBy:t,activityHistory:et(r?.activityHistory,{at:a,by:t,action:r?"update":"create"})}}async function ew({ownerEmail:e,includeDocuments:t=!1}={}){let r=await eo(ea("employees"),{filterField:e?"email":void 0,filterValue:e?R(e):void 0});return t?await Promise.all(r.map(async e=>{let t=await Y(e);return U(e,t)})):r}async function eg(e,{includeDocuments:t=!0}={}){let r=await el(ea("employees"),e);if(!r||!t)return r;let a=await Y(r);if(0===a.length){let e=await W(r.email,r.updatedBy||r.createdBy);e.length>0&&(a=await H(r.id,e,{actorEmail:r.updatedBy||r.createdBy}),await j(r.id,{documentsCount:a.length}))}return U(r,a)}async function eE(e,t){let r=ev(e,t),a=await ed(ea("employees"),r),i=T(e?.documents);if(0===i.length)return U(a,[]);let n=await H(a.id,i,{actorEmail:t});return await j(a.id,{documentsCount:n.length}),U(a,n)}async function eh(e,t,r){let a=await eg(e,{includeDocuments:!0});if(!a)return null;let i=Object.prototype.hasOwnProperty.call(x(t,{}),"documents")?T(t?.documents):null,n=ev(t,r,{base:a}),o=await ec(ea("employees"),e,n);if(!o)return null;if(i){let t=await H(e,i,{actorEmail:r});return await j(e,{documentsCount:t.length}),U(o,t)}let l=await Y(o);return U(o,l)}async function eA(e){return await q(e),await eu(ea("employees"),e)}function eb(e,t,r,{base:a}={}){let i,n,o,l=S(),d=L(e?.category,L(a?.category,"Onboarding")),c=R(e?.employeeEmail||a?.employeeEmail);if(!c)throw Error("invalid_employee_email");let s=x(a?.details,{}),m=x(e?.details,{}),p={...s,...m},y=u[!(i=String(d||"").trim().toLowerCase())?"onboarding":i.includes("role")||i.includes("promotion")?"role-change":i.includes("disciplin")?"disciplinary":i.includes("offboard")||i.includes("resign")||i.includes("terminate")?"offboarding":(i.includes("onboard"),"onboarding")]||u.onboarding,v=x(a?.workflow,{}),w=x(e?.workflow,{}),g=function({template:e,baseWorkflow:t,requiredApprovers:r,atIso:a,actorEmail:i}){var n,o;let l,d,c=function(e,{atIso:t}){return T(e?.checklist).slice(0,32).map((e,r)=>{let a=L(e?.id,`task-${r+1}`),i=Number.parseInt(String(e?.slaHours||""),10);return{id:a,label:L(e?.label,a),required:e?.required!==!1,status:"Pending",dueAt:X(t,Number.isFinite(i)&&i>0?i:24),completedAt:"",completedBy:""}})}(e,{atIso:a}),s=(n=t?.checklist,l=new Map,T(n).forEach(e=>{let t=L(e?.id);t&&l.set(t,e)}),c.map(e=>{let t=l.get(e.id);return t?{...e,status:L(t.status,e.status),dueAt:L(t.dueAt,e.dueAt),completedAt:L(t.completedAt),completedBy:L(t.completedBy)}:e})),u=(o=t?.approvalChain,d=new Map,T(o).forEach(e=>{let t=J(e?.role);t&&d.set(t,e)}),r.map((e,t)=>{let r=d.get(e);return{order:t+1,role:e,status:L(r?.status,"Pending"),decidedAt:L(r?.decidedAt),decidedBy:L(r?.decidedBy),note:L(r?.note)}})),m=T(e?.stages).map(e=>L(e)).filter(Boolean),p=Q(t?.stageIndex??0,m.length),y=L(m[p],"Initiated"),f=et(t?.stageHistory,{at:a,by:i,stage:y}),v=Z(s);return{type:L(e?.type,"onboarding"),stageIndex:p,stage:y,stages:m,checklist:s,stageHistory:f,approvalChain:u,approvalState:K(u),progress:v,slaDueAt:L(t?.slaDueAt,X(a,Number.parseInt(String(e?.slaHours||72),10))),slaBreached:!1,updatedAt:a}}({template:y,baseWorkflow:{...v,...w},requiredApprovers:[],atIso:l,actorEmail:t}),E=e?.workflowAction&&"object"==typeof e.workflowAction?e.workflowAction:null,h=function({workflow:e,evidence:t,action:r,actorEmail:a,atIso:i}){let n={...e,checklist:T(e.checklist).map(e=>({...e})),stageHistory:T(e.stageHistory).map(e=>({...e}))},o=T(t).map(e=>({...e})),l=N(r?.type);if(!l)return{workflow:n,evidence:o};if("toggle-task"===l){let e=L(r?.taskId);if(!e)throw Error("invalid_workflow_action");let t=!1;if(n.checklist=n.checklist.map(n=>{if(n.id!==e)return n;t=!0;let o=!!r?.completed;return{...n,status:o?"Completed":"Pending",completedAt:o?i:"",completedBy:o?a:""}}),!t)throw Error("invalid_workflow_action")}else if("set-stage"===l){let e=Q(r?.stageIndex,T(n.stages).length),t=L(n.stages?.[e],n.stage);n.stageIndex=e,n.stage=t,n.stageHistory=et(n.stageHistory,{at:i,by:a,stage:t,action:"stage-update"})}else if("add-evidence"===l){let e=x(r?.evidence,null);if(!e)throw Error("invalid_workflow_action");o=[...o,{id:L(e.id,`evidence-${Date.now()}-${Math.random().toString(36).slice(2,8)}`),name:L(e.name,"Evidence File"),ref:L(e.ref),storagePath:L(e.storagePath),contentType:L(e.contentType),sizeBytes:Number.isFinite(Number(e.sizeBytes))?Number(e.sizeBytes):0,uploadedAt:L(e.uploadedAt,i),uploadedBy:L(e.uploadedBy,a),note:L(e.note)}].slice(-80)}else if("remove-evidence"===l){let e=L(r?.evidenceId);if(!e)throw Error("invalid_workflow_action");o=o.filter(t=>L(t?.id)!==e)}else throw Error("invalid_workflow_action");let d=Z(n.checklist);return n.progress=d,n.updatedAt=i,n.slaBreached=!!n.slaDueAt&&new Date(n.slaDueAt).getTime()<new Date(i).getTime()&&d.completedRequired<d.totalRequired,{workflow:n,evidence:o}}({workflow:g,evidence:T(a?.evidence),action:E,actorEmail:t,atIso:l}),A=Z(h.workflow.checklist);h.workflow.progress=A,h.workflow.slaBreached=!!h.workflow.slaDueAt&&new Date(h.workflow.slaDueAt).getTime()<new Date(l).getTime()&&A.completedRequired<A.totalRequired,h.workflow.approvalState=K(h.workflow.approvalChain);let b=L(e?.status,L(a?.status,"In Progress")),_=L(y.type,"onboarding"),I=N(E?.type),C=function(e,t=[]){let r=T(f[N(e)]);if(0===r.length)return{required:[],matched:[],missing:[],complete:!0};let a=T(t).map(e=>{let t=x(e,{});return N([t.name,t.type,t.note].filter(Boolean).join(" "))}),i=[],n=[];return r.forEach(e=>{let t=T(e?.keywords).map(e=>N(e)).filter(Boolean),r=a.some(e=>t.some(t=>e.includes(t))),o={id:L(e?.id),label:L(e?.label)};r?i.push(o):n.push(o)}),{required:r.map(e=>({id:L(e?.id),label:L(e?.label)})),matched:i,missing:n,complete:0===n.length}}(_,h.evidence);if(n=N(_),o=N(b),n&&o&&("disciplinary"===n?o.includes("approved")||o.includes("completed"):"offboarding"===n&&(o.includes("approved")||o.includes("completed")||o.includes("access revoked")||o.includes("revoked")||o.includes("resign")||o.includes("terminated")))&&C.missing.length>0&&"add-evidence"!==I)throw Error("lifecycle_required_evidence_missing");return{employeeEmail:c,employee:L(e?.employee,L(a?.employee,c||"Unknown Employee")),category:d,workflowType:_,owner:L(e?.owner,L(a?.owner,"HR Operations")),details:p,evidence:h.evidence,requiredEvidence:C,workflow:h.workflow,status:b,createdAt:L(a?.createdAt,l),createdBy:L(a?.createdBy,t),updatedAt:l,updatedBy:t,traceability:et(a?.traceability,{at:l,by:t,action:a?"update":"create",category:d,status:b,stage:h.workflow.stage,checklistProgress:h.workflow.progress.percent,approvalState:h.workflow.approvalState})}}async function e_(e,t,r,{requestOrigin:n=""}={}){let o=R(e?.employeeEmail);if(!o)throw Error("invalid_employee_email");let l=await (0,a.getLoginAccount)(o).catch(()=>null);if("active"===L(l?.status).toLowerCase())return{type:"onboarding-invite-skipped",message:"User account is already active. Invite was not reissued.",accountStatus:"active"};let d=function(e){let t=x(e?.details,{}),r=L(t?.roleTo||t?.role||t?.roleFrom);if(!r)return"EMPLOYEE_L1";let a=B(r);return a&&(s.get(a)||a)||"EMPLOYEE_L1"}(e);ee({actorRole:r,targetRole:d});let c=await (0,a.inviteUserAccount)({email:o,role:d,invitedBy:t}),u=function(e,t=!1){let r=String(process.env[e]||"").trim().toLowerCase();return r?"true"===r||"1"===r||"yes"===r:t}("CLIO_REQUIRE_EMAIL_DELIVERY",!0),m=null;try{m=await (0,i.deliverInviteEmail)({toEmail:c.user.email,role:c.user.role,invitedBy:t,expiresAt:c.invite.expiresAt,inviteToken:c.invite.token,requestOrigin:n})}catch(r){let e,t=(e=String((r instanceof Error?r.message:"email_delivery_failed")||"").trim()).startsWith("email_delivery_failed:")?{code:"email_delivery_failed",providerMessage:e.slice(22).trim()}:{code:e||"email_delivery_failed",providerMessage:""};if(u)throw await (0,a.revokeInviteById)(c.invite.id).catch(()=>null),Error(t.code||"email_delivery_failed");m={provider:"unavailable",status:"failed",messageId:null,reason:t.code||"email_delivery_failed",providerMessage:t.providerMessage||null}}return{type:"onboarding-invite",message:m?.status==="failed"?"Onboarding invite was created. Email delivery failed in test mode.":m?.provider==="firebase"?"Onboarding invite sent via Firebase email-link template. User must verify email to open the CLIO account, then complete SMS OTP.":"Onboarding invite sent. User must verify email to open the CLIO account, then complete SMS OTP.",inviteId:c.invite.id,inviteStatus:c.invite.status,role:c.user.role,deliveryProvider:m?.provider||"unknown",deliveryStatus:m?.status||"unknown"}}function eI(e){let t=x(e?.details,{}),r=L(t?.roleTo);if(!r)return"";let a=B(r);return s.get(a)||""}function eS(e,{actorEmail:t,archivedAt:r,reason:a,retentionDeleteAt:i,trailField:n}){let o={isArchived:!0,archivedAt:r,archivedBy:t,archiveReason:a,retentionDeleteAt:i,updatedAt:r,updatedBy:t};return n&&(o[n]=et(e?.[n],{at:r,by:t,action:"archive",reason:a})),o}async function eC(e,t){let r=R(e?.employeeEmail);if(!r)throw Error("invalid_employee_email");let i=eI(e);if(!i)throw Error("invalid_target_role");ee({actorRole:t,targetRole:i});let n=await (0,a.updateUserAccountRole)({userId:r,role:i});if(!n)throw Error("role_sync_failed");return n}async function eL(e,t,r){let a=R(e?.employeeEmail);if(!a)throw Error("invalid_employee_email");let i=eI(e);if(!i)throw Error("invalid_target_role");ee({actorRole:r,targetRole:i});let n=x(e?.details,{}),o=L(n?.departmentTo),l=S();return await es(ea("employees"),"email",a,e=>{let r={role:i,updatedAt:l,updatedBy:t,activityHistory:et(e?.activityHistory,{at:l,by:t,action:"lifecycle-role-sync",role:i})};return o&&(r.department=o),r})}async function eN(e){let t=R(e);if(!t)throw Error("invalid_employee_email");let r=await (0,a.updateUserAccountStatus)({userId:t,status:"disabled"});if(!r)throw Error("employee_account_not_found");if("disabled"!==L(r.status).toLowerCase())throw Error("access_revocation_failed");return r}async function eR(e){let t=R(e);if(!t)throw Error("invalid_employee_email");let r=await (0,a.updateUserAccountStatus)({userId:t,status:"active"});if(!r)throw Error("employee_account_not_found");if("active"!==L(r.status).toLowerCase())throw Error("account_activation_failed");return r}async function eB(e,t){let r=R(e?.employeeEmail);if(!r)throw Error("invalid_employee_email");let a=x(e?.details,{}),i=L(a?.employeeId||a?.employeeNumber),n=L(a?.firstName),o=L(a?.middleName),l=L(a?.lastName),d=L(a?.suffix),c=L(a?.startDate),u=B(L(a?.roleTo||a?.role||a?.roleFrom)),m=s.get(u)||u||"EMPLOYEE_L1",p=L(a?.departmentTo||a?.department),y=z({firstName:n,middleName:o,lastName:l,suffix:d,fallback:L(e?.employee,r)}),f=S(),v=await es(ea("employees"),"email",r,e=>{let r={status:"Active",employmentStatus:"Active Employee",isArchived:!1,updatedAt:f,updatedBy:t,activityHistory:et(e?.activityHistory,{at:f,by:t,action:"lifecycle-onboarding-sync",status:"Active"})};return i&&(r.employeeId=i),n&&(r.firstName=n),o&&(r.middleName=o),l&&(r.lastName=l),d&&(r.suffix=d),y&&(r.name=y),p&&(r.department=p),r.role=m,c&&(r.hireDate=c),r});if(v>0)return v;let w=ev({employeeId:i,email:r,name:y,firstName:n,middleName:o,lastName:l,suffix:d,role:m||"EMPLOYEE_L1",department:p||"-",hireDate:c||"",status:"Active",employmentStatus:"Active Employee"},t);return await ed(ea("employees"),w),1}async function ek(e,t){let r=R(e?.employeeEmail);if(!r)throw Error("invalid_employee_email");let i=S(),n=function(e,t){let r=new Date(e);if(Number.isNaN(r.getTime())){let e=new Date;return e.setUTCFullYear(e.getUTCFullYear()+t),e.toISOString()}return r.setUTCFullYear(r.getUTCFullYear()+t),r.toISOString()}(i,C()),o=function(e){let t=x(e?.details,{}),r=L(t?.offboardingReason||t?.reason||t?.note);if(r)return r;let a=L(e?.category),i=L(e?.status);return a||i?[a,i].filter(Boolean).join(" - "):"Resigned"}(e),l=await (0,a.archiveUserAccount)({userId:r,archivedBy:t,reason:o,retentionDeleteAt:n}),d=await es(ea("employees"),"email",r,e=>({...eS(e,{actorEmail:t,archivedAt:i,reason:o,retentionDeleteAt:n,trailField:"activityHistory"}),status:"Archived",employmentStatus:"Resigned"})),c=await es(ea("lifecycle"),"employeeEmail",r,e=>({...eS(e,{actorEmail:t,archivedAt:i,reason:o,retentionDeleteAt:n,trailField:"traceability"}),archiveStatus:"Archived"})),s=await es(ea("attendance"),"employeeEmail",r,e=>({...eS(e,{actorEmail:t,archivedAt:i,reason:o,retentionDeleteAt:n,trailField:"modificationTrail"}),archiveStatus:"Archived"})),u=await es(ea("leave"),"employeeEmail",r,e=>({...eS(e,{actorEmail:t,archivedAt:i,reason:o,retentionDeleteAt:n,trailField:"modificationTrail"}),archiveStatus:"Archived"})),m=await es(ea("performance"),"employeeEmail",r,e=>({...eS(e,{actorEmail:t,archivedAt:i,reason:o,retentionDeleteAt:n,trailField:"traceability"}),archiveStatus:"Archived"})),p=await es(ea("exports"),"requestedBy",r,e=>({...eS(e,{actorEmail:t,archivedAt:i,reason:o,retentionDeleteAt:n,trailField:"history"}),archiveStatus:"Archived"}));return{archivedAt:i,retentionDeleteAt:n,reason:o,userStatus:l?.status||"disabled",counts:{employees:d,lifecycle:c,attendance:s,leave:u,performance:m,exports:p}}}async function eO(e,t,r){let a,i,n,o,l,d,c,s,u,m,p,y,f,v,w,g=[];if(a=L(e?.category).toLowerCase(),i=L(e?.status).toLowerCase(),n=!!R(e?.employeeEmail),o=a.includes("onboarding"),l=i.includes("approved")||i.includes("completed"),n&&o&&l){let r=await eR(e.employeeEmail),a=await eB(e,t);g.push({type:"onboarding-activation",message:"User account and employee profile activated.",accountStatus:r?.status||"active",employeeRecordsUpdated:a})}if(d=L(e?.category).toLowerCase(),c=L(e?.status).toLowerCase(),s=d.includes("role change")||d.includes("promotion"),u=c.includes("approved")||c.includes("completed"),s&&u){let a=await eL(e,t,r),i=await eC(e,r);g.push({type:"role-sync",message:`Role synchronized to ${i?.role||"target role"}.`,role:i?.role||null,employeeRecordsUpdated:a})}if(m=L(e?.category).toLowerCase(),p=L(e?.status).toLowerCase(),m.includes("offboarding")||p.includes("resign")||p.includes("terminated")||p.includes("access revoked")){let t=await eN(e.employeeEmail);g.push({type:"access-revocation",message:"User account access revoked.",accountStatus:t?.status||"disabled"})}if(y=L(e?.category).toLowerCase(),v=(f=L(e?.status).toLowerCase()).includes("resign")||f.includes("terminated")||f.includes("access revoked"),w=y.includes("offboarding")&&(f.includes("approved")||f.includes("completed")||f.includes("revoked")),v||w){let r=await ek(e,t);g.push({type:"archive-policy",message:`Employee data archived until ${r.retentionDeleteAt}.`,retentionDeleteAt:r.retentionDeleteAt,archivedAt:r.archivedAt,counts:r.counts})}return g}async function eD(){return await eo(ea("lifecycle"))}async function eT(e){return await el(ea("lifecycle"),e)}async function ex(e,t,r="",{requestOrigin:a=""}={}){let i,n=eb(e,t,r),o=[];if(i=L(n?.category).toLowerCase(),R(n?.employeeEmail)&&i.includes("onboarding")){let e=await e_(n,t,r,{requestOrigin:a});e&&o.push(e)}let l=await eO(n,t,r);o.push(...l);let d=await ed(ea("lifecycle"),{...n,lastAutomationEffects:o,lastAutomationAt:S(),lastAutomationBy:t});return await V(d,t).catch(()=>null),{record:d,effects:o}}async function eM(e,t,r,a=""){let i=await eT(e);if(!i)return null;let n=eb(t,r,a,{base:i}),o=await eO(n,r,a),l=await ec(ea("lifecycle"),e,{...n,lastAutomationEffects:o,lastAutomationAt:S(),lastAutomationBy:r});return await V(l,r).catch(()=>null),{record:l,effects:o}}async function eP(e,t,r,a=""){return await eM(e,{category:"Offboarding",status:"Access Revoked",details:{offboardingReason:L(r,"Resignation")}},t,a)}function eF(e,t,{base:r}={}){let a=S(),i=R(e?.employeeEmail||r?.employeeEmail);if(!i)throw Error("invalid_employee_email");let n={employeeEmail:i,employee:L(e?.employee,L(r?.employee,i)),date:L(e?.date,L(r?.date,a.slice(0,10))),checkIn:L(e?.checkIn,L(r?.checkIn,"-")),checkOut:L(e?.checkOut,L(r?.checkOut,"-")),status:L(e?.status,L(r?.status,"Recorded")),reason:L(e?.reason,L(r?.reason,"")),createdAt:L(r?.createdAt,a),createdBy:L(r?.createdBy,t),updatedAt:a,updatedBy:t};return n.modificationTrail=et(r?.modificationTrail,{at:a,by:t,action:r?"update":"create",status:n.status,checkIn:n.checkIn,checkOut:n.checkOut,reason:n.reason}),n}function eq(e,t,{base:r}={}){let a=S(),i=R(e?.employeeEmail||r?.employeeEmail);if(!i)throw Error("invalid_employee_email");let n=L(e?.status,L(r?.status,"Pending")),o={employeeEmail:i,employee:L(e?.employee,L(r?.employee,i)),leaveType:L(e?.leaveType,L(r?.leaveType,"Leave")),startDate:L(e?.startDate,L(r?.startDate,"")),endDate:L(e?.endDate,L(r?.endDate,"")),reason:L(e?.reason,L(r?.reason,"")),status:n,approver:L(e?.approver,L(r?.approver,"")),approvalNote:L(e?.approvalNote,L(r?.approvalNote,"")),createdAt:L(r?.createdAt,a),createdBy:L(r?.createdBy,t),updatedAt:a,updatedBy:t};return o.modificationTrail=et(r?.modificationTrail,{at:a,by:t,action:r?"update":"create",status:n,leaveType:o.leaveType}),o}async function eH({ownerEmail:e}={}){return await eo(ea("attendance"),{filterField:e?"employeeEmail":void 0,filterValue:e?R(e):void 0})}async function eU(e){return await el(ea("attendance"),e)}async function eY(e,t){let r=eF(e,t);return await ed(ea("attendance"),r)}async function ej(e,t,r){let a=await eU(e);if(!a)return null;let i=eF(t,r,{base:a});return await ec(ea("attendance"),e,i)}async function e$({ownerEmail:e}={}){return await eo(ea("leave"),{filterField:e?"employeeEmail":void 0,filterValue:e?R(e):void 0})}async function eG(e){return await el(ea("leave"),e)}async function eV(e,t){let r=eq(e,t);return await ed(ea("leave"),r)}async function eW(e,t,r){let a=await eG(e);if(!a)return null;let i=eq(t,r,{base:a});return await ec(ea("leave"),e,i)}function ez(e,t,{base:r}={}){let a=S(),i=R(e?.employeeEmail||r?.employeeEmail);if(!i)throw Error("invalid_employee_email");return{employeeEmail:i,employee:L(e?.employee,L(r?.employee,i)),period:L(e?.period,L(r?.period,"")),kpiScore:L(e?.kpiScore,L(r?.kpiScore,"")),evaluationForm:e?.evaluationForm??r?.evaluationForm??{},reviewHistory:T(e?.reviewHistory??r?.reviewHistory),promotionJustification:L(e?.promotionJustification,L(r?.promotionJustification,"")),reviewer:L(e?.reviewer,L(r?.reviewer,"")),rating:L(e?.rating,L(r?.rating,"")),status:L(e?.status,L(r?.status,"Draft")),createdAt:L(r?.createdAt,a),createdBy:L(r?.createdBy,t),updatedAt:a,updatedBy:t,traceability:et(r?.traceability,{at:a,by:t,action:r?"update":"create",period:L(e?.period,L(r?.period,""))})}}async function eX({ownerEmail:e}={}){return await eo(ea("performance"),{filterField:e?"employeeEmail":void 0,filterValue:e?R(e):void 0})}async function eJ(e){return await el(ea("performance"),e)}async function eK(e,t){let r=ez(e,t);return await ed(ea("performance"),r)}async function eZ(e,t,r){let a=await eJ(e);if(!a)return null;let i=ez(t,r,{base:a});return await ec(ea("performance"),e,i)}function eQ(e,t,{base:r}={}){let a=S(),i=L(e?.version,L(r?.version,"v1.0")),n=L(e?.templateName,L(r?.templateName));if(!n)throw Error("invalid_template_name");let o=r?{version:L(r.version,"v1.0"),changedAt:a,changedBy:t,note:L(e?.changeNote,"Template updated")}:null,l=T(r?.versionHistory),d=o?et(l,o):l,c=et(r?.modificationLog,{at:a,by:t,action:r?"update":"upload",version:i});return{templateName:n,category:L(e?.category,L(r?.category,"HR Template")),classification:L(e?.classification,L(r?.classification,"Restricted PII")),documentType:L(e?.documentType,L(r?.documentType,"Template")),tags:T(e?.tags??r?.tags),version:i,status:L(e?.status,L(r?.status,"Active")),contentRef:L(e?.contentRef,L(r?.contentRef,"")),acknowledgments:T(e?.acknowledgments??r?.acknowledgments),usageLogs:T(e?.usageLogs??r?.usageLogs),versionHistory:d,modificationLog:c,createdAt:L(r?.createdAt,a),createdBy:L(r?.createdBy,t),updatedAt:a,updatedBy:t}}async function e0(){return await eo(ea("templates"))}async function e1(e){return await el(ea("templates"),e)}async function e2(e,t){let r=eQ(e,t);return await ed(ea("templates"),r)}async function e3(e,t,r){let a=await e1(e);if(!a)return null;let i=eQ(t,r,{base:a});return await ec(ea("templates"),e,i)}async function e4(e,t){let r=await e1(e);return r?await ec(ea("templates"),e,{...r,status:"Archived",archivedAt:S(),archivedBy:t,updatedAt:S(),updatedBy:t,modificationLog:et(r.modificationLog,{at:S(),by:t,action:"archive",version:L(r.version,"v1.0")})}):null}function e8(e,t,{base:r}={}){let a=S(),i=L(e?.dataset,L(r?.dataset,"Employee Dataset"));if(!i)throw Error("invalid_export_dataset");let n=L(e?.format,L(r?.format,"CSV")).toUpperCase(),o=R(e?.requestedBy||r?.requestedBy||t),l=L(e?.scope,L(r?.scope,"full")),d=L(e?.status,L(r?.status,"Pending"));return{dataset:i,format:n,requestedBy:o,scope:l,estimateVolume:L(e?.estimateVolume,L(r?.estimateVolume,"0")),justification:L(e?.justification,L(r?.justification)),status:d,reviewer:L(e?.reviewer,L(r?.reviewer,"")),reviewNote:L(e?.reviewNote,L(r?.reviewNote,"")),reviewedAt:L(e?.reviewedAt,L(r?.reviewedAt,"")),exportedAt:L(e?.exportedAt,L(r?.exportedAt,"")),exportedBy:L(e?.exportedBy,L(r?.exportedBy,"")),alert:L(e?.alert,L(r?.alert,"")),createdAt:L(r?.createdAt,a),createdBy:L(r?.createdBy,t),updatedAt:a,updatedBy:t,history:et(r?.history,{at:a,by:t,action:r?"update":"create",status:d})}}async function e6({ownerEmail:e}={}){return await eo(ea("exports"),{filterField:e?"requestedBy":void 0,filterValue:e?R(e):void 0})}async function e5(e){return await el(ea("exports"),e)}async function e7(e,t){let r=e8(e,t);return await ed(ea("exports"),r)}async function e9(e,t,r){let a=await e5(e);if(!a)return null;let i=e8(t,r,{base:a});return await ec(ea("exports"),e,i)}async function te(e,t,{approved:r,note:a}={}){return await e9(e,{status:r?"Approved":"Rejected",reviewer:t,reviewNote:L(a,""),reviewedAt:S()},t)}async function tt(e,t){return await e9(e,{status:"Exported",exportedBy:t,exportedAt:S()},t)}function tr(e,t="Low"){let r=L(e,t).toLowerCase();return"critical"===r?"High":"medium"===r?"Low":v.find(e=>e.toLowerCase()===r)||"Low"}function ta(e){return+("High"===tr(e))}async function ti(e,{limit:t}={}){let r=S(),a=tf(e?.forensicWindowStart||e?.detectedAt)||r,i=tf(e?.forensicWindowEnd||r)||r,n=ty(a)||0,l=ty(i)||Date.now(),d=R(e?.affectedEmployeeEmail||e?.employeeEmail||""),c=Number.isFinite(Number(t))?Number(t):1800,s=[];try{s=await (0,o.listAuditEvents)({limit:Math.max(100,Math.min(5e3,c))})}catch{s=[]}let u=s.filter(e=>{let t=ty(e?.occurredAt||e?.loggedAt);if(!Number.isFinite(t)||t<n||t>l)return!1;let r=R(d);if(!r)return!0;let a=x(e?.metadata,{});return[e?.performedBy,e?.performedByEmail,a.employeeEmail,a.ownerEmail,a.requestedBy,a.targetEmployeeEmail,a.affectedEmployeeEmail].some(e=>R(e)===r)}),m=[],p=[],y=[],f=[];return u.forEach(e=>{let t,r,a,i,n,o,l,d,c,s,u,v=(t=x(e?.metadata,{}),{id:L(e?.id),activityName:L(e?.activityName),module:L(e?.module),status:L(e?.status),occurredAt:L(e?.occurredAt),performedBy:L(e?.performedBy),requestMethod:L(e?.requestMethod),requestPath:L(e?.requestPath),sourceIp:L(e?.sourceIp||t?.sourceIp),userAgent:L(e?.userAgent||t?.userAgent),device:L(t?.device||""),recordRef:L(t?.recordRef||t?.recordId),resourceLabel:L(t?.resourceLabel),employeeEmail:L(t?.employeeEmail),targetEmployeeEmail:L(t?.targetEmployeeEmail||t?.affectedEmployeeEmail),viewedFields:T(t?.viewedFields,[]),viewedFieldCount:Number(t?.viewedFieldCount||0),accessedDocuments:T(t?.accessedDocuments,[]),accessedDocumentCount:Number(t?.accessedDocumentCount||0),updatedFields:T(t?.updatedFields,[]),changedFields:T(t?.changedFields,[])});(r=N(e?.requestMethod),a=N(e?.activityName),"delete"===r||a.includes("delete")||a.includes("purge")||a.includes("removed")||a.includes("archive"))?f.push(v):(i=N(e?.module),n=N(e?.requestPath),o=N(e?.activityName),i.includes("export")||n.includes("/api/hris/exports")||o.includes("export"))?p.push(v):(l=N(e?.module),d=N(e?.requestMethod),c=N(e?.activityName),l.includes("authorization")||l.includes("user management")||l.includes("access management")||"patch"===d||"post"===d||c.includes("approve")||c.includes("revok")||c.includes("invite")||c.includes("role"))?y.push(v):(s=N(e?.requestMethod),u=N(e?.activityName),("get"===s||u.includes("viewed")||u.includes("listed")||u.includes("access"))&&m.push(v))}),{generatedAt:r,windowStart:a,windowEnd:i,scopedSubjectEmail:d||"",totalScopedLogs:u.length,accessLogsCount:m.length,exportLogsCount:p.length,administrativeActionsCount:y.length,deletionActivitiesCount:f.length,accessLogs:m.slice(0,8),exportLogs:p.slice(0,8),administrativeActions:y.slice(0,8),deletionActivities:f.slice(0,8)}}function tn(e,t,{base:r}={}){var a;let i,n,o=S(),l=L(e?.title,L(r?.title));if(!l)throw Error("invalid_incident_title");let d=tf(e?.detectedAt||r?.detectedAt||o)||o,c=tr(e?.severity,L(r?.severity,"Low")),s=function(e,t="Other"){let r=L(e,t).toLowerCase();return h.find(e=>e.toLowerCase()===r)||"Other"}(e?.incidentType,L(r?.incidentType,"Other")),u=M(e?.restrictedPiiInvolved,M(r?.restrictedPiiInvolved,!1)),m=M(e?.executiveNotificationRequired,"High"===c||M(r?.executiveNotificationRequired,!1)),p=M(e?.escalationRequired,m||u||ta(c)>=ta("High")||M(r?.escalationRequired,!1)),y=function({severity:e,restrictedPiiInvolved:t,executiveNotificationRequired:r}){return"High"===e||r?"Executive":t?"GRC":"Operational"}({severity:c,restrictedPiiInvolved:u,executiveNotificationRequired:m}),f=function(e,t="Open"){let r=L(e,t).toLowerCase();return w.find(e=>e.toLowerCase()===r)||"Open"}(e?.status,L(r?.status,"Open")),v=function(e,t="Not Started"){let r=L(e,t).toLowerCase();return g.find(e=>e.toLowerCase()===r)||"Not Started"}(e?.containmentStatus,L(r?.containmentStatus,"Not Started")),_=function(e,t="Pending"){let r=L(e,t).toLowerCase();return E.find(e=>e.toLowerCase()===r)||"Pending"}(e?.impactAssessmentStatus,L(r?.impactAssessmentStatus,"Pending")),C=M(e?.regulatoryNotificationRequired,u||M(r?.regulatoryNotificationRequired,!1)),B=C?L(r?.regulatoryDueAt,X(d,72)):"",k=tf(e?.regulatoryNotifiedAt||r?.regulatoryNotifiedAt||""),O=tf(e?.affectedIndividualsNotifiedAt||r?.affectedIndividualsNotifiedAt||""),D=function({regulatoryNotificationRequired:e,regulatoryNotifiedAt:t,regulatoryDueAt:r,nowIsoValue:a=S()}){if(!e)return"Not Required";if(ty(t))return"Notified";let i=ty(r),n=ty(a)||Date.now();return Number.isFinite(i)&&i<n?"Overdue":"Pending"}({regulatoryNotificationRequired:C,regulatoryNotifiedAt:k,regulatoryDueAt:B,nowIsoValue:o}),P=M(e?.documentationRetained,M(r?.documentationRetained,!1)),F=P?tf(e?.documentationRetainedAt||r?.documentationRetainedAt||o)||o:"",q=tf(e?.executiveNotifiedAt||r?.executiveNotifiedAt||""),H=p?tf(e?.grcAlertedAt||r?.grcAlertedAt||o)||o:"",U=M(e?.breachConfirmed,M(r?.breachConfirmed,!1)),Y=U?tf(e?.breachConfirmedAt||r?.breachConfirmedAt||o)||o:"",j=U?R(e?.breachConfirmedBy||r?.breachConfirmedBy||t):"",$="In Progress"===v||"Contained"===v?tf(e?.containmentStartedAt||r?.containmentStartedAt||o)||o:tf(e?.containmentStartedAt||r?.containmentStartedAt||""),G="Contained"===v?tf(e?.containmentCompletedAt||r?.containmentCompletedAt||o)||o:tf(e?.containmentCompletedAt||r?.containmentCompletedAt||""),V="Completed"===_?tf(e?.impactAssessmentCompletedAt||r?.impactAssessmentCompletedAt||o)||o:tf(e?.impactAssessmentCompletedAt||r?.impactAssessmentCompletedAt||""),W=tf(e?.forensicWindowStart||r?.forensicWindowStart||d)||d,z=tf(e?.forensicWindowEnd||r?.forensicWindowEnd||o)||o,J=(a=Object.prototype.hasOwnProperty.call(x(e,{}),"evidenceDocuments")?e?.evidenceDocuments:r?.evidenceDocuments,i=L(o,S()),n={maxBytes:function(e,t,{min:r=1,max:a=Number.MAX_SAFE_INTEGER}={}){let i=Number.parseInt(String(process.env[e]||"").trim(),10);return Number.isFinite(i)?Math.min(a,Math.max(r,i)):0xa00000}("CLIO_INCIDENT_EVIDENCE_MAX_BYTES",0,{min:131072,max:0x3200000}),allowedExtensions:I(process.env.CLIO_INCIDENT_EVIDENCE_ALLOWED_EXTENSIONS,A),allowedMimeTypes:I(process.env.CLIO_INCIDENT_EVIDENCE_ALLOWED_MIME_TYPES,b)},T(a).map((e,r)=>{let a=x(e,{}),o=tf(a.uploadedAt||i)||i,l=R(a.uploadedBy||t),d=L(a.name,`Incident Evidence ${r+1}`),c=L(a.type,"Incident Evidence"),s=L(a.ref),u=L(a.storagePath),m=function(e){let t=L(e).toLowerCase();if(!t)return"";let r=t.split("?")[0].split("#")[0].split(".").pop()||"";return/^[a-z0-9]{2,10}$/.test(r)?r:""}(a.fileExtension||d||u||s),p=N(a.contentType),y=Number.isFinite(Number(a.sizeBytes))?Number(a.sizeBytes):0,f=L(a.id||a.recordId||u||`${r+1}`);if(!d&&!s&&!u)return null;if(m&&!n.allowedExtensions.has(m))throw Error("invalid_incident_evidence_extension");if(p&&!n.allowedMimeTypes.has(p))throw Error("invalid_incident_evidence_content_type");if(y>n.maxBytes)throw Error("invalid_incident_evidence_size");return{id:f,name:d||"Incident Evidence",type:c||"Incident Evidence",ref:s,storagePath:u,fileExtension:m,contentType:p,sizeBytes:y,scanStatus:L(a.scanStatus),scanReference:L(a.scanReference),scannedAt:tf(a.scannedAt||""),uploadedAt:o,uploadedBy:l||t}}).filter(Boolean).slice(0,50)),K=tf(e?.detectionWindowStart||r?.detectionWindowStart||""),Z=tf(e?.detectionWindowEnd||r?.detectionWindowEnd||""),Q=L(e?.detectionCorrelationKey,L(r?.detectionCorrelationKey)),ee=L(e?.alertDescription,L(r?.alertDescription)),er=T(e?.alertOccurrences||r?.alertOccurrences).map(e=>{let t=x(e,{}),r=tf(t.at||t.occurredAt||"");return r?{at:r,activityName:L(t.activityName||t.action||"Activity"),module:L(t.module||"System"),sourceEventId:L(t.sourceEventId||t.eventId||""),sourceIp:L(t.sourceIp||""),requestPath:L(t.requestPath||""),requestMethod:L(t.requestMethod||""),actorEmail:R(t.actorEmail||t.performedBy||""),targetEmployeeEmail:R(t.targetEmployeeEmail||t.employeeEmail||"")}:null}).filter(Boolean).slice(-40),ea=tf(e?.alertFirstObservedAt||r?.alertFirstObservedAt||d||""),ei=tf(e?.alertLastObservedAt||r?.alertLastObservedAt||d||""),en=er.length>0?er.length:1,eo=Math.max(1,Number.parseInt(String(e?.alertOccurrenceCount??r?.alertOccurrenceCount??en),10)||en),el=T(e?.alertRecipients||r?.alertRecipients).map(e=>R(e)).filter(Boolean).slice(0,40),ed=T(e?.involvedEmployees||r?.involvedEmployees).map(e=>R(e)).filter(Boolean).slice(0,40);return{incidentCode:L(r?.incidentCode,function(e=S()){let t=new Date(e||S());if(Number.isNaN(t.getTime()))return`INC-${Date.now().toString().slice(-10)}`;let r=String(t.getUTCFullYear()),a=String(t.getUTCMonth()+1).padStart(2,"0"),i=String(t.getUTCDate()).padStart(2,"0"),n=String(t.getUTCHours()).padStart(2,"0"),o=String(t.getUTCMinutes()).padStart(2,"0"),l=Math.random().toString(36).slice(2,5).toUpperCase();return`INC-${r}${a}${i}-${n}${o}${l}`}(d)),title:l,summary:L(e?.summary,L(r?.summary)),incidentType:s,severity:c,status:f,restrictedPiiInvolved:u,affectedEmployeeEmail:R(e?.affectedEmployeeEmail||r?.affectedEmployeeEmail),ownerEmail:R(e?.ownerEmail||r?.ownerEmail||t),department:L(e?.department,L(r?.department)),involvedEmployees:ed,escalationRequired:p,escalationLevel:y,executiveNotificationRequired:m,executiveNotifiedAt:q,grcAlertedAt:H,containmentStatus:v,containmentSummary:L(e?.containmentSummary,L(r?.containmentSummary)),containmentStartedAt:$,containmentCompletedAt:G,impactAssessmentStatus:_,impactSummary:L(e?.impactSummary,L(r?.impactSummary)),impactAssessmentCompletedAt:V,regulatoryNotificationRequired:C,regulatoryDueAt:B,regulatoryNotifiedAt:k,affectedIndividualsNotifiedAt:O,regulatoryStatus:D,documentationRetained:P,documentationRetainedAt:F,documentationLocation:L(e?.documentationLocation,L(r?.documentationLocation)),breachConfirmed:U,breachConfirmedAt:Y,breachConfirmedBy:j,correctiveActions:L(e?.correctiveActions,L(r?.correctiveActions)),disciplinaryActions:L(e?.disciplinaryActions,L(r?.disciplinaryActions)),resolutionNotes:L(e?.resolutionNotes,L(r?.resolutionNotes)),closureApprovalStatus:L(e?.closureApprovalStatus,L(r?.closureApprovalStatus,"Pending Approval")),closureApprovedBy:L(e?.closureApprovedBy,L(r?.closureApprovedBy)),closureApprovedAt:tf(e?.closureApprovedAt||r?.closureApprovedAt||""),forensicWindowStart:W,forensicWindowEnd:z,evidenceDocuments:J,evidenceDocumentsCount:J.length,notes:L(e?.notes,L(r?.notes)),classificationStandard:L(e?.classificationStandard,L(r?.classificationStandard,"CLIO-IR-SEVERITY-V1")),autoGenerated:M(e?.autoGenerated,M(r?.autoGenerated,!1)),detectionRuleId:L(e?.detectionRuleId,L(r?.detectionRuleId)),detectionFingerprint:L(e?.detectionFingerprint,L(r?.detectionFingerprint)),detectionCorrelationKey:Q,detectionWindowStart:K,detectionWindowEnd:Z,alertDescription:ee,alertOccurrenceCount:eo,alertFirstObservedAt:ea,alertLastObservedAt:ei,alertOccurrences:er,sourceSystem:L(e?.sourceSystem,L(r?.sourceSystem)),sourceEventId:L(e?.sourceEventId,L(r?.sourceEventId)),sourceEventModule:L(e?.sourceEventModule,L(r?.sourceEventModule)),sourceEventPath:L(e?.sourceEventPath,L(r?.sourceEventPath)),sourceIp:L(e?.sourceIp,L(r?.sourceIp)),alertRecipients:el,alertDispatchSummary:x(e?.alertDispatchSummary,x(r?.alertDispatchSummary,{})),externalIntegrations:x(e?.externalIntegrations,x(r?.externalIntegrations,{})),lastAlertDispatchAt:tf(e?.lastAlertDispatchAt||r?.lastAlertDispatchAt||""),detectedAt:d,resolvedAt:tf(e?.resolvedAt||r?.resolvedAt||("Resolved"===f?o:"")),closedAt:tf(e?.closedAt||r?.closedAt||("Closed"===f?o:"")),createdAt:L(r?.createdAt,o),createdBy:L(r?.createdBy,t),updatedAt:o,updatedBy:t,traceability:et(r?.traceability,{at:o,by:t,action:r?"update":"create",status:f,severity:c,escalationLevel:y,regulatoryStatus:D})}}function to(e,t,r){let a=x(t,{});return{...e,forensicSnapshot:a,forensicSummary:{accessLogsCount:Number(a.accessLogsCount||0),exportLogsCount:Number(a.exportLogsCount||0),administrativeActionsCount:Number(a.administrativeActionsCount||0),deletionActivitiesCount:Number(a.deletionActivitiesCount||0),totalScopedLogs:Number(a.totalScopedLogs||0),generatedAt:L(a.generatedAt),windowStart:L(a.windowStart),windowEnd:L(a.windowEnd)},forensicLastUpdatedAt:L(a.generatedAt,S()),forensicLastUpdatedBy:r}}async function tl(){return await eo(ea("incidents"))}async function td(e){return await el(ea("incidents"),e)}async function tc(e,t){let r=tn(e,t),a=await ti(r,{limit:Number.parseInt(_("CLIO_INCIDENT_FORENSIC_LOG_LIMIT","1800"),10)}),i=to(r,a,t);return await ed(ea("incidents"),i)}async function ts(e,t,r){let a=await td(e);if(!a)return null;let i=tn(t,r,{base:a}),n=M(t?.refreshForensicSnapshot,!1)||Object.prototype.hasOwnProperty.call(x(t,{}),"forensicWindowStart")||Object.prototype.hasOwnProperty.call(x(t,{}),"forensicWindowEnd")||Object.prototype.hasOwnProperty.call(x(t,{}),"affectedEmployeeEmail")||Object.prototype.hasOwnProperty.call(x(t,{}),"detectedAt")?await ti(i,{limit:Number.parseInt(_("CLIO_INCIDENT_FORENSIC_LOG_LIMIT","1800"),10)}):x(a.forensicSnapshot,{}),o=to(i,n,r);return await ec(ea("incidents"),e,o)}async function tu(e,r){let a=en(),i=await (0,t.getDocs)((0,t.query)((0,t.collection)(a,e),(0,t.where)("retentionDeleteAt","<=",r))),n=0;for(let r of i.docs)await (0,t.deleteDoc)((0,t.doc)(a,e,r.id)),n+=1;return n}async function tm(e){let r=en(),a=ea("employees"),i=await (0,t.getDocs)((0,t.query)((0,t.collection)(r,a),(0,t.where)("retentionDeleteAt","<=",e))),n=0;for(let e of i.docs)await q(e.id,{db:r}),await (0,t.deleteDoc)((0,t.doc)(r,a,e.id)),n+=1;return n}async function tp({now:e}={}){let t=L(e,S()),r={employees:await tm(t),lifecycle:await tu(ea("lifecycle"),t),attendance:await tu(ea("attendance"),t),leave:await tu(ea("leave"),t),performance:await tu(ea("performance"),t),exports:await tu(ea("exports"),t)},i=await (0,a.purgeDueArchivedUserAccounts)({now:t});return{cutoff:t,deletedByCollection:r,deletedUsers:i}}function ty(e){let t=new Date(e||"").getTime();return Number.isNaN(t)?null:t}function tf(e){let t=ty(e);return Number.isFinite(t)?new Date(t).toISOString():""}async function tv({moduleId:e="all",status:t="all",queryText:r="",dueWithinDays:i=30,now:n}={}){let o,l=N(e)||"all",d=N(t)||"all",c=N(r),s=C(),u=function(e,t,{min:r=0,max:a=Number.MAX_SAFE_INTEGER}={}){let i=Number.parseInt(String(e??""),10);return Number.isFinite(i)?Math.min(a,Math.max(r,i)):30}(i,0,{min:1,max:365}),m=tf(n)||S(),p=ty(m)||Date.now(),y=24*u*36e5,f=[{id:"employees",label:"Employee Records",loader:()=>ew()},{id:"lifecycle",label:"Employment Lifecycle",loader:()=>eD()},{id:"attendance",label:"Attendance",loader:()=>eH()},{id:"leave",label:"Leave Requests",loader:()=>e$()},{id:"performance",label:"Performance",loader:()=>eX()},{id:"exports",label:"Reports & Exports",loader:()=>e6()},{id:"user_accounts",label:"User Accounts",loader:()=>(0,a.listUserAccounts)()}],v=new Set(f.map(e=>e.id));if("all"!==l&&!v.has(l))throw Error("invalid_retention_module");let w=new Set(["all","due","due_soon","scheduled","no_retention"]).has(d)?d:"all",g=(await Promise.all(f.map(async e=>{let t=await e.loader();return{...e,rows:Array.isArray(t)?t:[]}}))).flatMap(e=>e.rows.map(t=>(function({moduleId:e,moduleLabel:t,row:r,nowMs:a,dueWithinMs:i}){var n,o,l;let d,c=tf(r?.archivedAt),s=tf(r?.retentionDeleteAt),u=N(r?.status),m=N(r?.archiveStatus);if(!(r?.isArchived||c||s||"archived"===u||"archived"===m))return null;let p=L(r?.recordId,L(r?.id)),y=function(e,t,r){let a=ty(e);if(!Number.isFinite(a))return{state:"no_retention",daysToDeletion:null};let i=Math.ceil((a-t)/864e5);return a<=t?{state:"due",daysToDeletion:i}:a<=t+r?{state:"due_soon",daysToDeletion:i}:{state:"scheduled",daysToDeletion:i}}(s,a,i),f=(n=e,o=r,l=t,d=L(o?.recordId,L(o?.id)),"employees"===n?L(o?.name,L(o?.employeeId,L(o?.email,d||`${l} Record`))):"lifecycle"===n?[L(o?.employee,L(o?.employeeEmail))||"Employee",L(o?.category)].filter(Boolean).join(" - "):"attendance"===n?[L(o?.employee,"Employee"),L(o?.date)].filter(Boolean).join(" - "):"leave"===n?[L(o?.employee,"Employee"),L(o?.leaveType,"Leave")].filter(Boolean).join(" - "):"performance"===n?[L(o?.employee,"Employee"),L(o?.period,"Performance")].filter(Boolean).join(" - "):"exports"===n?[L(o?.dataset,"Export Request"),L(o?.format)].filter(Boolean).join(" - "):"user_accounts"===n?L(o?.email,d||"User Account"):L(o?.name,L(o?.employee,L(o?.dataset,L(o?.email,d||`${l} Record`))))),v=R(r?.employeeEmail||r?.email||r?.requestedBy||r?.ownerEmail),w=[L(r?.employeeId),v,L(r?.department),L(r?.category)].filter(Boolean);return{id:`${e}:${p||Math.random().toString(36).slice(2,10)}`,moduleId:e,moduleLabel:t,recordId:p||"",title:f,subtitle:w.join(" | "),ownerEmail:v||"",status:L(r?.status,L(r?.archiveStatus,"Archived")),archiveReason:L(r?.archiveReason,L(r?.reason,L(r?.reviewNote,""))),archivedAt:c,retentionDeleteAt:s,daysToDeletion:y.daysToDeletion,deletionState:y.state,updatedAt:tf(r?.updatedAt)}})({moduleId:e.id,moduleLabel:e.label,row:t,nowMs:p,dueWithinMs:y})).filter(Boolean)),E="all"===l?g:g.filter(e=>e.moduleId===l),h=E.filter(e=>{let t="all"===w||e.deletionState===w,r=N([e.moduleLabel,e.recordId,e.title,e.subtitle,e.ownerEmail,e.archiveReason].join(" ")),a=!c||r.includes(c);return t&&a});return{policy:{retentionYears:s,dueWithinDays:u,generatedAt:m,moduleCatalog:f.map(e=>({id:e.id,label:e.label}))},summary:function(e,{moduleCatalog:t,nowMs:r,dueWithinDays:a}){let i={due:0,dueSoon:0,scheduled:0,noRetention:0},n=t.map(e=>({id:e.id,label:e.label,count:0})),o=new Map(n.map(e=>[e.id,e])),l="",d="";return e.forEach(e=>{"due"===e.deletionState?i.due+=1:"due_soon"===e.deletionState?i.dueSoon+=1:"scheduled"===e.deletionState?i.scheduled+=1:i.noRetention+=1;let t=o.get(e.moduleId);t&&(t.count+=1),e.retentionDeleteAt&&(!l||ty(e.retentionDeleteAt)<ty(l))&&(l=e.retentionDeleteAt),e.archivedAt&&(!d||ty(e.archivedAt)<ty(d))&&(d=e.archivedAt)}),{generatedAt:new Date(r).toISOString(),totalArchived:e.length,dueNow:i.due,dueWithinWindow:i.due+i.dueSoon,scheduledFuture:i.scheduled,missingRetentionDate:i.noRetention,nextDeletionAt:l||null,oldestArchivedAt:d||null,dueWithinDays:a,moduleBreakdown:n.sort((e,t)=>t.count-e.count)}}(E,{moduleCatalog:f,nowMs:p,dueWithinDays:u}),records:(o={due:0,due_soon:1,scheduled:2,no_retention:3},[...h].sort((e,t)=>{let r=o[e.deletionState]??9,a=o[t.deletionState]??9;if(r!==a)return r-a;let i=ty(e.retentionDeleteAt),n=ty(t.retentionDeleteAt);return Number.isFinite(i)&&Number.isFinite(n)&&i!==n?i-n:Number.isFinite(i)&&!Number.isFinite(n)?-1:!Number.isFinite(i)&&Number.isFinite(n)?1:(ty(t.archivedAt)||0)-(ty(e.archivedAt)||0)}))}}e.s(["approveExportRequestBackend",()=>te,"createAttendanceLogBackend",()=>eY,"createDocumentTemplateBackend",()=>e2,"createEmployeeRecordBackend",()=>eE,"createExportRequestBackend",()=>e7,"createIncidentRecordBackend",()=>tc,"createLeaveRequestBackend",()=>eV,"createLifecycleRecordBackend",()=>ex,"createPerformanceRecordBackend",()=>eK,"createSettingsReferenceItemBackend",()=>ey,"deleteDocumentTemplateBackend",()=>e4,"deleteEmployeeRecordBackend",()=>eA,"deleteSettingsReferenceItemBackend",()=>ef,"forceOffboardLifecycleRecordBackend",()=>eP,"getAttendanceLogBackend",()=>eU,"getDocumentTemplateBackend",()=>e1,"getEmployeeRecordBackend",()=>eg,"getExportRequestBackend",()=>e5,"getIncidentRecordBackend",()=>td,"getLeaveRequestBackend",()=>eG,"getLifecycleRecordBackend",()=>eT,"getPerformanceRecordBackend",()=>eJ,"listAttendanceLogsBackend",()=>eH,"listDocumentTemplatesBackend",()=>e0,"listEmployeeRecordsBackend",()=>ew,"listExportRequestsBackend",()=>e6,"listIncidentRecordsBackend",()=>tl,"listLeaveRequestsBackend",()=>e$,"listLifecycleRecordsBackend",()=>eD,"listPerformanceRecordsBackend",()=>eX,"listRetentionArchiveSnapshotBackend",()=>tv,"listSettingsReferenceCatalogBackend",()=>ep,"markExportAsCompletedBackend",()=>tt,"purgeArchivedEmployeeDataBackend",()=>tp,"updateAttendanceLogBackend",()=>ej,"updateDocumentTemplateBackend",()=>e3,"updateEmployeeRecordBackend",()=>eh,"updateExportRequestBackend",()=>e9,"updateIncidentRecordBackend",()=>ts,"updateLeaveRequestBackend",()=>eW,"updateLifecycleRecordBackend",()=>eM,"updatePerformanceRecordBackend",()=>eZ])}];

//# sourceMappingURL=src_lib_hris-backend_4dbd0cdd.js.map