{"version":3,"sources":["../../../../src/components/hris/modules/AttendanceManagementModule.jsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport SurfaceCard from \"@/components/hris/SurfaceCard\";\nimport EmptyState from \"@/components/hris/shared/EmptyState\";\nimport ModuleTabs from \"@/components/hris/shared/ModuleTabs\";\nimport StatusBadge from \"@/components/hris/shared/StatusBadge\";\nimport { formatNameFromEmail, formatPersonName } from \"@/lib/name-utils\";\nimport { hrisApi } from \"@/services/hris-api-client\";\n\nconst SECTION_TABS = [\n  { id: \"time-logs\", label: \"Time Logs\" },\n  { id: \"leave-requests\", label: \"Leave Requests\" },\n  { id: \"leave-approvals\", label: \"Leave Approvals\" },\n  { id: \"leave-balances\", label: \"Leave Balances\" },\n  { id: \"adjustments\", label: \"Attendance Adjustments\" },\n  { id: \"audit-logs\", label: \"Attendance Audit Logs\" },\n];\n\nconst SHIFT_WINDOWS = [\n  {\n    id: \"morning\",\n    sourceShift: \"6:00 AM - 2:00 PM\",\n    assignedShift: \"8:00 AM - 4:00 PM\",\n    onTimeLabel: \"7:30 AM - 8:00 AM\",\n    earlyLabel: \"Before 7:30 AM\",\n    lateLabel: \"After 8:00 AM\",\n    startMinute: 6 * 60,\n    endMinute: 14 * 60,\n    onTimeStartMinute: 7 * 60 + 30,\n    onTimeEndMinute: 8 * 60,\n  },\n  {\n    id: \"afternoon\",\n    sourceShift: \"2:00 PM - 10:00 PM\",\n    assignedShift: \"4:00 PM - 12:00 AM\",\n    onTimeLabel: \"3:30 PM - 4:00 PM\",\n    earlyLabel: \"Before 3:30 PM\",\n    lateLabel: \"After 4:00 PM\",\n    startMinute: 14 * 60,\n    endMinute: 22 * 60,\n    onTimeStartMinute: 15 * 60 + 30,\n    onTimeEndMinute: 16 * 60,\n  },\n  {\n    id: \"graveyard\",\n    sourceShift: \"10:00 PM - 6:00 AM\",\n    assignedShift: \"12:00 AM - 8:00 AM\",\n    onTimeLabel: \"11:30 PM - 12:00 AM\",\n    earlyLabel: \"Before 11:30 PM\",\n    lateLabel: \"After 12:00 AM\",\n    startMinute: 22 * 60,\n    endMinute: 6 * 60,\n    onTimeStartMinute: 23 * 60 + 30,\n    onTimeEndMinute: 0,\n    wrapsMidnight: true,\n  },\n];\n\nconst initialAttendanceForm = {\n  employeeEmail: \"\",\n  employee: \"\",\n  date: \"\",\n  checkIn: \"\",\n  checkOut: \"\",\n  status: \"Recorded\",\n  reason: \"\",\n};\n\nconst initialLeaveForm = {\n  employeeEmail: \"\",\n  employee: \"\",\n  leaveType: \"Vacation Leave\",\n  startDate: \"\",\n  endDate: \"\",\n  reason: \"\",\n};\n\nfunction isEmployeeRole(role) {\n  return String(role || \"\")\n    .trim()\n    .toUpperCase()\n    .startsWith(\"EMPLOYEE_\");\n}\n\nfunction hasValue(value) {\n  const normalized = String(value || \"\").trim();\n  return normalized.length > 0 && normalized !== \"-\";\n}\n\nfunction toDateKey(date) {\n  const source = date instanceof Date ? date : new Date(date || \"\");\n  if (Number.isNaN(source.getTime())) {\n    return \"\";\n  }\n  const year = source.getFullYear();\n  const month = `${source.getMonth() + 1}`.padStart(2, \"0\");\n  const day = `${source.getDate()}`.padStart(2, \"0\");\n  return `${year}-${month}-${day}`;\n}\n\nfunction normalizeDateKey(value) {\n  const raw = String(value || \"\").trim();\n  if (!raw) {\n    return \"\";\n  }\n  const exactMatch = raw.match(/^(\\d{4}-\\d{2}-\\d{2})/);\n  if (exactMatch?.[1]) {\n    return exactMatch[1];\n  }\n  return toDateKey(raw);\n}\n\nfunction parseTimeToMinutes(value) {\n  const raw = String(value || \"\").trim();\n  if (!raw || raw === \"-\") {\n    return null;\n  }\n\n  const meridiemMatch = raw.match(/^(\\d{1,2}):(\\d{2})\\s*(AM|PM)$/i);\n  if (meridiemMatch) {\n    const hours = Number.parseInt(meridiemMatch[1], 10);\n    const minutes = Number.parseInt(meridiemMatch[2], 10);\n    const meridiem = meridiemMatch[3].toUpperCase();\n    if (Number.isNaN(hours) || Number.isNaN(minutes) || minutes < 0 || minutes > 59 || hours < 1 || hours > 12) {\n      return null;\n    }\n    const normalizedHours = (hours % 12) + (meridiem === \"PM\" ? 12 : 0);\n    return normalizedHours * 60 + minutes;\n  }\n\n  const twentyFourMatch = raw.match(/^(\\d{1,2}):(\\d{2})$/);\n  if (!twentyFourMatch) {\n    return null;\n  }\n  const hours = Number.parseInt(twentyFourMatch[1], 10);\n  const minutes = Number.parseInt(twentyFourMatch[2], 10);\n  if (Number.isNaN(hours) || Number.isNaN(minutes) || hours < 0 || hours > 23 || minutes < 0 || minutes > 59) {\n    return null;\n  }\n  return hours * 60 + minutes;\n}\n\nfunction formatTimeDisplay(value) {\n  const date = value instanceof Date ? value : new Date(value || \"\");\n  if (Number.isNaN(date.getTime())) {\n    return \"-\";\n  }\n  return new Intl.DateTimeFormat(\"en-US\", {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    hour12: true,\n  }).format(date);\n}\n\nfunction formatLongDate(value) {\n  const date = value instanceof Date ? value : new Date(value || \"\");\n  if (Number.isNaN(date.getTime())) {\n    return \"-\";\n  }\n  return new Intl.DateTimeFormat(\"en-US\", {\n    weekday: \"long\",\n    month: \"long\",\n    day: \"numeric\",\n    year: \"numeric\",\n  }).format(date);\n}\n\nfunction formatDate(value) {\n  const date = new Date(value || \"\");\n  if (Number.isNaN(date.getTime())) {\n    return \"-\";\n  }\n  return new Intl.DateTimeFormat(\"en-US\", {\n    month: \"short\",\n    day: \"2-digit\",\n    year: \"numeric\",\n  }).format(date);\n}\n\nfunction getLeaveDays(startDate, endDate) {\n  const start = new Date(startDate || \"\");\n  const end = new Date(endDate || \"\");\n  if (Number.isNaN(start.getTime()) || Number.isNaN(end.getTime()) || end < start) {\n    return 0;\n  }\n  const diff = Math.floor((end.getTime() - start.getTime()) / (1000 * 60 * 60 * 24));\n  return diff + 1;\n}\n\nfunction isWithinShiftWindow(minutes, shift) {\n  if (shift.wrapsMidnight) {\n    return minutes >= shift.startMinute || minutes < shift.endMinute;\n  }\n  return minutes >= shift.startMinute && minutes < shift.endMinute;\n}\n\nfunction resolveShiftForMinutes(minutes) {\n  if (!Number.isFinite(minutes)) {\n    return SHIFT_WINDOWS[0];\n  }\n  const matched = SHIFT_WINDOWS.find((shift) => isWithinShiftWindow(minutes, shift));\n  return matched || SHIFT_WINDOWS[0];\n}\n\nfunction getShiftArrivalStatus(minutes, shift) {\n  if (!Number.isFinite(minutes)) {\n    return \"Recorded\";\n  }\n\n  if (shift.wrapsMidnight) {\n    if (minutes >= shift.startMinute && minutes < shift.onTimeStartMinute) {\n      return \"Early\";\n    }\n    if ((minutes >= shift.onTimeStartMinute && minutes < 24 * 60) || minutes === shift.onTimeEndMinute) {\n      return \"On Time\";\n    }\n    return \"Late\";\n  }\n\n  if (minutes < shift.onTimeStartMinute) {\n    return \"Early\";\n  }\n  if (minutes <= shift.onTimeEndMinute) {\n    return \"On Time\";\n  }\n  return \"Late\";\n}\n\nfunction getInitialsFromName(value) {\n  const initials = String(value || \"\")\n    .split(\" \")\n    .map((token) => token.trim())\n    .filter(Boolean)\n    .slice(0, 2)\n    .map((token) => token.charAt(0).toUpperCase())\n    .join(\"\");\n  return initials || \"EM\";\n}\n\nfunction getSortableAttendanceTime(row) {\n  const dateKey = normalizeDateKey(row.date || row.createdAt);\n  if (!dateKey) {\n    return new Date(row.updatedAt || row.createdAt || 0).getTime();\n  }\n  const timeMinutes = parseTimeToMinutes(row.checkIn);\n  const [year, month, day] = dateKey.split(\"-\").map((item) => Number.parseInt(item, 10));\n  const hour = Number.isFinite(timeMinutes) ? Math.floor(timeMinutes / 60) : 0;\n  const minute = Number.isFinite(timeMinutes) ? timeMinutes % 60 : 0;\n  return new Date(year, (month || 1) - 1, day || 1, hour, minute).getTime();\n}\n\nfunction formatAttendanceDateForRow(row) {\n  const dateValue = row.date || row.createdAt;\n  return formatDate(dateValue);\n}\n\nfunction getShiftLabelForRecord(row) {\n  const minutes = parseTimeToMinutes(row.checkIn);\n  if (!Number.isFinite(minutes)) {\n    return \"-\";\n  }\n  const shift = resolveShiftForMinutes(minutes);\n  return shift.assignedShift;\n}\n\nfunction getSummaryForRecord(row) {\n  const reason = String(row.reason || \"\").trim();\n  if (reason) {\n    return reason;\n  }\n  if (hasValue(row.checkOut)) {\n    return \"Attendance completed and logged.\";\n  }\n  if (hasValue(row.checkIn)) {\n    return \"Clock-in recorded.\";\n  }\n  return \"No summary available.\";\n}\n\nfunction appendClockOutSummary(existingSummary, clockOutTime) {\n  const base = String(existingSummary || \"\").trim();\n  const suffix = `Clock-out: ${clockOutTime}`;\n  if (!base) {\n    return suffix;\n  }\n  if (base.toLowerCase().includes(\"clock-out\")) {\n    return base;\n  }\n  return `${base} | ${suffix}`;\n}\n\nfunction getStatusBadgeClass(status) {\n  const normalized = String(status || \"\").trim().toLowerCase();\n  if (normalized === \"early\") {\n    return \"bg-cyan-100 text-cyan-700\";\n  }\n  if (normalized === \"on time\") {\n    return \"bg-emerald-100 text-emerald-700\";\n  }\n  if (normalized === \"late\") {\n    return \"bg-amber-100 text-amber-700\";\n  }\n  if (normalized === \"completed\") {\n    return \"bg-emerald-100 text-emerald-700\";\n  }\n  return \"\";\n}\n\nfunction getActorDisplayName(nameValue, emailValue, fallback = \"System\") {\n  const explicitName = String(nameValue || \"\").trim();\n  if (explicitName) {\n    return explicitName;\n  }\n\n  const raw = String(emailValue || \"\").trim();\n  if (!raw) {\n    return fallback;\n  }\n\n  if (!raw.includes(\"@\")) {\n    return raw;\n  }\n\n  return formatNameFromEmail(raw, { fallbackLabel: fallback });\n}\n\nfunction getActorEmail(emailValue) {\n  const raw = String(emailValue || \"\").trim();\n  if (!raw || !raw.includes(\"@\")) {\n    return \"\";\n  }\n  return raw.toLowerCase();\n}\n\nfunction getActorAvatar(avatarValue) {\n  const raw = String(avatarValue || \"\").trim();\n  return raw || \"/avatars/default-user.svg\";\n}\n\nexport default function AttendanceManagementModule({ session }) {\n  const actorEmail = session?.email || \"\";\n  const actorFirstName = session?.firstName || \"\";\n  const actorMiddleName = session?.middleName || \"\";\n  const actorLastName = session?.lastName || \"\";\n  const actorRole = session?.role || \"EMPLOYEE_L1\";\n  const employeeRole = isEmployeeRole(actorRole);\n  const canManage = !employeeRole;\n  const employeeDisplayName = useMemo(\n    () =>\n      formatPersonName({\n        firstName: actorFirstName,\n        middleName: actorMiddleName,\n        lastName: actorLastName,\n        fallbackEmail: actorEmail,\n        fallbackLabel: \"Employee\",\n      }),\n    [actorEmail, actorFirstName, actorLastName, actorMiddleName],\n  );\n  const employeeInitials = useMemo(() => getInitialsFromName(employeeDisplayName), [employeeDisplayName]);\n\n  const [section, setSection] = useState(\"time-logs\");\n  const [attendanceRows, setAttendanceRows] = useState([]);\n  const [leaveRows, setLeaveRows] = useState([]);\n  const [attendanceForm, setAttendanceForm] = useState(initialAttendanceForm);\n  const [leaveForm, setLeaveForm] = useState(initialLeaveForm);\n  const [selectedAttendanceId, setSelectedAttendanceId] = useState(\"\");\n  const [adjustmentReason, setAdjustmentReason] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const [isClockInfoOpen, setIsClockInfoOpen] = useState(false);\n  const [now, setNow] = useState(() => new Date());\n\n  useEffect(() => {\n    const timer = window.setInterval(() => {\n      setNow(new Date());\n    }, 1000);\n    return () => {\n      window.clearInterval(timer);\n    };\n  }, []);\n\n  const loadData = useCallback(async () => {\n    setIsLoading(true);\n    setErrorMessage(\"\");\n    try {\n      const attendancePayload = await hrisApi.attendance.list(employeeRole ? { employeeEmail: actorEmail } : {});\n      setAttendanceRows(Array.isArray(attendancePayload.records) ? attendancePayload.records : []);\n\n      if (employeeRole) {\n        setLeaveRows([]);\n      } else {\n        const leavePayload = await hrisApi.leave.list({});\n        setLeaveRows(Array.isArray(leavePayload.records) ? leavePayload.records : []);\n      }\n    } catch (error) {\n      setErrorMessage(error.message || \"Unable to load attendance records.\");\n    } finally {\n      setIsLoading(false);\n    }\n  }, [actorEmail, employeeRole]);\n\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  const leaveBalanceRows = useMemo(() => {\n    const grouped = new Map();\n    leaveRows.forEach((row) => {\n      const email = String(row.employeeEmail || \"\").trim().toLowerCase();\n      if (!email) {\n        return;\n      }\n      const current = grouped.get(email) || {\n        employeeEmail: row.employeeEmail,\n        employee: row.employee || row.employeeEmail,\n        usedDays: 0,\n        approvedCount: 0,\n      };\n      if (String(row.status || \"\").trim().toLowerCase() === \"approved\") {\n        current.approvedCount += 1;\n        current.usedDays += getLeaveDays(row.startDate, row.endDate);\n      }\n      grouped.set(email, current);\n    });\n\n    return Array.from(grouped.values()).map((item) => {\n      const allocated = 15;\n      const remaining = Math.max(0, allocated - item.usedDays);\n      return {\n        ...item,\n        allocated,\n        remaining,\n      };\n    });\n  }, [leaveRows]);\n\n  const selectedAttendanceRecord = useMemo(\n    () => attendanceRows.find((row) => row.id === selectedAttendanceId) || null,\n    [attendanceRows, selectedAttendanceId],\n  );\n\n  const currentMinutes = now.getHours() * 60 + now.getMinutes();\n  const currentShift = useMemo(() => resolveShiftForMinutes(currentMinutes), [currentMinutes]);\n  const currentAttendanceStatus = useMemo(\n    () => getShiftArrivalStatus(currentMinutes, currentShift),\n    [currentMinutes, currentShift],\n  );\n  const todayKey = useMemo(() => toDateKey(now), [now]);\n\n  const todayRecords = useMemo(\n    () =>\n      attendanceRows\n        .filter((row) => normalizeDateKey(row.date || row.createdAt) === todayKey)\n        .sort((a, b) => getSortableAttendanceTime(b) - getSortableAttendanceTime(a)),\n    [attendanceRows, todayKey],\n  );\n\n  const openTodayRecord = useMemo(\n    () => todayRecords.find((row) => hasValue(row.checkIn) && !hasValue(row.checkOut)) || null,\n    [todayRecords],\n  );\n\n  const completedTodayRecord = useMemo(\n    () => todayRecords.find((row) => hasValue(row.checkIn) && hasValue(row.checkOut)) || null,\n    [todayRecords],\n  );\n\n  const recentAttendanceRows = useMemo(\n    () => [...attendanceRows].sort((a, b) => getSortableAttendanceTime(b) - getSortableAttendanceTime(a)).slice(0, 12),\n    [attendanceRows],\n  );\n\n  const handleAttendanceField = (field) => (event) => {\n    setAttendanceForm((current) => ({\n      ...current,\n      [field]: event.target.value,\n    }));\n  };\n\n  const handleLeaveField = (field) => (event) => {\n    setLeaveForm((current) => ({\n      ...current,\n      [field]: event.target.value,\n    }));\n  };\n\n  const submitAttendance = async (event) => {\n    event.preventDefault();\n    setIsSubmitting(true);\n    setErrorMessage(\"\");\n    setSuccessMessage(\"\");\n    try {\n      const payload = {\n        ...attendanceForm,\n        employeeEmail: employeeRole ? actorEmail : attendanceForm.employeeEmail,\n        employee: employeeRole ? actorEmail : attendanceForm.employee,\n      };\n      await hrisApi.attendance.create(payload);\n      setAttendanceForm(initialAttendanceForm);\n      setSuccessMessage(\"Attendance entry saved.\");\n      await loadData();\n    } catch (error) {\n      setErrorMessage(error.message || \"Unable to save attendance entry.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const submitLeave = async (event) => {\n    event.preventDefault();\n    setIsSubmitting(true);\n    setErrorMessage(\"\");\n    setSuccessMessage(\"\");\n    try {\n      const payload = {\n        ...leaveForm,\n        employeeEmail: employeeRole ? actorEmail : leaveForm.employeeEmail,\n        employee: employeeRole ? actorEmail : leaveForm.employee,\n      };\n      await hrisApi.leave.create(payload);\n      setLeaveForm(initialLeaveForm);\n      setSuccessMessage(\"Leave request submitted.\");\n      await loadData();\n    } catch (error) {\n      setErrorMessage(error.message || \"Unable to submit leave request.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleLeaveApproval = async (recordId, approved) => {\n    if (!recordId || !canManage) {\n      return;\n    }\n    setIsSubmitting(true);\n    setErrorMessage(\"\");\n    setSuccessMessage(\"\");\n    try {\n      await hrisApi.leave.approve(recordId, {\n        approved,\n        approvalNote: approved ? \"Approved by workflow owner\" : \"Rejected by workflow owner\",\n      });\n      setSuccessMessage(approved ? \"Leave request approved.\" : \"Leave request rejected.\");\n      await loadData();\n    } catch (error) {\n      setErrorMessage(error.message || \"Unable to process leave approval.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const submitAdjustment = async () => {\n    if (!selectedAttendanceRecord?.id) {\n      return;\n    }\n    setIsSubmitting(true);\n    setErrorMessage(\"\");\n    setSuccessMessage(\"\");\n    try {\n      await hrisApi.attendance.update(selectedAttendanceRecord.id, {\n        reason: adjustmentReason,\n        status: \"Adjusted\",\n      });\n      setAdjustmentReason(\"\");\n      setSuccessMessage(\"Attendance adjustment logged.\");\n      await loadData();\n    } catch (error) {\n      setErrorMessage(error.message || \"Unable to submit adjustment.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleClockIn = async () => {\n    if (!employeeRole) {\n      return;\n    }\n\n    if (!actorEmail) {\n      setErrorMessage(\"Signed-in employee email is required.\");\n      return;\n    }\n\n    if (openTodayRecord) {\n      setErrorMessage(\"You already have an active clock-in record for today.\");\n      setSuccessMessage(\"\");\n      return;\n    }\n\n    if (completedTodayRecord) {\n      setErrorMessage(\"Today's attendance is already completed.\");\n      setSuccessMessage(\"\");\n      return;\n    }\n\n    setIsSubmitting(true);\n    setErrorMessage(\"\");\n    setSuccessMessage(\"\");\n\n    try {\n      const timestamp = new Date();\n      const date = toDateKey(timestamp);\n      const minutes = timestamp.getHours() * 60 + timestamp.getMinutes();\n      const shift = resolveShiftForMinutes(minutes);\n      const status = getShiftArrivalStatus(minutes, shift);\n      const checkIn = formatTimeDisplay(timestamp);\n      const reason = `Shift assigned: ${shift.assignedShift}. Arrival: ${status}.`;\n\n      const draftRecord = todayRecords.find((row) => !hasValue(row.checkIn));\n      const payload = {\n        employeeEmail: actorEmail,\n        employee: employeeDisplayName || actorEmail,\n        date,\n        checkIn,\n        checkOut: \"\",\n        status,\n        reason,\n      };\n\n      if (draftRecord?.id) {\n        await hrisApi.attendance.update(draftRecord.id, payload);\n      } else {\n        await hrisApi.attendance.create(payload);\n      }\n\n      setSuccessMessage(`Clock-in recorded at ${checkIn}.`);\n      await loadData();\n    } catch (error) {\n      setErrorMessage(error.message || \"Unable to clock in.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleClockOut = async () => {\n    if (!employeeRole) {\n      return;\n    }\n\n    if (!openTodayRecord?.id) {\n      setErrorMessage(\"No active clock-in record found for today.\");\n      setSuccessMessage(\"\");\n      return;\n    }\n\n    setIsSubmitting(true);\n    setErrorMessage(\"\");\n    setSuccessMessage(\"\");\n\n    try {\n      const timestamp = new Date();\n      const checkOut = formatTimeDisplay(timestamp);\n      await hrisApi.attendance.update(openTodayRecord.id, {\n        checkOut,\n        status: \"Completed\",\n        reason: appendClockOutSummary(openTodayRecord.reason, checkOut),\n      });\n      setSuccessMessage(`Clock-out recorded at ${checkOut}.`);\n      await loadData();\n    } catch (error) {\n      setErrorMessage(error.message || \"Unable to clock out.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (employeeRole) {\n    const canClockIn = !isSubmitting && !openTodayRecord && !completedTodayRecord;\n    const canClockOut = !isSubmitting && Boolean(openTodayRecord);\n\n    return (\n      <div className=\"space-y-4\">\n        {errorMessage ? (\n          <p className=\"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700\">{errorMessage}</p>\n        ) : null}\n        {successMessage ? (\n          <p className=\"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700\">\n            {successMessage}\n          </p>\n        ) : null}\n\n        <div className=\"relative\">\n          <div className=\"rounded-2xl border border-sky-200 bg-white px-4 py-3 shadow-[0_12px_30px_-24px_rgba(15,23,42,0.55)]\">\n            <div className=\"flex items-center justify-between gap-3\">\n              <p className=\"text-base font-semibold text-slate-900\">Clock-in Information</p>\n              <button\n                type=\"button\"\n                onClick={() => setIsClockInfoOpen((current) => !current)}\n                aria-label={isClockInfoOpen ? \"Hide clock-in information details\" : \"Show clock-in information details\"}\n                aria-expanded={isClockInfoOpen}\n                className=\"inline-flex h-8 w-8 items-center justify-center rounded-full border border-sky-300 bg-sky-50 text-sm font-semibold text-sky-700 transition hover:bg-sky-100\"\n              >\n                ?\n              </button>\n            </div>\n          </div>\n\n          {isClockInfoOpen ? (\n            <div className=\"absolute inset-x-0 top-[calc(100%+0.5rem)] z-20 flex justify-end\">\n              <div className=\"w-full max-w-[820px] rounded-2xl border border-sky-200 bg-white p-4 shadow-[0_24px_50px_-30px_rgba(14,116,214,0.55)]\">\n                <div className=\"flex items-start justify-between gap-3\">\n                  <div>\n                    <p className=\"text-base font-semibold text-slate-900\">Clock-in Information</p>\n                    <p className=\"text-xs text-slate-500\">Everything you need to know before clocking in</p>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={() => setIsClockInfoOpen(false)}\n                    aria-label=\"Close clock-in information details\"\n                    className=\"inline-flex h-7 w-7 items-center justify-center rounded-md text-slate-500 transition hover:bg-slate-100 hover:text-slate-700\"\n                  >\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" className=\"h-4 w-4\" aria-hidden=\"true\">\n                      <path d=\"M6 6l12 12M18 6l-12 12\" />\n                    </svg>\n                  </button>\n                </div>\n\n                <div className=\"mt-3 space-y-2 text-sm text-slate-700\">\n                  <p>\n                    Date: <span className=\"font-semibold text-slate-900\">{formatLongDate(now)}</span>\n                  </p>\n                  <p>\n                    Current Time: <span className=\"font-semibold text-slate-900\">{formatTimeDisplay(now)}</span>\n                  </p>\n                  <p>\n                    If you clock in now, your shift will be:{\" \"}\n                    <span className=\"font-semibold text-sky-700\">{currentShift.assignedShift}</span>\n                  </p>\n                  <p>\n                    Attendance Status: <span className=\"font-semibold text-sky-700\">{currentAttendanceStatus}</span>\n                  </p>\n                </div>\n\n                <div className=\"mt-3 rounded-xl border border-sky-100 bg-sky-50/50 p-3\">\n                  <p className=\"text-sm font-medium text-slate-700\">\n                    <span className=\"mr-2 inline-block h-2 w-2 rounded-full bg-sky-500 align-middle\" />\n                    Clock in anytime. The system will automatically assign your shift.\n                  </p>\n                  <div className=\"mt-3 grid gap-3 lg:grid-cols-3\">\n                    {SHIFT_WINDOWS.map((shift) => {\n                      const isActive = shift.id === currentShift.id;\n                      return (\n                        <article\n                          key={shift.id}\n                          className={`rounded-xl border p-3 ${\n                            isActive ? \"border-sky-300 bg-white\" : \"border-slate-200 bg-white/80\"\n                          }`}\n                        >\n                          <p className=\"text-sm font-semibold text-slate-900\">\n                            {shift.sourceShift} {\"->\"} {shift.assignedShift}\n                          </p>\n                          <p className=\"mt-2 text-xs text-slate-600\">\n                            On Time: <span className=\"font-medium text-slate-900\">{shift.onTimeLabel}</span>\n                          </p>\n                          <p className=\"mt-1 text-xs text-slate-600\">\n                            Early: <span className=\"font-medium text-slate-900\">{shift.earlyLabel}</span>\n                          </p>\n                          <p className=\"mt-1 text-xs text-slate-600\">\n                            Late: <span className=\"font-medium text-slate-900\">{shift.lateLabel}</span>\n                          </p>\n                        </article>\n                      );\n                    })}\n                  </div>\n                </div>\n              </div>\n            </div>\n          ) : null}\n        </div>\n\n        <SurfaceCard title=\"Your Profile\" subtitle=\"Clock-in and clock-out controls\">\n          <div className=\"rounded-xl border border-slate-200 bg-slate-50/80 px-4 py-5\">\n            <div className=\"flex flex-col items-center gap-3 text-center\">\n              <span className=\"inline-flex h-20 w-20 items-center justify-center rounded-full bg-slate-900 text-xl font-semibold text-white\">\n                {employeeInitials}\n              </span>\n              <div>\n                <p className=\"text-lg font-semibold text-slate-900\">{employeeDisplayName}</p>\n                <p className=\"text-xs text-slate-500\">{actorEmail}</p>\n              </div>\n              <div className=\"flex flex-wrap justify-center gap-2\">\n                <button\n                  type=\"button\"\n                  onClick={handleClockIn}\n                  disabled={!canClockIn}\n                  className=\"inline-flex h-9 items-center rounded-full bg-emerald-600 px-4 text-xs font-semibold text-white transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-60\"\n                >\n                  {isSubmitting ? \"Processing...\" : `Clock In (${currentShift.assignedShift} - ${currentAttendanceStatus})`}\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={handleClockOut}\n                  disabled={!canClockOut}\n                  className=\"inline-flex h-9 items-center rounded-full bg-rose-600 px-4 text-xs font-semibold text-white transition hover:bg-rose-700 disabled:cursor-not-allowed disabled:opacity-60\"\n                >\n                  Clock Out\n                </button>\n              </div>\n              <p className=\"text-xs text-slate-500\">\n                You can clock in anytime. The system automatically determines your attendance status.\n              </p>\n              {openTodayRecord ? (\n                <p className=\"text-xs font-medium text-emerald-700\">Active record started at {openTodayRecord.checkIn || \"-\"}</p>\n              ) : null}\n              {completedTodayRecord ? (\n                <p className=\"text-xs font-medium text-slate-600\">Today&apos;s attendance is already completed.</p>\n              ) : null}\n            </div>\n          </div>\n        </SurfaceCard>\n\n        <SurfaceCard title=\"Recent Attendance\" subtitle=\"Latest attendance logs from your account\">\n          {isLoading ? (\n            <p className=\"text-sm text-slate-600\">Loading attendance data...</p>\n          ) : recentAttendanceRows.length === 0 ? (\n            <EmptyState title=\"No attendance records yet\" subtitle=\"Your clock-in and clock-out activity will appear here.\" />\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full text-left text-sm\">\n                <thead>\n                  <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\n                    <th className=\"px-2 py-3 font-medium\">Date</th>\n                    <th className=\"px-2 py-3 font-medium\">Clock In</th>\n                    <th className=\"px-2 py-3 font-medium\">Clock Out</th>\n                    <th className=\"px-2 py-3 font-medium\">Shift</th>\n                    <th className=\"px-2 py-3 font-medium\">Status</th>\n                    <th className=\"px-2 py-3 font-medium\">Summary</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {recentAttendanceRows.map((row) => {\n                    const rowStatus = hasValue(row.checkOut) ? \"Completed\" : row.status || \"Recorded\";\n                    return (\n                      <tr key={row.id} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\n                        <td className=\"px-2 py-3 font-medium text-slate-900\">{formatAttendanceDateForRow(row)}</td>\n                        <td className=\"px-2 py-3\">{row.checkIn || \"-\"}</td>\n                        <td className=\"px-2 py-3\">{row.checkOut || \"-\"}</td>\n                        <td className=\"px-2 py-3\">{getShiftLabelForRecord(row)}</td>\n                        <td className=\"px-2 py-3\">\n                          <StatusBadge value={rowStatus} className={getStatusBadgeClass(rowStatus)} />\n                        </td>\n                        <td className=\"max-w-[460px] px-2 py-3 text-xs text-slate-600\">{getSummaryForRecord(row)}</td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </SurfaceCard>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <ModuleTabs tabs={SECTION_TABS} value={section} onChange={setSection} />\n\n      {errorMessage ? (\n        <p className=\"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700\">{errorMessage}</p>\n      ) : null}\n      {successMessage ? (\n        <p className=\"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700\">{successMessage}</p>\n      ) : null}\n\n      {(section === \"time-logs\" || section === \"adjustments\") && (\n        <SurfaceCard title=\"Manual Attendance Entry\" subtitle=\"Clock-in and clock-out with traceability\">\n          <form className=\"grid gap-2 md:grid-cols-4\" onSubmit={submitAttendance}>\n            {!employeeRole ? (\n              <>\n                <input\n                  required\n                  value={attendanceForm.employeeEmail}\n                  onChange={handleAttendanceField(\"employeeEmail\")}\n                  placeholder=\"Employee email\"\n                  className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                />\n                <input\n                  value={attendanceForm.employee}\n                  onChange={handleAttendanceField(\"employee\")}\n                  placeholder=\"Employee name\"\n                  className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                />\n              </>\n            ) : null}\n            <input\n              type=\"date\"\n              required\n              value={attendanceForm.date}\n              onChange={handleAttendanceField(\"date\")}\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n            />\n            <input\n              type=\"time\"\n              value={attendanceForm.checkIn}\n              onChange={handleAttendanceField(\"checkIn\")}\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n            />\n            <input\n              type=\"time\"\n              value={attendanceForm.checkOut}\n              onChange={handleAttendanceField(\"checkOut\")}\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n            />\n            <input\n              value={attendanceForm.reason}\n              onChange={handleAttendanceField(\"reason\")}\n              placeholder=\"Reason / notes\"\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n            />\n            <div className=\"md:col-span-4\">\n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                className=\"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70\"\n              >\n                {isSubmitting ? \"Saving...\" : \"Save Attendance\"}\n              </button>\n            </div>\n          </form>\n        </SurfaceCard>\n      )}\n\n      {(section === \"leave-requests\" || section === \"leave-approvals\") && (\n        <SurfaceCard title=\"Leave Request Workflow\" subtitle=\"Requests, approvals, and leave balance impact\">\n          <form className=\"grid gap-2 md:grid-cols-4\" onSubmit={submitLeave}>\n            {!employeeRole ? (\n              <>\n                <input\n                  required\n                  value={leaveForm.employeeEmail}\n                  onChange={handleLeaveField(\"employeeEmail\")}\n                  placeholder=\"Employee email\"\n                  className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                />\n                <input\n                  value={leaveForm.employee}\n                  onChange={handleLeaveField(\"employee\")}\n                  placeholder=\"Employee name\"\n                  className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                />\n              </>\n            ) : null}\n            <select\n              value={leaveForm.leaveType}\n              onChange={handleLeaveField(\"leaveType\")}\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n            >\n              <option>Vacation Leave</option>\n              <option>Sick Leave</option>\n              <option>Emergency Leave</option>\n            </select>\n            <input\n              type=\"date\"\n              required\n              value={leaveForm.startDate}\n              onChange={handleLeaveField(\"startDate\")}\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n            />\n            <input\n              type=\"date\"\n              required\n              value={leaveForm.endDate}\n              onChange={handleLeaveField(\"endDate\")}\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n            />\n            <input\n              value={leaveForm.reason}\n              onChange={handleLeaveField(\"reason\")}\n              placeholder=\"Reason\"\n              className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n            />\n            <div className=\"md:col-span-4\">\n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                className=\"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70\"\n              >\n                {isSubmitting ? \"Submitting...\" : \"Submit Leave Request\"}\n              </button>\n            </div>\n          </form>\n        </SurfaceCard>\n      )}\n\n      <SurfaceCard\n        title={\n          section === \"leave-balances\"\n            ? \"Leave Balances\"\n            : section === \"audit-logs\"\n              ? \"Attendance Audit Logs\"\n              : \"Attendance Records\"\n        }\n        subtitle=\"Time logs, leave workflow, and modification traceability\"\n      >\n        {isLoading ? (\n          <p className=\"text-sm text-slate-600\">Loading attendance data...</p>\n        ) : (\n          <>\n            {section === \"leave-balances\" ? (\n              leaveBalanceRows.length === 0 ? (\n                <EmptyState title=\"No leave balance data yet\" subtitle=\"Approved leave requests will update balances automatically.\" />\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <table className=\"min-w-full text-left text-sm\">\n                    <thead>\n                      <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\n                        <th className=\"px-2 py-3 font-medium\">Employee</th>\n                        <th className=\"px-2 py-3 font-medium\">Allocated</th>\n                        <th className=\"px-2 py-3 font-medium\">Used</th>\n                        <th className=\"px-2 py-3 font-medium\">Remaining</th>\n                        <th className=\"px-2 py-3 font-medium\">Approved Requests</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {leaveBalanceRows.map((row) => (\n                        <tr key={row.employeeEmail} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\n                          <td className=\"px-2 py-3 font-medium text-slate-900\">{row.employee}</td>\n                          <td className=\"px-2 py-3\">{row.allocated}</td>\n                          <td className=\"px-2 py-3\">{row.usedDays}</td>\n                          <td className=\"px-2 py-3\">{row.remaining}</td>\n                          <td className=\"px-2 py-3\">{row.approvedCount}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              )\n            ) : section === \"leave-requests\" || section === \"leave-approvals\" ? (\n              leaveRows.length === 0 ? (\n                <EmptyState title=\"No leave requests yet\" subtitle=\"Submitted leave requests will appear in this table.\" />\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <table className=\"min-w-full text-left text-sm\">\n                    <thead>\n                      <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\n                        <th className=\"px-2 py-3 font-medium\">Employee</th>\n                        <th className=\"px-2 py-3 font-medium\">Leave Type</th>\n                        <th className=\"px-2 py-3 font-medium\">Date Range</th>\n                        <th className=\"px-2 py-3 font-medium\">Status</th>\n                        <th className=\"px-2 py-3 font-medium\">Approver</th>\n                        <th className=\"px-2 py-3 font-medium text-right\">Actions</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {leaveRows.map((row) => (\n                        <tr key={row.id} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\n                          <td className=\"px-2 py-3\">\n                            <p className=\"font-medium text-slate-900\">{row.employee || \"-\"}</p>\n                            <p className=\"text-xs text-slate-500\">{row.employeeEmail || \"-\"}</p>\n                          </td>\n                          <td className=\"px-2 py-3\">{row.leaveType || \"-\"}</td>\n                          <td className=\"px-2 py-3\">\n                            {formatDate(row.startDate)} - {formatDate(row.endDate)}\n                          </td>\n                          <td className=\"px-2 py-3\">\n                            <StatusBadge value={row.status || \"-\"} />\n                          </td>\n                          <td className=\"px-2 py-3\">\n                            {row.approver || row.approverName ? (\n                              <div className=\"flex items-center gap-2\">\n                                <Image\n                                  src={getActorAvatar(row.approverAvatar)}\n                                  alt={`${getActorDisplayName(row.approverName, row.approverEmail || row.approver, \"Approver\")} profile`}\n                                  width={28}\n                                  height={28}\n                                  className=\"h-7 w-7 rounded-full border border-slate-200 bg-white object-cover\"\n                                />\n                                <div className=\"min-w-0\">\n                                  <p className=\"truncate text-xs font-medium text-slate-800\">\n                                    {getActorDisplayName(row.approverName, row.approverEmail || row.approver, \"-\")}\n                                  </p>\n                                  {getActorEmail(row.approverEmail || row.approver) ? (\n                                    <p className=\"truncate text-[11px] text-slate-500\">\n                                      {getActorEmail(row.approverEmail || row.approver)}\n                                    </p>\n                                  ) : null}\n                                </div>\n                              </div>\n                            ) : (\n                              \"-\"\n                            )}\n                          </td>\n                          <td className=\"px-2 py-3 text-right\">\n                            {canManage ? (\n                              <div className=\"inline-flex items-center gap-2\">\n                                <button\n                                  type=\"button\"\n                                  onClick={() => handleLeaveApproval(row.id, true)}\n                                  disabled={isSubmitting}\n                                  className=\"rounded-lg border border-emerald-200 bg-emerald-50 px-2.5 py-1.5 text-xs font-medium text-emerald-700 transition hover:bg-emerald-100 disabled:opacity-60\"\n                                >\n                                  Approve\n                                </button>\n                                <button\n                                  type=\"button\"\n                                  onClick={() => handleLeaveApproval(row.id, false)}\n                                  disabled={isSubmitting}\n                                  className=\"rounded-lg border border-rose-200 bg-rose-50 px-2.5 py-1.5 text-xs font-medium text-rose-700 transition hover:bg-rose-100 disabled:opacity-60\"\n                                >\n                                  Reject\n                                </button>\n                              </div>\n                            ) : (\n                              <span className=\"text-xs text-slate-500\">View only</span>\n                            )}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              )\n            ) : section === \"audit-logs\" ? (\n              attendanceRows.length === 0 ? (\n                <EmptyState title=\"No attendance audit logs yet\" subtitle=\"Modification trails will appear after updates.\" />\n              ) : (\n                <div className=\"space-y-2\">\n                  {attendanceRows.map((row) => (\n                    <div key={row.id} className=\"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3\">\n                      <p className=\"text-sm font-semibold text-slate-900\">\n                        {row.employee || \"-\"} | {row.date || \"-\"}\n                      </p>\n                      <div className=\"mt-2 space-y-1\">\n                        {(row.modificationTrail || []).length === 0 ? (\n                          <p className=\"text-xs text-slate-500\">No trail entries yet.</p>\n                        ) : (\n                          row.modificationTrail.map((event, index) => {\n                            const actorName = getActorDisplayName(event.byName, event.byEmail || event.by, \"-\");\n                            const actorEmail = getActorEmail(event.byEmail || event.by);\n                            return (\n                              <div\n                                key={`${row.id}-${index}`}\n                                className=\"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-2 py-1.5\"\n                              >\n                                <div className=\"flex min-w-[200px] items-center gap-2\">\n                                  <Image\n                                    src={getActorAvatar(event.byAvatar)}\n                                    alt={`${actorName} profile`}\n                                    width={24}\n                                    height={24}\n                                    className=\"h-6 w-6 rounded-full border border-slate-200 bg-white object-cover\"\n                                  />\n                                  <div className=\"min-w-0\">\n                                    <p className=\"truncate text-xs font-medium text-slate-800\">{actorName}</p>\n                                    {actorEmail ? <p className=\"truncate text-[11px] text-slate-500\">{actorEmail}</p> : null}\n                                  </div>\n                                </div>\n                                <p className=\"text-xs text-slate-700\">\n                                  [{formatDate(event.at)}] {event.action || \"update\"} | status: {event.status || \"-\"}\n                                </p>\n                              </div>\n                            );\n                          })\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )\n            ) : (\n              <>\n                {attendanceRows.length === 0 ? (\n                  <EmptyState title=\"No attendance records yet\" subtitle=\"Clock-in and clock-out entries will appear here.\" />\n                ) : (\n                  <div className=\"space-y-3\">\n                    <div className=\"overflow-x-auto\">\n                      <table className=\"min-w-full text-left text-sm\">\n                        <thead>\n                          <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\n                            <th className=\"px-2 py-3 font-medium\">Employee</th>\n                            <th className=\"px-2 py-3 font-medium\">Date</th>\n                            <th className=\"px-2 py-3 font-medium\">Clock In</th>\n                            <th className=\"px-2 py-3 font-medium\">Clock Out</th>\n                            <th className=\"px-2 py-3 font-medium\">Status</th>\n                            <th className=\"px-2 py-3 font-medium\">Reason</th>\n                            <th className=\"px-2 py-3 font-medium text-right\">Select</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {attendanceRows.map((row) => (\n                            <tr key={row.id} className=\"border-b border-slate-100 text-slate-700 last:border-b-0\">\n                              <td className=\"px-2 py-3\">\n                                <p className=\"font-medium text-slate-900\">{row.employee || \"-\"}</p>\n                                <p className=\"text-xs text-slate-500\">{row.employeeEmail || \"-\"}</p>\n                              </td>\n                              <td className=\"px-2 py-3\">{row.date || \"-\"}</td>\n                              <td className=\"px-2 py-3\">{row.checkIn || \"-\"}</td>\n                              <td className=\"px-2 py-3\">{row.checkOut || \"-\"}</td>\n                              <td className=\"px-2 py-3\">\n                                <StatusBadge value={row.status || \"-\"} />\n                              </td>\n                              <td className=\"px-2 py-3 text-xs text-slate-600\">{row.reason || \"-\"}</td>\n                              <td className=\"px-2 py-3 text-right\">\n                                <button\n                                  type=\"button\"\n                                  onClick={() => setSelectedAttendanceId(row.id)}\n                                  className=\"rounded-lg border border-slate-300 bg-white px-2.5 py-1.5 text-xs font-medium text-slate-700 transition hover:bg-slate-50\"\n                                >\n                                  Select\n                                </button>\n                              </td>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </table>\n                    </div>\n\n                    {section === \"adjustments\" ? (\n                      <div className=\"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3\">\n                        <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500\">\n                          Attendance Adjustments\n                        </p>\n                        <p className=\"mt-1 text-xs text-slate-600\">\n                          Selected record: {selectedAttendanceRecord ? `${selectedAttendanceRecord.employee} (${selectedAttendanceRecord.date})` : \"None\"}\n                        </p>\n                        <div className=\"mt-2 flex flex-wrap items-center gap-2\">\n                          <input\n                            value={adjustmentReason}\n                            onChange={(event) => setAdjustmentReason(event.target.value)}\n                            placeholder=\"Adjustment reason\"\n                            className=\"h-9 min-w-[220px] rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                          />\n                          <button\n                            type=\"button\"\n                            onClick={submitAdjustment}\n                            disabled={!selectedAttendanceRecord || isSubmitting}\n                            className=\"h-9 rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-60\"\n                          >\n                            Save Adjustment\n                          </button>\n                        </div>\n                      </div>\n                    ) : null}\n                  </div>\n                )}\n              </>\n            )}\n          </>\n        )}\n      </SurfaceCard>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}