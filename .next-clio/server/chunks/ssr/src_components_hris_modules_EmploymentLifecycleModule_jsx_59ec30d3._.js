module.exports=[3756,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(44036),e=a.i(63824),f=a.i(3427),g=a.i(51084),h=a.i(63609);a.i(68248);var i=a.i(74404);let j=[{id:"workflow-status-tracking",label:"Workflow Status Tracking"},{id:"onboarding",label:"Onboarding"},{id:"role-changes",label:"Role Changes"},{id:"disciplinary-records",label:"Disciplinary Records"},{id:"offboarding-access-revocation",label:"Offboarding + Access Revocation"}],k={onboarding:"Onboarding","role-changes":"Role Change","disciplinary-records":"Disciplinary","offboarding-access-revocation":"Offboarding"},l={"workflow-status-tracking":"Unified tracking view across onboarding, role changes, disciplinary actions, and offboarding.",onboarding:"Employee onboarding workflows with activation and completion tracking.","role-changes":"Role/department movement workflows with effectivity details.","disciplinary-records":"Disciplinary case workflows with controlled updates and timeline visibility.","offboarding-access-revocation":"Offboarding workflows with access revocation and account disablement trail."},m=[{value:"SUPER_ADMIN",label:"Super Admin"},{value:"GRC",label:"Governance, Risk, and Compliance (GRC)"},{value:"HR",label:"Human Resources (HR)"},{value:"EA",label:"Executive Assistant (EA)"},{value:"EMPLOYEE_L1",label:"Employee (L1)"},{value:"EMPLOYEE_L2",label:"Employee (L2)"},{value:"EMPLOYEE_L3",label:"Employee (L3)"}],n=new Map([["GRC","Governance, Risk, and Compliance (GRC)"],["HR","Human Resources (HR)"],["EA","Executive Assistant (EA)"]]),o=[{value:"Governance, Risk, and Compliance (GRC)",label:"Governance, Risk, and Compliance (GRC)"},{value:"Research and Development (R&D)",label:"Research and Development (R&D)"},{value:"Cyber Security Operations Center (CSOC)",label:"Cyber Security Operations Center (CSOC)"},{value:"Threat Intelligence (TI)",label:"Threat Intelligence (TI)"}],p=["On-site","Hybrid","Remote"],q=new Map([["SUPER_ADMIN","Super Admin"],["GRC","Governance, Risk, and Compliance (GRC)"],["HR","Human Resources (HR)"],["EA","Executive Assistant (EA)"],["EMPLOYEE","Employee (L1)"],["EMPLOYEE_L1","Employee (L1)"],["EMPLOYEE_L2","Employee (L2)"],["EMPLOYEE_L3","Employee (L3)"]]),r=new Set(["SUPER_ADMIN","GRC","HR","EA","EMPLOYEE","EMPLOYEE_L1","EMPLOYEE_L2","EMPLOYEE_L3"]),s=new Set(["GRC","HR","EA","EMPLOYEE_L1","EMPLOYEE_L2","EMPLOYEE_L3"]),t={employeeRecordId:"",employeeEmail:"",employee:"",category:"Onboarding",owner:"",status:"In Progress",onboardingEmployeeId:"",onboardingFirstName:"",onboardingMiddleName:"",onboardingLastName:"",onboardingSuffix:"",onboardingRole:"",onboardingDepartment:"",onboardingStartDate:"",workSetup:"On-site",activateEmploymentNow:!0,roleFrom:"",roleTo:"",departmentFrom:"",departmentTo:"",effectiveDate:"",justification:"",details:""};function u(a){let b=new Date(a||"");return Number.isNaN(b.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(b)}function v(a){let b=new Date(a||"");return Number.isNaN(b.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric"}).format(b)}function w(a){return String(a||"").trim().toLowerCase()}function x(a){return String(a||"").trim()||"-"}function y(a){let b=Number(a);return!Number.isFinite(b)||b<=0?"0 B":b<1024?`${b} B`:b<1048576?`${(b/1024).toFixed(1)} KB`:`${(b/1048576).toFixed(1)} MB`}function z(a){return String(a||"").trim().toUpperCase().replace(/[^A-Z0-9]+/g,"_").replace(/^_+|_+$/g,"")}function A(a){let b=z(a);return b?q.get(b)||a:"-"}function B(a){return Array.isArray(a)?a:[]}function C(a,b){let c=[],d=new Set;return[...B(a),...B(b)].forEach(a=>{let b,e,f=(b=String(a?.value||"").trim(),e=String(a?.label||b).trim(),b?{value:b,label:e||b}:null);if(!f)return;let g=w(`${f.value}::${f.label}`);!g||d.has(g)||(d.add(g),c.push(f))}),c}function D(a){return"role change"===w(a)}function E(a){return"onboarding"===w(a)}function F(a){return a?.details&&"object"==typeof a.details?a.details:{}}function G(a){return(0,g.formatEmployeeName)({firstName:a?.onboardingFirstName,middleName:a?.onboardingMiddleName,lastName:a?.onboardingLastName,suffix:a?.onboardingSuffix,fallback:a?.employee,fallbackEmail:a?.employeeEmail,fallbackLabel:"Employee"})}function H(a){return(Array.isArray(a)?a:[]).map(a=>"string"==typeof a?a.trim():String(a?.message||"").trim()).filter(Boolean).join(" ")}function I({session:a}){let q,B,I=a?.role||"EMPLOYEE_L1",J=z(I),K=!String(I||"").trim().toUpperCase().startsWith("EMPLOYEE_"),L=(q=String(a?.email||"").trim().toLowerCase(),B=(0,g.formatPersonName)({firstName:a?.firstName,middleName:a?.middleName,lastName:a?.lastName,fallbackEmail:q,fallbackLabel:"System"}),q&&B.toLowerCase()!==q?`${B} (${q})`:B),[M,N]=(0,c.useState)("workflow-status-tracking"),[O,P]=(0,c.useState)([]),[Q,R]=(0,c.useState)(!0),[S,T]=(0,c.useState)(""),[U,V]=(0,c.useState)(""),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)(t),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(!1),[ac,ad]=(0,c.useState)(""),[ae,af]=(0,c.useState)(""),[ag,ah]=(0,c.useState)([]),[ai,aj]=(0,c.useState)(!1),[ak,al]=(0,c.useState)(""),[am,an]=(0,c.useState)({roles:m,departments:o}),[ao,ap]=(0,c.useState)(!1),[aq,ar]=(0,c.useState)(""),[as,at]=(0,c.useState)([]),au=(0,c.useRef)(null),av=(0,c.useMemo)(()=>j.find(a=>a.id===M)||j[0],[M]),aw=k[M]||"",ax=l[M]||l["workflow-status-tracking"],ay=(0,c.useMemo)(()=>{let a=C(am.roles,m),b=new Map;return a.forEach(a=>{let c=z(a?.value);if(!c)return;let d=n.get(c),e={value:String(a.value||"").trim(),label:d||String(a.label||a.value||"").trim()};b.has(c)||b.set(c,e)}),n.forEach((a,c)=>{b.has(c)||b.set(c,{value:c,label:a})}),Array.from(b.values())},[am.roles]),az=(0,c.useMemo)(()=>C(am.departments,o),[am.departments]),aA=(0,c.useMemo)(()=>ay.filter(a=>{let b,c=z(a.value);return!!c&&!!r.has(c)&&("SUPER_ADMIN"===J||("GRC"===J?s.has(c):"EMPLOYEE"===(b=z(a.value))||b.startsWith("EMPLOYEE_")))}),[J,ay]),aB=(0,c.useCallback)(async()=>{R(!0),T("");try{let a=await h.hrisApi.lifecycle.list();P(Array.isArray(a.records)?a.records:[])}catch(a){T(a.message||"Unable to load lifecycle records.")}finally{R(!1)}},[]);(0,c.useEffect)(()=>{aB()},[aB]);let aC=(0,c.useCallback)(async()=>{if(!K)return void an({roles:m,departments:o});ap(!0);try{let a=await h.hrisApi.settings.referenceData.list();an({roles:C(a?.catalogs?.roles,m),departments:C(a?.catalogs?.departments,o)})}catch{an({roles:m,departments:o})}finally{ap(!1)}},[K]);(0,c.useEffect)(()=>{aC()},[aC]);let aD=(0,c.useCallback)(async()=>{if(K){aj(!0),al("");try{let a=await h.hrisApi.employees.list({page:1,pageSize:200}),b=Array.isArray(a?.records)?a.records:[],c=[],d=new Set;b.forEach(a=>{let b=function(a){let b=String(a?.id||"").trim(),c=String(a?.email||"").trim().toLowerCase();return b&&c?{id:b,email:c,name:(0,g.formatEmployeeName)({firstName:a?.firstName,middleName:a?.middleName,lastName:a?.lastName,suffix:a?.suffix,fallback:a?.name,fallbackEmail:a?.email,fallbackLabel:"Unnamed Employee"}),currentRole:String(a?.role||"").trim(),currentDepartment:String(a?.department||"").trim()}:null}(a);!b||d.has(b.id)||(d.add(b.id),c.push(b))}),ah(c)}catch(a){ah([]),al(a.message||"Unable to load employee directory options.")}finally{aj(!1)}}},[K]);(0,c.useEffect)(()=>{aD()},[aD]),(0,c.useEffect)(()=>{Z(a=>({...a,owner:L}))},[L]),(0,c.useEffect)(()=>{K&&0!==ag.length&&Z(a=>{if(E(a.category)||a.employeeRecordId&&ag.some(b=>b.id===a.employeeRecordId))return a;let b=ag[0];return{...a,employeeRecordId:b.id,employee:b.name,employeeEmail:b.email,onboardingRole:b.currentRole||"",onboardingDepartment:b.currentDepartment||"",roleFrom:b.currentRole||"",departmentFrom:b.currentDepartment||""}})},[K,ag]),(0,c.useEffect)(()=>{},[$,W]),(0,c.useEffect)(()=>{},[]);let aE=(0,c.useMemo)(()=>O.filter(a=>{let b="workflow-status-tracking"===M||w(a.category).includes(w(k[M])),c=!ac||w(a.status).includes(w(ac)),d=!ae||[a.employee,a.employeeEmail,a.category,a.owner,a.status].map(a=>w(a)).some(a=>a.includes(w(ae)));return b&&c&&d}),[O,M,ac,ae]);(0,c.useEffect)(()=>{if(0===aE.length){ar(""),ab(!1);return}aq&&!aE.some(a=>a.id===aq)&&(ar(""),ab(!1))},[aE,aq]),(0,c.useEffect)(()=>{},[aa,W]);let aF=(0,c.useMemo)(()=>O.find(a=>a.id===aq)||null,[O,aq]),aG=Array.isArray(aF?.workflow?.checklist)?aF.workflow.checklist:[],aH=Array.isArray(aF?.workflow?.stages)?aF.workflow.stages:[],aI=Number.isFinite(Number(aF?.workflow?.stageIndex))?Number(aF.workflow.stageIndex):0,aJ=Array.isArray(aF?.evidence)?aF.evidence:[],aK=(0,c.useMemo)(()=>{let a=aE.filter(a=>{let b=w(a.status);return b.includes("in progress")||b.includes("pending")}).length,b=aE.filter(a=>{let b=w(a.status);return b.includes("approved")||b.includes("completed")}).length;return{total:aE.length,inProgress:a,completed:b}},[aE]),aL=(0,c.useMemo)(()=>[{key:"total",label:"Total",value:aK.total},{key:"in-progress",label:"In Progress",value:aK.inProgress},{key:"completed",label:"Completed",value:aK.completed}],[aK]),aM=a=>b=>{Z(c=>({...c,[a]:b.target.value}))},aN=async b=>{if(b.preventDefault(),K){if(E(Y.category)){if(!String(Y.onboardingEmployeeId||"").trim())return void T("Employee number is required for onboarding.");if(!String(Y.onboardingLastName||"").trim())return void T("Last name is required for onboarding.");if(!String(Y.onboardingFirstName||"").trim())return void T("First name is required for onboarding.");if(!String(Y.employeeEmail||"").trim())return void T("Google account email is required for onboarding.");if(!String(Y.onboardingRole||"").trim())return void T("Assigned role is required for onboarding.");if(!String(Y.onboardingDepartment||"").trim())return void T("Assigned department is required for onboarding.");if(!String(Y.onboardingStartDate||"").trim())return void T("Employment start date is required for onboarding.");if(as.find(a=>a.size>0xa00000))return void T("Each onboarding document must be 10MB or below.")}if(D(Y.category)){let a=String(Y.roleFrom||"").trim(),b=String(Y.roleTo||"").trim();if(!a||!b)return void T("Current role is missing on employee record. Set employee role first, then select new role.");if(!String(Y.departmentFrom||"").trim())return void T("Current department is missing on employee record. Set employee department first.")}X(!0),T(""),V("");try{let b=E(Y.category),c=b?G(Y):Y.employee,d=b?Y.activateEmploymentNow?"Approved":"In Progress":Y.status,e=await h.hrisApi.lifecycle.create({employeeEmail:Y.employeeEmail,employee:c,category:Y.category,owner:L,status:d,details:function(a){let b={note:String(a.details||"").trim()};if(E(a.category)){let c=String(a.onboardingStartDate||"").trim(),d=String(a.onboardingEmployeeId||"").trim(),e=String(a.onboardingFirstName||"").trim(),f=String(a.onboardingMiddleName||"").trim(),g=String(a.onboardingLastName||"").trim(),h=String(a.onboardingSuffix||"").trim(),i=String(a.onboardingRole||"").trim(),j=String(a.onboardingDepartment||"").trim();b.startDate=c,b.employeeId=d,b.firstName=e,b.middleName=f,b.lastName=g,b.suffix=h,b.role=i,b.roleTo=i,b.department=j,b.departmentTo=j,b.workSetup=String(a.workSetup||"").trim(),b.accountEmail=String(a.employeeEmail||"").trim().toLowerCase(),b.activateEmploymentNow=!!a.activateEmploymentNow}return D(a.category)&&(b.roleFrom=String(a.roleFrom||"").trim(),b.roleTo=String(a.roleTo||"").trim(),b.departmentFrom=String(a.departmentFrom||"").trim(),b.departmentTo=String(a.departmentTo||"").trim(),b.effectiveDate=String(a.effectiveDate||"").trim(),b.justification=String(a.justification||"").trim()),b}(Y)}),f=String(e?.record?.id||"").trim();if(b&&f&&as.length>0)for(let b of as){let c=await (0,i.uploadLifecycleEvidenceToStorage)({file:b,lifecycleRecordId:f,employeeEmail:Y.employeeEmail});await h.hrisApi.lifecycle.update(f,{workflowAction:{type:"add-evidence",evidence:{id:`evidence-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,name:String(b.name||"").trim()||"Onboarding Document",ref:c.downloadUrl,storagePath:c.storagePath,contentType:c.contentType,sizeBytes:c.sizeBytes,uploadedAt:new Date().toISOString(),uploadedBy:a?.email||"system@gmail.com"}}})}Z(t),at([]),_(!1);let g=H(e?.effects),j=b&&as.length>0?`${as.length} onboarding document${as.length>1?"s":""} uploaded. `:"";V(g?`${j}Lifecycle workflow created. ${g}`:`${j}Lifecycle workflow created.`),await aB()}catch(a){T(a.message||"Unable to create lifecycle workflow.")}finally{X(!1)}}},aO=async(a,b,c)=>{if(a?.id&&b?.id&&K){X(!0),T(""),V("");try{await h.hrisApi.lifecycle.update(a.id,{workflowAction:{type:"toggle-task",taskId:b.id,completed:c}}),V(c?"Checklist task marked as completed.":"Checklist task reverted to pending."),await aB()}catch(a){T(a.message||"Unable to update checklist task.")}finally{X(!1)}}},aP=async(a,b)=>{if(a?.id&&K){X(!0),T(""),V("");try{await h.hrisApi.lifecycle.update(a.id,{workflowAction:{type:"set-stage",stageIndex:b}}),V("Workflow stage updated."),await aB()}catch(a){T(a.message||"Unable to update workflow stage.")}finally{X(!1)}}},aQ=async a=>{if(a?.id&&K){X(!0),T(""),V("");try{let b=await h.hrisApi.lifecycle.offboard(a.id,{reason:"Resignation"}),c=H(b?.effects);V(c?`Offboarding completed. ${c}`:"Offboarding completed. Access revocation has been triggered."),await aB()}catch(a){T(a.message||"Unable to complete offboarding.")}finally{X(!1)}}},aR=async b=>{let c=b.target.files?.[0];if(!c||!aF||!K){b.target.value="";return}if(c.size>0xa00000){T("Evidence upload is limited to 10MB per file."),b.target.value="";return}c.name,X(!0),T(""),V("");try{let b=await (0,i.uploadLifecycleEvidenceToStorage)({file:c,lifecycleRecordId:aF.id,employeeEmail:aF.employeeEmail});await h.hrisApi.lifecycle.update(aF.id,{workflowAction:{type:"add-evidence",evidence:{id:`evidence-${Date.now()}`,name:String(c.name||"").trim()||"Evidence File",ref:b.downloadUrl,storagePath:b.storagePath,contentType:b.contentType,sizeBytes:b.sizeBytes,uploadedAt:new Date().toISOString(),uploadedBy:a?.email||"system@gmail.com"}}}),V("Evidence file uploaded."),await aB()}catch(a){T(a.message||"Unable to upload evidence file.")}finally{X(!1),b.target.value=""}},aS=async(a,b)=>{if(!a?.id||!b?.id||!K)return;let c=String(b?.name||"evidence file").trim();X(!0),T(""),V("");try{await h.hrisApi.lifecycle.update(a.id,{workflowAction:{type:"remove-evidence",evidenceId:b.id}});let c=String(b?.storagePath||"").trim();c&&(0,i.removeStorageObjectByPath)(c).catch(()=>null),V("Evidence file removed."),await aB()}catch(a){T(a.message||"Unable to remove evidence file.")}finally{X(!1)}},aT=()=>{W||(at([]),_(!1))},aU=()=>{W||ab(!1)},aV=a=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{className:"font-medium text-slate-900",children:x(a.employee)}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:x(a.employeeEmail)})]}),aW=(a,c)=>{let d;return(0,b.jsx)("td",{className:"px-2 py-3 text-right",children:(0,b.jsxs)("div",{className:"inline-flex flex-wrap items-center justify-end gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{var b;(b=a.id)&&(ar(b),ab(!0))},className:`rounded-lg border px-2.5 py-1.5 text-xs font-medium transition ${c?"border-sky-300 bg-sky-50 text-sky-700":"border-slate-300 bg-white text-slate-700 hover:bg-slate-50"}`,children:c?"Opened":"Open Workflow"}),K&&((d=w(a?.category)).includes("offboard")||d.includes("resign")||d.includes("terminate"))?(0,b.jsx)("button",{type:"button",onClick:()=>aQ(a),disabled:W,className:"rounded-lg border border-rose-200 bg-rose-50 px-2.5 py-1.5 text-xs font-medium text-rose-700 transition hover:bg-rose-100 disabled:opacity-60",children:"Offboard"}):null]})})};return(0,b.jsxs)("div",{className:"space-y-4",children:[S?(0,b.jsx)("p",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:S}):null,ak?(0,b.jsx)("p",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-700",children:ak}):null,U?(0,b.jsx)("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:U}):null,K&&$?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-slate-900/45 p-4 sm:items-center",role:"dialog","aria-modal":"true","aria-label":"Create Lifecycle Workflow",onClick:aT,children:(0,b.jsxs)("div",{className:"my-4 flex max-h-[calc(100vh-2rem)] w-full max-w-5xl flex-col rounded-2xl border border-slate-200 bg-white p-5 shadow-2xl sm:p-6",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:"Create Lifecycle Workflow"}),(0,b.jsx)("p",{className:"mt-0.5 text-sm text-slate-600",children:"Onboarding, role change, disciplinary, and offboarding actions"})]}),(0,b.jsx)("button",{type:"button",onClick:aT,disabled:W,className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 disabled:opacity-70","aria-label":"Close create workflow modal",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-4 w-4","aria-hidden":"true",children:(0,b.jsx)("path",{d:"m6 6 12 12M18 6 6 18"})})})]}),(0,b.jsxs)("form",{className:"mt-4 grid flex-1 gap-3 overflow-y-auto pr-1 md:grid-cols-3",onSubmit:aN,children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Lifecycle Category"}),(0,b.jsxs)("select",{value:Y.category,onChange:a=>{let b=a.target.value,c=E(b);c||at([]),Z(a=>{if(c)return{...a,category:b,employeeRecordId:"",employee:G(a),employeeEmail:"",onboardingEmployeeId:"",onboardingFirstName:"",onboardingMiddleName:"",onboardingLastName:"",onboardingSuffix:"",onboardingRole:"",onboardingDepartment:"",onboardingStartDate:"",workSetup:"On-site",activateEmploymentNow:!0,roleFrom:"",departmentFrom:""};let d=ag.find(b=>b.id===a.employeeRecordId)||ag[0]||null;return{...a,category:b,employeeRecordId:d?.id||a.employeeRecordId||"",employee:d?.name||a.employee||"",employeeEmail:d?.email||a.employeeEmail||"",onboardingRole:d?.currentRole||a.onboardingRole||"",onboardingDepartment:d?.currentDepartment||a.onboardingDepartment||"",roleFrom:d?.currentRole||a.roleFrom||"",departmentFrom:d?.currentDepartment||a.departmentFrom||""}})},className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{children:"Onboarding"}),(0,b.jsx)("option",{children:"Role Change"}),(0,b.jsx)("option",{children:"Disciplinary"}),(0,b.jsx)("option",{children:"Offboarding"})]})]}),E(Y.category)?(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Workflow Status"}),(0,b.jsx)("input",{value:Y.activateEmploymentNow?"Approved (auto on create)":"In Progress",readOnly:!0,"aria-readonly":"true",className:"h-9 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 text-xs font-medium text-slate-700"})]}):(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Workflow Status"}),(0,b.jsxs)("select",{value:Y.status,onChange:aM("status"),className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{children:"In Progress"}),(0,b.jsx)("option",{children:"Completed"}),(0,b.jsx)("option",{children:"Approved"}),(0,b.jsx)("option",{children:"Rejected"})]})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 md:col-span-3",children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Workflow Steps"}),(0,b.jsxs)("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:[(0,b.jsx)("span",{className:"inline-flex rounded-md border border-sky-200 bg-sky-50 px-2 py-1 text-[11px] font-medium text-sky-700",children:"1. Encode Employee Details"}),(0,b.jsx)("span",{className:"inline-flex rounded-md border border-sky-200 bg-sky-50 px-2 py-1 text-[11px] font-medium text-sky-700",children:"2. Upload Documents"}),(0,b.jsx)("span",{className:"inline-flex rounded-md border border-sky-200 bg-sky-50 px-2 py-1 text-[11px] font-medium text-sky-700",children:"3. Create Account"}),(0,b.jsx)("span",{className:"inline-flex rounded-md border border-sky-200 bg-sky-50 px-2 py-1 text-[11px] font-medium text-sky-700",children:"4. Activate Employment"})]})]}),E(Y.category)?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employee Number"}),(0,b.jsx)("input",{required:!0,value:Y.onboardingEmployeeId,onChange:aM("onboardingEmployeeId"),placeholder:"Employee number",className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Last Name"}),(0,b.jsx)("input",{required:!0,value:Y.onboardingLastName,onChange:aM("onboardingLastName"),placeholder:"Last name",className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"First Name"}),(0,b.jsx)("input",{required:!0,value:Y.onboardingFirstName,onChange:aM("onboardingFirstName"),placeholder:"First name",className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Middle Name"}),(0,b.jsx)("input",{value:Y.onboardingMiddleName,onChange:aM("onboardingMiddleName"),placeholder:"Middle name",className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Suffix"}),(0,b.jsx)("input",{value:Y.onboardingSuffix,onChange:aM("onboardingSuffix"),placeholder:"Suffix (optional)",className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("div",{className:"space-y-1 md:col-span-2",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Account Email (Google Sign-In)"}),(0,b.jsx)("input",{required:!0,value:Y.employeeEmail,onChange:aM("employeeEmail"),type:"email",placeholder:"employee@gmail.com",className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Assigned Role"}),(0,b.jsxs)("select",{required:!0,value:Y.onboardingRole,onChange:aM("onboardingRole"),className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"Select role"}),aA.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},`onboarding-role-${a.value}`))]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Assigned Department"}),(0,b.jsxs)("select",{required:!0,value:Y.onboardingDepartment,onChange:aM("onboardingDepartment"),className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"Select department"}),az.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},`onboarding-department-${a.value}`))]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Work Setup"}),(0,b.jsx)("select",{value:Y.workSetup,onChange:aM("workSetup"),className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:p.map(a=>(0,b.jsx)("option",{value:a,children:a},`work-setup-${a}`))})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employment Start Date"}),(0,b.jsx)("input",{type:"date",required:!0,value:Y.onboardingStartDate,onChange:aM("onboardingStartDate"),className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("div",{className:"space-y-1 md:col-span-2",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Generated Employee Display Name"}),(0,b.jsx)("input",{value:G(Y),readOnly:!0,"aria-readonly":"true",className:"h-9 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 text-xs font-medium text-slate-700"})]}),(0,b.jsxs)("div",{className:"space-y-1 md:col-span-3",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Upload Onboarding Documents"}),(0,b.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.png,.jpg,.jpeg,.doc,.docx",onChange:a=>{at(Array.from(a.target.files||[]).slice(0,10))},className:"block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-xs text-slate-700 file:mr-3 file:rounded-md file:border-0 file:bg-slate-100 file:px-2.5 file:py-1.5 file:text-xs file:font-semibold file:text-slate-700 hover:file:bg-slate-200"}),(0,b.jsx)("p",{className:"text-[11px] text-slate-500",children:"Add contracts, IDs, NDA, and other onboarding files (max 10 files, 10 MB each)."}),as.length>0?(0,b.jsx)("div",{className:"flex flex-wrap gap-1.5",children:as.map((a,c)=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-md border border-slate-200 bg-slate-50 px-2 py-1 text-[11px] text-slate-700",children:[(0,b.jsx)("span",{className:"max-w-[210px] truncate",children:a.name}),(0,b.jsxs)("span",{className:"text-slate-500",children:["(",y(a.size),")"]}),(0,b.jsx)("button",{type:"button",onClick:()=>{at(a=>a.filter((a,b)=>b!==c))},className:"rounded px-1 text-slate-500 transition hover:bg-slate-200 hover:text-slate-700","aria-label":`Remove ${a.name}`,children:"x"})]},`${a.name}-${a.size}-${a.lastModified}-${c}`))}):(0,b.jsx)("p",{className:"text-[11px] text-slate-500",children:"No files selected."})]}),(0,b.jsxs)("div",{className:"space-y-1 md:col-span-3",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Activate Employment"}),(0,b.jsxs)("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-700",children:[(0,b.jsx)("input",{type:"checkbox",checked:!!Y.activateEmploymentNow,onChange:a=>{Z(b=>({...b,activateEmploymentNow:!!a.target.checked}))},className:"h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-500"}),"Activate employment immediately after onboarding is created."]})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employee Name"}),(0,b.jsxs)("select",{required:!0,value:Y.employeeRecordId,onChange:a=>{let b=a.target.value,c=ag.find(a=>a.id===b);Z(a=>({...a,employeeRecordId:b,employee:c?.name||"",employeeEmail:c?.email||"",onboardingRole:c?.currentRole||"",onboardingDepartment:c?.currentDepartment||"",roleFrom:c?.currentRole||"",departmentFrom:c?.currentDepartment||""}))},className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:ai?"Loading employee names...":"Select employee name"}),ag.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},`name-${a.id}`))]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employee Email"}),(0,b.jsx)("input",{value:Y.employeeEmail,readOnly:!0,"aria-readonly":"true",className:"h-9 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 text-xs font-medium text-slate-700"})]})]}),D(Y.category)?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Current Role"}),(0,b.jsx)("input",{value:x(A(Y.roleFrom)),readOnly:!0,"aria-readonly":"true",title:"Auto-fetched from selected employee record",className:"h-9 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 text-xs font-medium text-slate-700"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"New Role"}),(0,b.jsxs)("select",{required:!0,value:Y.roleTo,onChange:aM("roleTo"),className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"Select role"}),aA.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},`role-to-${a.value}`))]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Effective Date"}),(0,b.jsx)("input",{value:Y.effectiveDate,onChange:aM("effectiveDate"),type:"date",className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Current Department"}),(0,b.jsx)("input",{value:x(Y.departmentFrom),readOnly:!0,"aria-readonly":"true",title:"Auto-fetched from selected employee record",className:"h-9 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 text-xs font-medium text-slate-700"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"New Department"}),(0,b.jsxs)("select",{value:Y.departmentTo,onChange:aM("departmentTo"),className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"Select department"}),az.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},`department-to-${a.value}`))]})]}),(0,b.jsxs)("div",{className:"space-y-1 md:col-span-3",children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Role Change Justification"}),(0,b.jsx)("input",{value:Y.justification,onChange:aM("justification"),placeholder:"Enter justification",className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"})]})]}):null,(0,b.jsxs)("div",{className:`space-y-1 ${D(Y.category)||E(Y.category)?"md:col-span-3":""}`,children:[(0,b.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Notes"}),(0,b.jsx)("input",{value:Y.details,onChange:aM("details"),placeholder:E(Y.category)?"Onboarding notes":"Details / notes",className:"h-9 w-full rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,b.jsxs)("div",{className:"sticky bottom-0 z-10 mt-1 flex items-center justify-end gap-2 border-t border-slate-200 bg-white pt-3 md:col-span-3",children:[(0,b.jsx)("button",{type:"button",onClick:aT,disabled:W,className:"inline-flex h-9 items-center rounded-lg border border-slate-300 bg-white px-3 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-70",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:W||ai||ao||(E(Y.category)?!String(Y.onboardingEmployeeId||"").trim()||!String(Y.onboardingLastName||"").trim()||!String(Y.onboardingFirstName||"").trim()||!String(Y.employeeEmail||"").trim()||!String(Y.onboardingRole||"").trim()||!String(Y.onboardingDepartment||"").trim()||!String(Y.onboardingStartDate||"").trim():0===ag.length||!Y.employeeRecordId),className:"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:W?"Saving...":"Create Workflow"})]})]})]})}):null,(0,b.jsx)(d.default,{title:av.label,subtitle:ax,children:(0,b.jsx)("div",{className:"grid gap-3 sm:grid-cols-3",children:aL.map(a=>(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:a.label}),(0,b.jsx)("p",{className:"mt-0.5 text-lg font-semibold text-slate-900",children:a.value})]},a.key))})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(d.default,{title:"Lifecycle Records",subtitle:"Dedicated workflow records by lifecycle module with strict audit traceability",action:(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[K?(0,b.jsx)("button",{type:"button",onClick:()=>{let a=aw||"Onboarding",b=E(a),c=!b&&(ag.find(a=>a.id===Y.employeeRecordId)||ag[0])||null;Z(d=>({...t,employeeRecordId:b?"":c?.id||d.employeeRecordId||"",employee:b?"":c?.name||d.employee||"",employeeEmail:b?"":c?.email||d.employeeEmail||"",onboardingRole:b?"":c?.currentRole||d.onboardingRole||"",onboardingDepartment:b?"":c?.currentDepartment||d.onboardingDepartment||"",roleFrom:b?"":c?.currentRole||d.roleFrom||"",departmentFrom:b?"":c?.currentDepartment||d.departmentFrom||"",category:a,owner:L,status:"In Progress"})),at([]),_(!0)},className:"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700",children:"Create Lifecycle Workflow"}):null,(0,b.jsx)("input",{value:ae,onChange:a=>af(a.target.value),placeholder:"Search workflow",className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none"}),(0,b.jsxs)("select",{value:ac,onChange:a=>ad(a.target.value),className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"All Status"}),(0,b.jsx)("option",{value:"in progress",children:"In Progress"}),(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"approved",children:"Approved"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"rejected",children:"Rejected"}),(0,b.jsx)("option",{value:"revoked",children:"Access Revoked"})]})]}),children:Q?(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Loading lifecycle records..."}):0===aE.length?(0,b.jsx)(e.default,{title:"No lifecycle workflows found",subtitle:"Create a workflow or change filters to view results."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:"onboarding"===M?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee Number"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Effective Date"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Initiated By"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Decision At"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Updated"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]}):"role-changes"===M?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Role From -> Role To"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Department From -> Department To"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Effective Date"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Initiated By"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Decision At"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Updated"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]}):"disciplinary-records"===M?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Stage"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Checklist"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Effective Date"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Initiated By"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Decision At"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Updated"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]}):"offboarding-access-revocation"===M?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Stage"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Initiated By"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Access Revoked At"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Archive Until"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Updated"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Category"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Stage"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Effective Date"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Initiated By"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Decision At"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Updated"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]})})}),(0,b.jsx)("tbody",{children:aE.map(a=>{let c,d={completed:(c=(Array.isArray(a?.workflow?.checklist)?a.workflow.checklist:[]).filter(a=>a?.required!==!1)).filter(a=>"completed"===w(a?.status)).length,total:c.length},e=aa&&aq===a.id;return(0,b.jsx)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:((a,{checklistProgress:c,rowSelected:d})=>{let e,g,h,i,j,k,l,m,n,o=(e=F(a),String(e?.effectiveDate||e?.startDate||"").trim()||""),p=String(a?.owner||"").trim(),q=function(a){let b=Array.isArray(a?.traceability)?a.traceability:[];for(let a=b.length-1;a>=0;a-=1){let c=b[a],d=w(c?.status);if(d.includes("approved")||d.includes("completed")||d.includes("rejected")){let a=String(c?.at||"").trim();if(a)return a}}let c=w(a?.status);return c.includes("approved")||c.includes("completed")||c.includes("rejected")?String(a?.updatedAt||a?.createdAt||"").trim():""}(a),r=(g=F(a),h=String(g?.roleFrom||"").trim(),i=String(g?.roleTo||g?.role||"").trim(),h||i?`${A(h||"-")} -> ${A(i||"-")}`:""),s=(j=F(a),k=String(j?.departmentFrom||"").trim(),l=String(j?.departmentTo||j?.department||"").trim(),k||l?`${k||"-"} -> ${l||"-"}`:""),t=(m=F(a),String(m?.employeeId||m?.employeeNumber||"").trim()||""),y=function(a){if((Array.isArray(a?.lastAutomationEffects)?a.lastAutomationEffects:[]).some(a=>"access-revocation"===w(a?.type)))return String(a?.lastAutomationAt||a?.updatedAt||"").trim();let b=w(a?.status);return b.includes("revoked")||b.includes("terminated")||b.includes("disabled")?String(a?.updatedAt||"").trim():""}(a),z=(n=(Array.isArray(a?.lastAutomationEffects)?a.lastAutomationEffects:[]).find(a=>"archive-policy"===w(a?.type)),String(n?.retentionDeleteAt||a?.retentionDeleteAt||"").trim()||"");return"onboarding"===M?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("td",{className:"px-2 py-3",children:aV(a)}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:x(t)}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:v(o)}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:x(p)}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)(f.default,{value:a.status||"-"})}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:q?u(q):"-"}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:u(a.updatedAt||a.createdAt)}),aW(a,d)]}):"role-changes"===M?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("td",{className:"px-2 py-3",children:aV(a)}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:x(r)}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:x(s)}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:v(o)}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:x(p)}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)(f.default,{value:a.status||"-"})}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:q?u(q):"-"}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:u(a.updatedAt||a.createdAt)}),aW(a,d)]}):"disciplinary-records"===M?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("td",{className:"px-2 py-3",children:aV(a)}),(0,b.jsx)("td",{className:"px-2 py-3",children:x(a?.workflow?.stage)}),(0,b.jsxs)("td",{className:"px-2 py-3 text-xs",children:[c.completed,"/",c.total]}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:v(o)}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:x(p)}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)(f.default,{value:a.status||"-"})}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:q?u(q):"-"}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:u(a.updatedAt||a.createdAt)}),aW(a,d)]}):"offboarding-access-revocation"===M?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("td",{className:"px-2 py-3",children:aV(a)}),(0,b.jsx)("td",{className:"px-2 py-3",children:x(a?.workflow?.stage)}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:x(p)}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)(f.default,{value:a.status||"-"})}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:y?u(y):"-"}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:z?u(z):"-"}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:u(a.updatedAt||a.createdAt)}),aW(a,d)]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("td",{className:"px-2 py-3",children:aV(a)}),(0,b.jsx)("td",{className:"px-2 py-3",children:x(a.category)}),(0,b.jsx)("td",{className:"px-2 py-3",children:x(a?.workflow?.stage)}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:v(o)}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:x(p)}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)(f.default,{value:a.status||"-"})}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs",children:q?u(q):"-"}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:u(a.updatedAt||a.createdAt)}),aW(a,d)]})})(a,{checklistProgress:d,rowSelected:e})},a.id)})})]})})}),aa?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 p-4",role:"dialog","aria-modal":"true","aria-label":"Workflow Console",onClick:aU,children:(0,b.jsxs)("div",{className:"w-full max-w-5xl rounded-2xl border border-slate-200 bg-white p-4 shadow-2xl sm:p-5",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"mb-3 flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:"Workflow Console"}),(0,b.jsx)("p",{className:"mt-0.5 text-sm text-slate-600",children:"Checklist automation, stage control, and lifecycle evidence management"})]}),(0,b.jsx)("button",{type:"button",onClick:aU,disabled:W,className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 disabled:opacity-60","aria-label":"Close workflow console",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-4 w-4","aria-hidden":"true",children:(0,b.jsx)("path",{d:"m6 6 12 12M18 6 6 18"})})})]}),(0,b.jsx)(d.default,{children:aF?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2.5",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:x(aF.employee)}),(0,b.jsx)("p",{className:"text-xs text-slate-600",children:x(aF.employeeEmail)}),(0,b.jsxs)("div",{className:"mt-2 flex flex-wrap gap-1.5 text-[11px] text-slate-600",children:[(0,b.jsxs)("span",{className:"rounded-md border border-slate-200 bg-white px-2 py-1",children:["Stage: ",x(aF?.workflow?.stage)]}),(0,b.jsxs)("span",{className:"rounded-md border border-slate-200 bg-white px-2 py-1",children:["SLA Due: ",v(aF?.workflow?.slaDueAt)]})]})]}),(0,b.jsx)("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Stage Control"}),K?(0,b.jsx)("select",{value:aI,onChange:a=>aP(aF,Number.parseInt(a.target.value,10)||0),disabled:W,className:"h-8 rounded-md border border-slate-300 bg-white px-2.5 text-xs text-slate-700 focus:border-sky-400 focus:outline-none",children:aH.map((a,c)=>(0,b.jsx)("option",{value:c,children:a},`${a}-${c}`))}):null]})}),(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Checklist Automation"}),(0,b.jsx)("div",{className:"mt-2 space-y-2",children:0===aG.length?(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"No checklist tasks generated yet."}):aG.map(a=>{let c="completed"===w(a?.status);return(0,b.jsx)("div",{className:"rounded-md border border-slate-200 bg-slate-50 px-2.5 py-2",children:(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-slate-800",children:x(a.label)}),(0,b.jsxs)("p",{className:"text-[11px] text-slate-500",children:["Due: ",u(a.dueAt)," | Status: ",x(a.status)]})]}),K?(0,b.jsx)("button",{type:"button",onClick:()=>aO(aF,a,!c),disabled:W,className:`inline-flex h-7 items-center rounded-md border px-2.5 text-[11px] font-semibold transition disabled:opacity-60 ${c?"border-amber-200 bg-amber-50 text-amber-700 hover:bg-amber-100":"border-emerald-200 bg-emerald-50 text-emerald-700 hover:bg-emerald-100"}`,children:c?"Set Pending":"Mark Complete"}):null]})},a.id)})})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Evidence Attachments"}),K?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>au.current?.click(),disabled:W,className:"inline-flex h-8 items-center rounded-md border border-slate-300 bg-white px-3 text-[11px] font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-60",children:"Upload Evidence"}),(0,b.jsx)("input",{ref:au,type:"file",className:"hidden",onChange:aR})]}):null]}),(0,b.jsx)("div",{className:"mt-2 space-y-2",children:0===aJ.length?(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"No evidence files attached."}):aJ.map(a=>(0,b.jsx)("div",{className:"rounded-md border border-slate-200 bg-slate-50 px-2.5 py-2",children:(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-slate-800",children:x(a.name)}),(0,b.jsxs)("p",{className:"text-[11px] text-slate-500",children:[y(a.sizeBytes)," | ",u(a.uploadedAt)]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[String(a.ref||"").trim()?(0,b.jsx)("a",{href:String(a.ref),target:"_blank",rel:"noreferrer",className:"inline-flex h-7 items-center rounded-md border border-sky-200 bg-sky-50 px-2.5 text-[11px] font-semibold text-sky-700 transition hover:bg-sky-100",children:"Open"}):null,K?(0,b.jsx)("button",{type:"button",onClick:()=>aS(aF,a),disabled:W,className:"inline-flex h-7 items-center rounded-md border border-rose-200 bg-rose-50 px-2.5 text-[11px] font-semibold text-rose-700 transition hover:bg-rose-100 disabled:opacity-60",children:"Remove"}):null]})]})},a.id))})]})]}):(0,b.jsx)(e.default,{title:"No workflow selected",subtitle:"Open a lifecycle record from the table to continue."})})]})}):null]})]})}a.s(["default",()=>I])}];

//# sourceMappingURL=src_components_hris_modules_EmploymentLifecycleModule_jsx_59ec30d3._.js.map