{"version":3,"sources":["../../../../src/components/hris/HrisShell.jsx","../../../../src/components/hris/ModuleSubTabAnchors.jsx","../../../../src/lib/hris.js","../../../../src/lib/rbac.js"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport BrandMark from \"@/components/ui/BrandMark\";\nimport ModuleSubTabAnchors from \"@/components/hris/ModuleSubTabAnchors\";\nimport { useToast } from \"@/components/ui/ToastProvider\";\nimport { getModulesForRole, normalizeRole } from \"@/lib/hris\";\nimport { canAccessModule } from \"@/lib/rbac\";\nimport { MODULES } from \"@/features/hris/constants\";\nimport { formatPersonName } from \"@/lib/name-utils\";\nimport {\n  removeStorageObjectByPath,\n  uploadProfilePhotoToStorage,\n} from \"@/services/firebase-storage-client\";\nimport { cn } from \"@/lib/utils\";\n\nconst MODULE_ID_BY_HREF = new Map(\n  MODULES.map((module) => [String(module?.href || \"\").trim().toLowerCase(), module.id]),\n);\nconst MODULE_ID_BY_LABEL = new Map(\n  MODULES.map((module) => [String(module?.label || \"\").trim().toLowerCase(), module.id]),\n);\n\nfunction getInitials(label) {\n  const initials = label\n    .split(\" \")\n    .filter(Boolean)\n    .map((word) => word.charAt(0).toUpperCase())\n    .slice(0, 2)\n    .join(\"\");\n\n  return initials || \"CU\";\n}\n\nfunction getModuleLabelForRole(moduleId, defaultLabel, role) {\n  const normalizedRole = String(role || \"\").trim().toUpperCase();\n  if (!normalizedRole.startsWith(\"EMPLOYEE_\")) {\n    return defaultLabel;\n  }\n\n  const employeeLabels = {\n    employees: \"My Profile\",\n    attendance: \"My Attendance\",\n    performance: \"My Performance\",\n    documents: \"My Documents\",\n  };\n\n  return employeeLabels[moduleId] || defaultLabel;\n}\n\nfunction formatRoleLabel(roleValue) {\n  const role = String(roleValue || \"\").trim().toUpperCase();\n  if (role === \"EMPLOYEE\" || role.startsWith(\"EMPLOYEE_\")) {\n    return \"Employee\";\n  }\n  const map = {\n    SUPER_ADMIN: \"Super Admin\",\n    GRC: \"GRC\",\n    HR: \"HR\",\n    EA: \"EA\",\n  };\n  return map[role] || \"Employee\";\n}\n\nfunction formatEmployeeRoleLabel(roleValue) {\n  const role = String(roleValue || \"\").trim().toUpperCase();\n  const employeeMap = {\n    EMPLOYEE: \"Employee\",\n    EMPLOYEE_L1: \"Employee (L1)\",\n    EMPLOYEE_L2: \"Employee (L2)\",\n    EMPLOYEE_L3: \"Employee (L3)\",\n  };\n  if (employeeMap[role]) {\n    return employeeMap[role];\n  }\n  return formatRoleLabel(role);\n}\n\nfunction formatDateTime(value) {\n  const date = value ? new Date(value) : null;\n  if (!date || Number.isNaN(date.getTime())) {\n    return \"-\";\n  }\n  return new Intl.DateTimeFormat(\"en-US\", {\n    month: \"short\",\n    day: \"2-digit\",\n    year: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  }).format(date);\n}\n\nfunction formatDate(value) {\n  const date = value ? new Date(value) : null;\n  if (!date || Number.isNaN(date.getTime())) {\n    return \"-\";\n  }\n  return new Intl.DateTimeFormat(\"en-US\", {\n    month: \"short\",\n    day: \"2-digit\",\n    year: \"numeric\",\n  }).format(date);\n}\n\nfunction formatSourceIp(value) {\n  const ip = String(value || \"\").trim();\n  if (!ip || ip.toLowerCase() === \"unknown\") {\n    return \"Unknown\";\n  }\n\n  const localIpSet = new Set([\"::1\", \"127.0.0.1\", \"::ffff:127.0.0.1\"]);\n  if (localIpSet.has(ip.toLowerCase())) {\n    return `Localhost (${ip})`;\n  }\n\n  return ip;\n}\n\nfunction formatNotificationRelativeTime(value) {\n  const date = value ? new Date(value) : null;\n  if (!date || Number.isNaN(date.getTime())) {\n    return \"Just now\";\n  }\n\n  const diffMs = Date.now() - date.getTime();\n  const diffMinutes = Math.floor(diffMs / (1000 * 60));\n  if (diffMinutes <= 0) {\n    return \"Just now\";\n  }\n  if (diffMinutes < 60) {\n    return `${diffMinutes}m ago`;\n  }\n  const diffHours = Math.floor(diffMinutes / 60);\n  if (diffHours < 24) {\n    return `${diffHours}h ago`;\n  }\n  const diffDays = Math.floor(diffHours / 24);\n  if (diffDays < 7) {\n    return `${diffDays}d ago`;\n  }\n  return formatDateTime(date.toISOString());\n}\n\nfunction notificationSeverityClass(value) {\n  const severity = String(value || \"\").trim().toLowerCase();\n  if (severity === \"critical\") {\n    return \"border-rose-200 bg-rose-50 text-rose-700\";\n  }\n  if (severity === \"high\") {\n    return \"border-amber-200 bg-amber-50 text-amber-700\";\n  }\n  if (severity === \"low\") {\n    return \"border-emerald-200 bg-emerald-50 text-emerald-700\";\n  }\n  return \"border-sky-200 bg-sky-50 text-sky-700\";\n}\n\nfunction resolveActionPathname(actionUrl) {\n  const raw = String(actionUrl || \"\").trim();\n  if (!raw) {\n    return \"\";\n  }\n\n  try {\n    const base = typeof window === \"undefined\" ? \"http://localhost\" : window.location.origin;\n    return String(new URL(raw, base).pathname || \"\").trim().toLowerCase();\n  } catch {\n    return raw.split(\"?\")[0].split(\"#\")[0].trim().toLowerCase();\n  }\n}\n\nfunction resolveNotificationModuleId(notification) {\n  const actionPathname = resolveActionPathname(notification?.actionUrl);\n  if (actionPathname) {\n    const firstSegment = actionPathname.replace(/^\\/+/, \"\").split(\"/\")[0];\n    const fromHref = MODULE_ID_BY_HREF.get(`/${firstSegment}`);\n    if (fromHref) {\n      return fromHref;\n    }\n  }\n\n  const moduleLabel = String(notification?.module || \"\").trim().toLowerCase();\n  return MODULE_ID_BY_LABEL.get(moduleLabel) || \"\";\n}\n\nfunction ModuleIcon({ moduleId, active }) {\n  const iconClass = cn(\n    \"h-4 w-4 transition-colors\",\n    active ? \"text-sky-700\" : \"text-slate-500 group-hover:text-slate-700\",\n  );\n\n  switch (moduleId) {\n    case \"dashboard\":\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\n          <rect x=\"3.5\" y=\"3.5\" width=\"7\" height=\"7\" rx=\"1.2\" />\n          <rect x=\"13.5\" y=\"3.5\" width=\"7\" height=\"4.5\" rx=\"1.2\" />\n          <rect x=\"13.5\" y=\"10.5\" width=\"7\" height=\"10\" rx=\"1.2\" />\n          <rect x=\"3.5\" y=\"13\" width=\"7\" height=\"7.5\" rx=\"1.2\" />\n        </svg>\n      );\n    case \"employees\":\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\n          <circle cx=\"9\" cy=\"8.3\" r=\"3.1\" />\n          <path d=\"M3.8 18.3c0-3.2 2.4-5.2 5.2-5.2s5.2 2 5.2 5.2\" />\n          <path d=\"M15.1 9.3a2.5 2.5 0 1 0 0-5\" />\n          <path d=\"M20 18.2c0-2.3-1.3-3.9-3.4-4.7\" />\n        </svg>\n      );\n    case \"employment-lifecycle\":\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\n          <path d=\"M4.5 6.2h15\" />\n          <path d=\"M4.5 12h15\" />\n          <path d=\"M4.5 17.8h15\" />\n          <circle cx=\"7.2\" cy=\"6.2\" r=\"1.2\" />\n          <circle cx=\"12\" cy=\"12\" r=\"1.2\" />\n          <circle cx=\"16.8\" cy=\"17.8\" r=\"1.2\" />\n        </svg>\n      );\n    case \"attendance\":\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\n          <rect x=\"4\" y=\"5.2\" width=\"16\" height=\"14.2\" rx=\"2\" />\n          <path d=\"M8 3.8v2.4M16 3.8v2.4M4 9.2h16\" />\n          <path d=\"m9.1 14 1.9 1.9 4-4\" />\n        </svg>\n      );\n    case \"performance\":\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\n          <path d=\"M4.2 18.5h15.6\" />\n          <rect x=\"6.2\" y=\"11.5\" width=\"2.8\" height=\"7\" rx=\"0.8\" />\n          <rect x=\"10.6\" y=\"8.5\" width=\"2.8\" height=\"10\" rx=\"0.8\" />\n          <rect x=\"15\" y=\"5.5\" width=\"2.8\" height=\"13\" rx=\"0.8\" />\n        </svg>\n      );\n    case \"activity-log\":\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\n          <circle cx=\"12\" cy=\"12\" r=\"8.5\" />\n          <path d=\"M12 7.4v5.1l3.6 2.2\" />\n        </svg>\n      );\n    case \"exports\":\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\n          <path d=\"M12 4.2v9.6\" />\n          <path d=\"m8.4 10.1 3.6 3.7 3.6-3.7\" />\n          <rect x=\"4\" y=\"15.5\" width=\"16\" height=\"4.3\" rx=\"1.2\" />\n        </svg>\n      );\n    case \"access-management\":\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\n          <path d=\"M12 3.8 5.2 6.5v5.3c0 4.1 2.5 7.7 6.8 8.4 4.3-.7 6.8-4.3 6.8-8.4V6.5L12 3.8Z\" />\n          <path d=\"M9.2 12.3 11 14l3.8-3.9\" />\n        </svg>\n      );\n    case \"retention-archive\":\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\n          <rect x=\"4.4\" y=\"5.2\" width=\"15.2\" height=\"4.2\" rx=\"1\" />\n          <path d=\"M6.1 9.6h11.8v8.7a1.7 1.7 0 0 1-1.7 1.7H7.8a1.7 1.7 0 0 1-1.7-1.7V9.6Z\" />\n          <path d=\"M9 13.1h6M9 16h6\" />\n        </svg>\n      );\n    case \"incident-management\":\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\n          <path d=\"m12 3.8 8.1 14.1a1.2 1.2 0 0 1-1 1.8H4.9a1.2 1.2 0 0 1-1-1.8L12 3.8Z\" />\n          <path d=\"M12 9v5.2M12 17.5h.01\" />\n        </svg>\n      );\n    case \"documents\":\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\n          <path d=\"M7.5 3.8h7l4 4v12.4a1.8 1.8 0 0 1-1.8 1.8H7.5a1.8 1.8 0 0 1-1.8-1.8V5.6a1.8 1.8 0 0 1 1.8-1.8Z\" />\n          <path d=\"M14.5 3.8v4h4\" />\n          <path d=\"M8.8 13h6.6M8.8 16.4h6.6\" />\n        </svg>\n      );\n    case \"requests\":\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\n          <rect x=\"4\" y=\"4.5\" width=\"16\" height=\"15\" rx=\"2\" />\n          <path d=\"M8 9h8M8 13h5\" />\n          <path d=\"m14 16 2.1 2.1L20 14.2\" />\n        </svg>\n      );\n    case \"settings\":\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\n          <path d=\"M9.9 4.8h4.2l.7 2 2.1.9 1.9-1.1 2.1 3.6-1.6 1.4v2.4l1.6 1.4-2.1 3.6-1.9-1.1-2.1.9-.7 2H9.9l-.7-2-2.1-.9-1.9 1.1-2.1-3.6 1.6-1.4v-2.4l-1.6-1.4 2.1-3.6 1.9 1.1 2.1-.9.7-2Z\" />\n          <circle cx=\"12\" cy=\"12\" r=\"2.7\" />\n        </svg>\n      );\n    case \"user-management\":\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={iconClass} aria-hidden=\"true\">\n          <circle cx=\"8.2\" cy=\"8.4\" r=\"2.6\" />\n          <circle cx=\"16.1\" cy=\"9.6\" r=\"2.2\" />\n          <path d=\"M3.9 18.7c0-2.9 2.1-4.8 4.8-4.8s4.8 1.9 4.8 4.8\" />\n          <path d=\"M13.4 18.3c.3-2 1.7-3.4 3.9-3.4 2.1 0 3.4 1.1 3.8 2.9\" />\n        </svg>\n      );\n    default:\n      return (\n        <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" className={iconClass} aria-hidden=\"true\">\n          <circle cx=\"12\" cy=\"12\" r=\"3\" />\n        </svg>\n      );\n  }\n}\n\nfunction SidebarCloseIcon({ className }) {\n  return (\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={className} aria-hidden=\"true\">\n      <rect x=\"3.6\" y=\"4.6\" width=\"16.8\" height=\"14.8\" rx=\"2.2\" />\n      <path d=\"M9 4.8v14.4\" />\n      <path d=\"m14.9 9-2.7 3 2.7 3\" />\n    </svg>\n  );\n}\n\nfunction SidebarOpenIcon({ className }) {\n  return (\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className={className} aria-hidden=\"true\">\n      <rect x=\"3.6\" y=\"4.6\" width=\"16.8\" height=\"14.8\" rx=\"2.2\" />\n      <path d=\"M9 4.8v14.4\" />\n      <path d=\"m13 9 2.8 3-2.8 3\" />\n    </svg>\n  );\n}\n\nexport default function HrisShell({ children, session }) {\n  const pathname = usePathname();\n  const router = useRouter();\n  const toast = useToast();\n  const role = normalizeRole(session?.role);\n  const [isSigningOut, setIsSigningOut] = useState(false);\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false);\n  const userEmail = session?.email ?? \"user@gmail.com\";\n  const [profile, setProfile] = useState(null);\n  const [profileDraft, setProfileDraft] = useState({\n    firstName: \"\",\n    middleName: \"\",\n    lastName: \"\",\n    profilePhotoDataUrl: \"\",\n    profilePhotoStoragePath: \"\",\n  });\n  const [isProfileLoading, setIsProfileLoading] = useState(true);\n  const [isProfileModalOpen, setIsProfileModalOpen] = useState(false);\n  const [isNotificationsOpen, setIsNotificationsOpen] = useState(false);\n  const [notifications, setNotifications] = useState([]);\n  const [notificationUnreadCount, setNotificationUnreadCount] = useState(0);\n  const [isLoadingNotifications, setIsLoadingNotifications] = useState(false);\n  const [isMarkingNotifications, setIsMarkingNotifications] = useState(false);\n  const [isSavingProfile, setIsSavingProfile] = useState(false);\n  const [isUploadingPhoto, setIsUploadingPhoto] = useState(false);\n  const [isLoadingProfileInsights, setIsLoadingProfileInsights] = useState(false);\n  const [isRevokingSessions, setIsRevokingSessions] = useState(false);\n  const [profileInsights, setProfileInsights] = useState({\n    role: String(session?.role || \"\"),\n    employmentRole: String(session?.role || \"\"),\n    employeeId: \"-\",\n    employeeName: \"-\",\n    employeeEmail: userEmail,\n    department: \"-\",\n    jobTitle: \"-\",\n    employmentStatus: \"-\",\n    recordStatus: \"-\",\n    managerEmail: \"-\",\n    hireDate: \"-\",\n    lastLoginAt: null,\n    lastActiveIp: \"unknown\",\n    lastActiveDevice: \"Unknown device\",\n    recentActivity: [],\n  });\n  const fileInputRef = useRef(null);\n  const notificationsButtonRef = useRef(null);\n  const notificationsPanelRef = useRef(null);\n  const profileButtonRef = useRef(null);\n  const profilePanelRef = useRef(null);\n  const userName = useMemo(\n    () =>\n      formatPersonName({\n        firstName: profile?.firstName,\n        middleName: profile?.middleName,\n        lastName: profile?.lastName,\n        fallbackEmail: userEmail,\n        fallbackLabel: \"Clio User\",\n      }),\n    [profile?.firstName, profile?.middleName, profile?.lastName, userEmail],\n  );\n  const userInitials = useMemo(() => getInitials(userName), [userName]);\n  const userAvatar = useMemo(() => {\n    const value = String(profile?.profilePhotoDataUrl || \"\").trim();\n    return value || \"\";\n  }, [profile]);\n\n  useEffect(() => {\n    const savedState = window.localStorage.getItem(\"clio_sidebar_collapsed\");\n    setIsSidebarCollapsed(savedState === \"true\");\n  }, []);\n\n  useEffect(() => {\n    window.localStorage.setItem(\"clio_sidebar_collapsed\", String(isSidebarCollapsed));\n  }, [isSidebarCollapsed]);\n\n  useEffect(() => {\n    let isMounted = true;\n\n    async function loadProfile() {\n      setIsProfileLoading(true);\n      try {\n        const response = await fetch(\"/api/auth/profile\", { method: \"GET\", cache: \"no-store\" });\n        const payload = await response.json().catch(() => ({}));\n        if (!response.ok) {\n          throw new Error(payload?.message || \"Unable to load account profile.\");\n        }\n        if (!isMounted) {\n          return;\n        }\n\n        const nextProfile = {\n          firstName: String(payload?.firstName || \"\"),\n          middleName: String(payload?.middleName || \"\"),\n          lastName: String(payload?.lastName || \"\"),\n          profilePhotoDataUrl: String(payload?.profilePhotoDataUrl || \"\"),\n          profilePhotoStoragePath: String(payload?.profilePhotoStoragePath || \"\"),\n        };\n        setProfile(nextProfile);\n        setProfileDraft(nextProfile);\n      } catch (error) {\n        if (isMounted) {\n          toast.error(error.message || \"Unable to load account profile.\");\n        }\n      } finally {\n        if (isMounted) {\n          setIsProfileLoading(false);\n        }\n      }\n    }\n\n    loadProfile();\n    return () => {\n      isMounted = false;\n    };\n  }, [toast, userEmail]);\n\n  const loadNotifications = useCallback(async ({ quiet = false } = {}) => {\n    if (!quiet) {\n      setIsLoadingNotifications(true);\n    }\n    try {\n      const response = await fetch(\"/api/notifications?status=all&limit=16\", {\n        method: \"GET\",\n        cache: \"no-store\",\n      });\n      const payload = await response.json().catch(() => ({}));\n      if (!response.ok) {\n        throw new Error(payload?.message || \"Unable to load notifications.\");\n      }\n      setNotifications(Array.isArray(payload?.records) ? payload.records : []);\n      setNotificationUnreadCount(Number(payload?.unreadCount || 0));\n    } catch (error) {\n      if (!quiet) {\n        toast.error(error.message || \"Unable to load notifications.\");\n      }\n    } finally {\n      if (!quiet) {\n        setIsLoadingNotifications(false);\n      }\n    }\n  }, [toast]);\n\n  useEffect(() => {\n    loadNotifications().catch(() => null);\n    const timer = window.setInterval(() => {\n      loadNotifications({ quiet: true }).catch(() => null);\n    }, 30000);\n\n    return () => {\n      window.clearInterval(timer);\n    };\n  }, [loadNotifications]);\n\n  useEffect(() => {\n    if ((!isProfileModalOpen && !isNotificationsOpen) || typeof window === \"undefined\") {\n      return;\n    }\n\n    const onKeyDown = (event) => {\n      if (event.key !== \"Escape\") {\n        return;\n      }\n      if (!isSavingProfile && !isUploadingPhoto && !isRevokingSessions) {\n        setIsProfileModalOpen(false);\n      }\n      if (!isMarkingNotifications) {\n        setIsNotificationsOpen(false);\n      }\n    };\n    const onPointerDown = (event) => {\n      const target = event.target;\n      if (!(target instanceof Node)) {\n        return;\n      }\n\n      const insideProfile =\n        profilePanelRef.current?.contains(target) || profileButtonRef.current?.contains(target);\n      const insideNotifications =\n        notificationsPanelRef.current?.contains(target) || notificationsButtonRef.current?.contains(target);\n      if (insideProfile || insideNotifications) {\n        return;\n      }\n\n      if (!isSavingProfile && !isUploadingPhoto && !isRevokingSessions) {\n        setIsProfileModalOpen(false);\n      }\n      if (!isMarkingNotifications) {\n        setIsNotificationsOpen(false);\n      }\n    };\n\n    window.addEventListener(\"keydown\", onKeyDown);\n    window.addEventListener(\"mousedown\", onPointerDown);\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown);\n      window.removeEventListener(\"mousedown\", onPointerDown);\n    };\n  }, [\n    isMarkingNotifications,\n    isNotificationsOpen,\n    isProfileModalOpen,\n    isRevokingSessions,\n    isSavingProfile,\n    isUploadingPhoto,\n  ]);\n\n  const modules = useMemo(() => getModulesForRole(role), [role]);\n  const currentDate = new Intl.DateTimeFormat(\"en-US\", { dateStyle: \"medium\" }).format(new Date());\n  const accountRoleLabel = formatRoleLabel(profileInsights.role || role);\n  const employmentRoleLabel = formatEmployeeRoleLabel(profileInsights.employmentRole || profileInsights.role || role);\n  const recentAccountActivity = Array.isArray(profileInsights.recentActivity)\n    ? profileInsights.recentActivity.slice(0, 5)\n    : [];\n  const canOpenNotificationTarget = useCallback(\n    (notification) => {\n      const actionUrl = String(notification?.actionUrl || \"\").trim();\n      if (!actionUrl) {\n        return false;\n      }\n\n      const moduleId = resolveNotificationModuleId(notification);\n      if (!moduleId) {\n        return false;\n      }\n\n      return canAccessModule(role, moduleId);\n    },\n    [role],\n  );\n\n  useEffect(() => {\n    modules.forEach((module) => {\n      router.prefetch(module.href);\n    });\n  }, [modules, router]);\n\n  const handleSignOut = async () => {\n    setIsSigningOut(true);\n    try {\n      await fetch(\"/api/auth/logout\", { method: \"POST\" });\n    } finally {\n      router.replace(\"/login\");\n      router.refresh();\n    }\n  };\n\n  const toggleSidebar = () => {\n    setIsSidebarCollapsed((current) => !current);\n  };\n\n  const toggleNotificationsPanel = () => {\n    if (isNotificationsOpen) {\n      setIsNotificationsOpen(false);\n      return;\n    }\n    setIsProfileModalOpen(false);\n    setIsNotificationsOpen(true);\n    loadNotifications({ quiet: true }).catch(() => null);\n  };\n\n  const toggleProfileEditor = () => {\n    if (isProfileModalOpen) {\n      closeProfileEditor();\n      return;\n    }\n    setProfileDraft({\n      firstName: String(profile?.firstName || \"\"),\n      middleName: String(profile?.middleName || \"\"),\n      lastName: String(profile?.lastName || \"\"),\n      profilePhotoDataUrl: String(profile?.profilePhotoDataUrl || \"\"),\n      profilePhotoStoragePath: String(profile?.profilePhotoStoragePath || \"\"),\n    });\n    setIsNotificationsOpen(false);\n    setIsProfileModalOpen(true);\n    loadProfileInsights();\n  };\n\n  const closeProfileEditor = () => {\n    if (isSavingProfile || isUploadingPhoto || isRevokingSessions) {\n      return;\n    }\n    setIsProfileModalOpen(false);\n  };\n\n  const markNotificationAsRead = async (record) => {\n    const recordId = String(record?.id || record?.recordId || \"\").trim();\n    if (!recordId || String(record?.status || \"\").trim().toLowerCase() === \"read\") {\n      return;\n    }\n\n    setIsMarkingNotifications(true);\n    try {\n      const response = await fetch(`/api/notifications/${encodeURIComponent(recordId)}`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ read: true }),\n      });\n      const payload = await response.json().catch(() => ({}));\n      if (!response.ok) {\n        throw new Error(payload?.message || \"Unable to update notification.\");\n      }\n\n      setNotifications((current) =>\n        current.map((item) =>\n          String(item?.id || item?.recordId || \"\").trim() === recordId\n            ? { ...item, status: \"read\", readAt: new Date().toISOString() }\n            : item,\n        ),\n      );\n      setNotificationUnreadCount((current) => Math.max(0, current - 1));\n    } catch (error) {\n      toast.error(error.message || \"Unable to update notification.\");\n    } finally {\n      setIsMarkingNotifications(false);\n    }\n  };\n\n  const markAllNotificationsAsRead = async () => {\n    if (isMarkingNotifications) {\n      return;\n    }\n    setIsMarkingNotifications(true);\n    try {\n      const response = await fetch(\"/api/notifications/read-all\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ limit: 200 }),\n      });\n      const payload = await response.json().catch(() => ({}));\n      if (!response.ok) {\n        throw new Error(payload?.message || \"Unable to mark notifications as read.\");\n      }\n\n      setNotifications((current) =>\n        current.map((item) => ({\n          ...item,\n          status: \"read\",\n          readAt: item?.readAt || new Date().toISOString(),\n        })),\n      );\n      setNotificationUnreadCount(0);\n    } catch (error) {\n      toast.error(error.message || \"Unable to mark notifications as read.\");\n    } finally {\n      setIsMarkingNotifications(false);\n    }\n  };\n\n  const openNotificationTarget = async (notification) => {\n    if (!canOpenNotificationTarget(notification)) {\n      return;\n    }\n\n    await markNotificationAsRead(notification);\n    const actionUrl = String(notification?.actionUrl || \"\").trim();\n    if (actionUrl) {\n      setIsNotificationsOpen(false);\n      router.push(actionUrl);\n    }\n  };\n\n  const loadProfileInsights = async () => {\n    setIsLoadingProfileInsights(true);\n    try {\n      const response = await fetch(\"/api/auth/profile/activity\", { method: \"GET\", cache: \"no-store\" });\n      const payload = await response.json().catch(() => ({}));\n      if (!response.ok) {\n        throw new Error(payload?.message || \"Unable to load account insights.\");\n      }\n\n      setProfileInsights((current) => ({\n        ...current,\n        role: String(payload?.role || current.role || session?.role || \"\"),\n        employmentRole: String(\n          payload?.employmentRole || current.employmentRole || payload?.role || current.role || session?.role || \"\",\n        ),\n        employeeId: String(payload?.employeeId || \"-\"),\n        employeeName: String(payload?.employeeName || \"-\"),\n        employeeEmail: String(payload?.employeeEmail || userEmail),\n        department: String(payload?.department || \"-\"),\n        jobTitle: String(payload?.jobTitle || \"-\"),\n        employmentStatus: String(payload?.employmentStatus || \"-\"),\n        recordStatus: String(payload?.recordStatus || \"-\"),\n        managerEmail: String(payload?.managerEmail || \"-\"),\n        hireDate: String(payload?.hireDate || \"-\"),\n        lastLoginAt: payload?.lastLoginAt || null,\n        lastActiveIp: String(payload?.lastActiveIp || \"unknown\"),\n        lastActiveDevice: String(payload?.lastActiveDevice || \"Unknown device\"),\n        recentActivity: Array.isArray(payload?.recentActivity) ? payload.recentActivity : [],\n      }));\n    } catch (error) {\n      toast.error(error.message || \"Unable to load account insights.\");\n    } finally {\n      setIsLoadingProfileInsights(false);\n    }\n  };\n\n  const handleDraftChange = (field) => (event) => {\n    setProfileDraft((current) => ({\n      ...current,\n      [field]: event.target.value,\n    }));\n  };\n\n  const handlePhotoFileChange = async (event) => {\n    const file = event.target.files?.[0];\n    if (!file) {\n      return;\n    }\n\n    const mimeType = String(file.type || \"\").toLowerCase();\n    const isAllowed = [\"image/png\", \"image/jpeg\", \"image/jpg\", \"image/webp\"].includes(mimeType);\n    if (!isAllowed) {\n      toast.error(\"Only PNG, JPG, or WEBP images are allowed.\");\n      event.target.value = \"\";\n      return;\n    }\n\n    if (file.size > 1_000_000) {\n      toast.error(\"Profile picture must be 1MB or below.\");\n      event.target.value = \"\";\n      return;\n    }\n\n    setIsUploadingPhoto(true);\n    try {\n      const uploaded = await uploadProfilePhotoToStorage({\n        file,\n        userEmail,\n      });\n      setProfileDraft((current) => ({\n        ...current,\n        profilePhotoDataUrl: uploaded.downloadUrl,\n        profilePhotoStoragePath: uploaded.storagePath,\n      }));\n      toast.success(\"Profile photo uploaded to secure storage.\");\n    } catch (error) {\n      toast.error(error.message || \"Unable to upload profile photo.\");\n    } finally {\n      setIsUploadingPhoto(false);\n      event.target.value = \"\";\n    }\n  };\n\n  const removeProfilePhoto = () => {\n    setProfileDraft((current) => ({\n      ...current,\n      profilePhotoDataUrl: \"\",\n      profilePhotoStoragePath: \"\",\n    }));\n  };\n\n  const handleProfileSave = async () => {\n    if (isUploadingPhoto || isRevokingSessions) {\n      return;\n    }\n    setIsSavingProfile(true);\n    try {\n      const previousStoragePath = String(profile?.profilePhotoStoragePath || \"\").trim();\n      const response = await fetch(\"/api/auth/profile\", {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          firstName: profileDraft.firstName,\n          middleName: profileDraft.middleName,\n          lastName: profileDraft.lastName,\n          profilePhotoDataUrl: profileDraft.profilePhotoDataUrl || null,\n          profilePhotoStoragePath: profileDraft.profilePhotoStoragePath || null,\n        }),\n      });\n\n      const payload = await response.json().catch(() => ({}));\n      if (!response.ok) {\n        throw new Error(payload?.message || \"Unable to save profile.\");\n      }\n\n      const savedProfile = {\n        firstName: String(payload?.profile?.firstName || \"\"),\n        middleName: String(payload?.profile?.middleName || \"\"),\n        lastName: String(payload?.profile?.lastName || \"\"),\n        profilePhotoDataUrl: String(payload?.profile?.profilePhotoDataUrl || \"\"),\n        profilePhotoStoragePath: String(payload?.profile?.profilePhotoStoragePath || \"\"),\n      };\n      setProfile(savedProfile);\n      setProfileDraft(savedProfile);\n      setIsProfileModalOpen(false);\n\n      const nextStoragePath = String(savedProfile.profilePhotoStoragePath || \"\").trim();\n      if (previousStoragePath && previousStoragePath !== nextStoragePath) {\n        removeStorageObjectByPath(previousStoragePath).catch(() => null);\n      }\n      toast.success(\"Profile updated.\");\n    } catch (error) {\n      toast.error(error.message || \"Unable to save profile.\");\n    } finally {\n      setIsSavingProfile(false);\n    }\n  };\n\n  const handleSignOutAllDevices = async () => {\n    if (isSavingProfile || isUploadingPhoto || isSigningOut || isRevokingSessions) {\n      return;\n    }\n\n    setIsRevokingSessions(true);\n    try {\n      const response = await fetch(\"/api/auth/sessions/revoke\", { method: \"POST\" });\n      const payload = await response.json().catch(() => ({}));\n      if (!response.ok) {\n        throw new Error(payload?.message || \"Unable to revoke active sessions.\");\n      }\n\n      toast.success(\"All active sessions were signed out.\");\n      setIsProfileModalOpen(false);\n      router.replace(\"/login\");\n      router.refresh();\n    } catch (error) {\n      toast.error(error.message || \"Unable to revoke active sessions.\");\n    } finally {\n      setIsRevokingSessions(false);\n    }\n  };\n\n  return (\n    <div className=\"h-dvh w-full overflow-hidden bg-slate-100/80\">\n      <a\n        href=\"#main-content\"\n        className=\"sr-only rounded-lg bg-white px-4 py-2 text-sm text-slate-900 focus:not-sr-only\"\n      >\n        Skip to main content\n      </a>\n\n      <div\n        className={cn(\n          \"grid h-full w-full gap-0 lg:transition-[grid-template-columns] lg:duration-500 lg:ease-[cubic-bezier(0.22,1,0.36,1)]\",\n          isSidebarCollapsed ? \"lg:grid-cols-[88px_minmax(0,1fr)]\" : \"lg:grid-cols-[280px_minmax(0,1fr)]\",\n        )}\n      >\n        <aside\n          className={cn(\n            \"h-full border-r border-slate-200 bg-[linear-gradient(180deg,#f8fbff_0%,#f2f7fc_45%,#eef3f8_100%)] p-5 lg:overflow-hidden lg:transition-[padding] lg:duration-500 lg:ease-[cubic-bezier(0.22,1,0.36,1)]\",\n            isSidebarCollapsed ? \"lg:px-3.5 lg:py-5\" : \"lg:p-6\",\n          )}\n        >\n          <div className=\"flex h-full min-h-0 flex-col\">\n            <div\n              className={cn(\n                \"flex transition-all duration-300 ease-out\",\n                isSidebarCollapsed ? \"flex-col items-center gap-2\" : \"items-center justify-between\",\n              )}\n            >\n              <BrandMark href=\"/dashboard\" iconOnly={isSidebarCollapsed} />\n\n              <button\n                type=\"button\"\n                onClick={toggleSidebar}\n                className=\"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:border-slate-400 hover:bg-slate-50 hover:text-slate-900\"\n                aria-label={isSidebarCollapsed ? \"Open sidebar\" : \"Close sidebar\"}\n                title={isSidebarCollapsed ? \"Open sidebar\" : \"Close sidebar\"}\n              >\n                {isSidebarCollapsed ? <SidebarOpenIcon className=\"h-4 w-4\" /> : <SidebarCloseIcon className=\"h-4 w-4\" />}\n              </button>\n            </div>\n\n            <div className={cn(\"mt-7 min-h-0 flex-1\", isSidebarCollapsed && \"mt-6\")}>\n              <div\n                className={cn(\n                  \"overflow-hidden px-1 transition-all duration-300 ease-out\",\n                  isSidebarCollapsed ? \"max-h-0 opacity-0\" : \"max-h-6 opacity-100\",\n                )}\n              >\n                <p className=\"text-[11px] font-semibold uppercase tracking-[0.14em] text-sky-700/80\">Navigation</p>\n              </div>\n              <nav\n                className=\"mt-2 max-h-full space-y-1 overflow-y-auto pr-1 pb-3 [scrollbar-color:#bfdbfe_transparent] [scrollbar-width:thin]\"\n                aria-label=\"Main navigation\"\n              >\n                {modules.map((module) => {\n                  const isActive = pathname === module.href;\n                  const moduleLabel = getModuleLabelForRole(module.id, module.label, role);\n                  return (\n                    <div key={module.id}>\n                      <Link\n                        href={module.href}\n                        prefetch\n                        aria-current={isActive ? \"page\" : undefined}\n                        title={isSidebarCollapsed ? moduleLabel : undefined}\n                        className={cn(\n                          \"group flex items-center gap-2.5 rounded-lg border py-2 text-[13px] transition\",\n                          isSidebarCollapsed ? \"justify-center px-2.5\" : \"px-3\",\n                          isActive\n                            ? \"border-sky-200 bg-white text-sky-700 shadow-[0_12px_28px_-20px_rgba(14,116,214,0.8)]\"\n                            : \"border-transparent text-slate-700 hover:border-slate-200/90 hover:bg-white/75\",\n                        )}\n                      >\n                        <span\n                          className={cn(\n                            \"inline-flex h-7 w-7 shrink-0 items-center justify-center rounded-md border transition\",\n                            isActive ? \"border-sky-200 bg-sky-50\" : \"border-slate-200 bg-white\",\n                          )}\n                        >\n                          <ModuleIcon moduleId={module.id} active={isActive} />\n                        </span>\n                        <span\n                          className={cn(\n                            \"overflow-hidden whitespace-nowrap font-medium leading-none transition-all duration-300 ease-out\",\n                            isActive ? \"text-sky-700\" : \"text-slate-800\",\n                            isSidebarCollapsed ? \"max-w-0 -translate-x-2 opacity-0\" : \"max-w-[11.5rem] translate-x-0 opacity-100\",\n                          )}\n                        >\n                          {moduleLabel}\n                        </span>\n                      </Link>\n\n                      <ModuleSubTabAnchors\n                        moduleId={module.id}\n                        moduleHref={module.href}\n                        role={role}\n                        visible={!isSidebarCollapsed}\n                      />\n                    </div>\n                  );\n                })}\n              </nav>\n            </div>\n\n            <div className=\"mt-auto shrink-0 pt-2\" />\n          </div>\n        </aside>\n\n        <div className=\"flex min-h-0 min-w-0 flex-col overflow-hidden\">\n          <header className=\"shrink-0 flex flex-col gap-3 border-b border-slate-200 bg-white/90 px-5 py-4 sm:flex-row sm:items-center sm:justify-between lg:px-8\">\n            <div>\n              <p className=\"text-sm font-medium text-slate-900\">Clio HRIS Workspace</p>\n              <p className=\"text-xs text-slate-500\">Today: {currentDate}</p>\n            </div>\n\n            <div className=\"flex items-center gap-3\">\n              <div className=\"relative\">\n                <button\n                  ref={notificationsButtonRef}\n                  type=\"button\"\n                  onClick={toggleNotificationsPanel}\n                  className=\"relative inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-300 bg-white text-slate-700 transition hover:border-sky-300 hover:bg-sky-50/60\"\n                  aria-label=\"Open notifications\"\n                  aria-expanded={isNotificationsOpen}\n                  title=\"Notifications\"\n                >\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className=\"h-4.5 w-4.5\" aria-hidden=\"true\">\n                    <path d=\"M7.3 10.2a4.7 4.7 0 1 1 9.4 0v3.3l1.4 2v1h-12v-1l1.2-2v-3.3\" />\n                    <path d=\"M10.1 17.6a2.1 2.1 0 0 0 3.8 0\" />\n                  </svg>\n                  {notificationUnreadCount > 0 ? (\n                    <span className=\"absolute -right-1.5 -top-1.5 inline-flex min-w-5 items-center justify-center rounded-full bg-rose-600 px-1.5 py-0.5 text-[10px] font-semibold text-white\">\n                      {notificationUnreadCount > 99 ? \"99+\" : notificationUnreadCount}\n                    </span>\n                  ) : null}\n                </button>\n\n                <div\n                  ref={notificationsPanelRef}\n                  role=\"dialog\"\n                  aria-label=\"Notifications\"\n                  aria-hidden={!isNotificationsOpen}\n                  className={cn(\n                    \"absolute right-0 top-[calc(100%+0.55rem)] z-50 w-[min(92vw,24rem)] max-h-[calc(100dvh-8rem)] overflow-y-auto rounded-2xl border border-slate-200 bg-white p-3 shadow-[0_20px_50px_-30px_rgba(15,23,42,0.45)] transition-all duration-200\",\n                    isNotificationsOpen ? \"pointer-events-auto translate-y-0 opacity-100\" : \"pointer-events-none -translate-y-2 opacity-0\",\n                  )}\n                >\n                  <div className=\"flex items-center justify-between gap-2 border-b border-slate-200 pb-2\">\n                    <div>\n                      <p className=\"text-sm font-semibold text-slate-900\">Notifications</p>\n                      <p className=\"text-[11px] text-slate-500\">\n                        {notificationUnreadCount > 0\n                          ? `${notificationUnreadCount} unread alert${notificationUnreadCount === 1 ? \"\" : \"s\"}`\n                          : \"No unread alerts\"}\n                      </p>\n                    </div>\n                    <button\n                      type=\"button\"\n                      onClick={markAllNotificationsAsRead}\n                      disabled={isMarkingNotifications || notificationUnreadCount === 0}\n                      className=\"inline-flex h-7 items-center rounded-md border border-slate-300 bg-white px-2.5 text-[11px] font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-60\"\n                    >\n                      Mark all read\n                    </button>\n                  </div>\n\n                  <div className=\"mt-2\">\n                    {isLoadingNotifications ? (\n                      <div className=\"flex justify-center py-6\">\n                        <span className=\"inline-flex h-5 w-5 animate-spin rounded-full border-2 border-slate-300 border-t-sky-600\" aria-hidden=\"true\" />\n                      </div>\n                    ) : notifications.length === 0 ? (\n                      <p className=\"rounded-lg border border-dashed border-slate-300 px-3 py-4 text-center text-xs text-slate-500\">\n                        No notifications yet.\n                      </p>\n                    ) : (\n                      <ul className=\"space-y-2\">\n                        {notifications.map((item) => {\n                          const itemId = String(item?.id || item?.recordId || \"\").trim() || `${item?.title}-${item?.createdAt}`;\n                          const unread = String(item?.status || \"\").trim().toLowerCase() !== \"read\";\n                          const canOpen = canOpenNotificationTarget(item);\n                          return (\n                            <li key={itemId}>\n                              <button\n                                type=\"button\"\n                                onClick={() => openNotificationTarget(item)}\n                                disabled={!canOpen}\n                                aria-disabled={!canOpen}\n                                title={canOpen ? \"Open notification\" : \"You do not have access to open this notification target.\"}\n                                className={cn(\n                                  \"w-full rounded-lg border px-2.5 py-2 text-left transition\",\n                                  canOpen ? \"hover:bg-slate-50\" : \"cursor-default\",\n                                  unread ? \"border-sky-200 bg-sky-50/50\" : \"border-slate-200 bg-white\",\n                                )}\n                              >\n                                <div className=\"flex items-start justify-between gap-2\">\n                                  <p className=\"text-xs font-semibold text-slate-900\">{String(item?.title || \"Security notification\")}</p>\n                                  <span\n                                    className={cn(\n                                      \"inline-flex shrink-0 rounded-full border px-1.5 py-0.5 text-[10px] font-semibold capitalize\",\n                                      notificationSeverityClass(item?.severity),\n                                    )}\n                                  >\n                                    {String(item?.severity || \"medium\")}\n                                  </span>\n                                </div>\n                                <p className=\"mt-1 text-[11px] text-slate-600\">{String(item?.message || \"\")}</p>\n                                {!canOpen ? (\n                                  <p className=\"mt-1 text-[10px] font-medium text-slate-500\">Read-only alert for visibility.</p>\n                                ) : null}\n                                <p className=\"mt-1 text-[10px] text-slate-500\">\n                                  {formatNotificationRelativeTime(item?.createdAt)} | {String(item?.module || \"System\")}\n                                </p>\n                              </button>\n                            </li>\n                          );\n                        })}\n                      </ul>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"relative\">\n                <button\n                  ref={profileButtonRef}\n                  type=\"button\"\n                  onClick={toggleProfileEditor}\n                  disabled={isProfileLoading}\n                  className=\"inline-flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-2.5 py-1.5 text-left transition hover:border-sky-300 hover:bg-sky-50/50 disabled:cursor-wait disabled:opacity-70\"\n                  aria-label=\"Open account profile\"\n                  title=\"Account profile\"\n                  aria-expanded={isProfileModalOpen}\n                >\n                  {userAvatar ? (\n                    <span className=\"inline-flex h-8 w-8 items-center justify-center overflow-hidden rounded-lg border border-slate-200 bg-white\">\n                      <Image src={userAvatar} alt=\"Profile picture\" width={32} height={32} className=\"h-full w-full object-cover\" unoptimized />\n                    </span>\n                  ) : (\n                    <span className=\"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-slate-900 text-xs font-semibold text-white\">\n                      {userInitials}\n                    </span>\n                  )}\n                  <span className=\"hidden text-left sm:block\">\n                    <p className=\"max-w-[12rem] truncate text-xs font-semibold text-slate-900\">{userName}</p>\n                    <p className=\"max-w-[12rem] truncate text-[11px] text-slate-500\">{userEmail}</p>\n                  </span>\n                  <span className=\"inline-flex h-5 w-5 items-center justify-center text-slate-400\">\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className=\"h-3.5 w-3.5\" aria-hidden=\"true\">\n                      <path d=\"m6.7 9.3 5.3 5.4 5.3-5.4\" />\n                    </svg>\n                  </span>\n                </button>\n\n                <div\n                ref={profilePanelRef}\n                role=\"dialog\"\n                aria-label=\"Account profile\"\n                aria-hidden={!isProfileModalOpen}\n                className={cn(\n                  \"absolute right-0 top-[calc(100%+0.6rem)] z-50 w-[min(94vw,42rem)] max-h-[calc(100dvh-7rem)] origin-top-right overflow-y-auto overscroll-contain rounded-2xl border border-slate-200 bg-white p-4 shadow-[0_22px_60px_-28px_rgba(15,23,42,0.45)] transition-all duration-200 sm:p-5\",\n                  isProfileModalOpen ? \"pointer-events-auto translate-y-0 opacity-100\" : \"pointer-events-none -translate-y-2 opacity-0\",\n                )}\n              >\n                <div className=\"flex items-start justify-between gap-3\">\n                  <div>\n                    <h2 className=\"text-base font-semibold text-slate-900\">Account Profile</h2>\n                    <p className=\"mt-0.5 text-sm text-slate-600\">Update your name and profile picture.</p>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={closeProfileEditor}\n                    disabled={isSavingProfile || isUploadingPhoto || isRevokingSessions}\n                    className=\"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 disabled:opacity-70\"\n                    aria-label=\"Close profile panel\"\n                  >\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className=\"h-4 w-4\" aria-hidden=\"true\">\n                      <path d=\"m6 6 12 12M18 6 6 18\" />\n                    </svg>\n                  </button>\n                </div>\n\n                <div className=\"mt-4 space-y-4\">\n                  <div className=\"flex items-center gap-3\">\n                    {profileDraft.profilePhotoDataUrl ? (\n                      <span className=\"inline-flex h-14 w-14 items-center justify-center overflow-hidden rounded-xl border border-slate-200 bg-white\">\n                        <Image\n                          src={profileDraft.profilePhotoDataUrl}\n                          alt=\"Profile preview\"\n                          width={56}\n                          height={56}\n                          className=\"h-full w-full object-cover\"\n                          unoptimized\n                        />\n                      </span>\n                    ) : (\n                      <span className=\"inline-flex h-14 w-14 items-center justify-center rounded-xl bg-slate-900 text-sm font-semibold text-white\">\n                        {userInitials}\n                      </span>\n                    )}\n                    <div className=\"flex flex-wrap items-center gap-2\">\n                      <button\n                        type=\"button\"\n                        onClick={() => fileInputRef.current?.click()}\n                        disabled={isUploadingPhoto || isSavingProfile || isRevokingSessions}\n                        className=\"inline-flex h-9 items-center rounded-lg border border-slate-300 bg-white px-3 text-xs font-semibold text-slate-700 transition hover:bg-slate-50\"\n                      >\n                        {isUploadingPhoto ? \"Uploading...\" : \"Upload Photo\"}\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={removeProfilePhoto}\n                        disabled={isUploadingPhoto || isSavingProfile || isRevokingSessions}\n                        className=\"inline-flex h-9 items-center rounded-lg border border-rose-200 bg-rose-50 px-3 text-xs font-semibold text-rose-700 transition hover:bg-rose-100\"\n                      >\n                        Remove\n                      </button>\n                      <input\n                        ref={fileInputRef}\n                        type=\"file\"\n                        accept=\"image/png,image/jpeg,image/jpg,image/webp\"\n                        className=\"hidden\"\n                        onChange={handlePhotoFileChange}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"grid gap-2.5 sm:grid-cols-3\">\n                    <input\n                      value={profileDraft.firstName}\n                      onChange={handleDraftChange(\"firstName\")}\n                      placeholder=\"First name\"\n                      className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n                    />\n                    <input\n                      value={profileDraft.middleName}\n                      onChange={handleDraftChange(\"middleName\")}\n                      placeholder=\"Middle name\"\n                      className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n                    />\n                    <input\n                      value={profileDraft.lastName}\n                      onChange={handleDraftChange(\"lastName\")}\n                      placeholder=\"Last name\"\n                      className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n                    />\n                  </div>\n\n                  <section className=\"rounded-xl border border-slate-200 bg-slate-50/70 p-3\">\n                    <div className=\"grid gap-2 sm:grid-cols-2\">\n                      <div>\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Account Role</p>\n                        <p className=\"text-sm font-medium text-slate-900\">{accountRoleLabel}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employment Role</p>\n                        <p className=\"text-sm font-medium text-slate-900\">{employmentRoleLabel}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employee ID</p>\n                        <p className=\"text-sm font-medium text-slate-900\">{profileInsights.employeeId || \"-\"}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employee Name</p>\n                        <p className=\"text-sm font-medium text-slate-900\">{profileInsights.employeeName || \"-\"}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employee Email</p>\n                        <p className=\"truncate text-sm font-medium text-slate-900\">{profileInsights.employeeEmail || userEmail}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Department</p>\n                        <p className=\"text-sm font-medium text-slate-900\">{profileInsights.department || \"-\"}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Position</p>\n                        <p className=\"text-sm font-medium text-slate-900\">{profileInsights.jobTitle || \"-\"}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employment Status</p>\n                        <p className=\"text-sm font-medium text-slate-900\">{profileInsights.employmentStatus || \"-\"}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Record Status</p>\n                        <p className=\"text-sm font-medium text-slate-900\">{profileInsights.recordStatus || \"-\"}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Employment Start Date</p>\n                        <p className=\"text-sm font-medium text-slate-900\">{formatDate(profileInsights.hireDate)}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Manager</p>\n                        <p className=\"truncate text-sm font-medium text-slate-900\">{profileInsights.managerEmail || \"-\"}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Last Login</p>\n                        <p className=\"text-sm font-medium text-slate-900\">{formatDateTime(profileInsights.lastLoginAt)}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Last Active</p>\n                        <p className=\"text-sm font-medium text-slate-900\">\n                          {profileInsights.lastActiveDevice || \"Unknown device\"}\n                        </p>\n                      </div>\n                      <div>\n                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">Source IP</p>\n                        <p className=\"text-sm font-medium text-slate-900\">{formatSourceIp(profileInsights.lastActiveIp)}</p>\n                      </div>\n                    </div>\n                  </section>\n\n                  <section className=\"rounded-xl border border-slate-200 bg-white p-3\">\n                    <div className=\"flex items-center justify-between\">\n                      <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500\">\n                        Recent Account Activity\n                      </p>\n                      {isLoadingProfileInsights ? (\n                        <span className=\"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-slate-300 border-t-sky-600\" aria-hidden=\"true\" />\n                      ) : null}\n                    </div>\n                    {isLoadingProfileInsights ? (\n                      <div className=\"flex justify-center py-3\">\n                        <span className=\"inline-flex h-5 w-5 animate-spin rounded-full border-2 border-slate-300 border-t-sky-600\" aria-hidden=\"true\" />\n                      </div>\n                    ) : recentAccountActivity.length === 0 ? (\n                      <p className=\"mt-2 text-xs text-slate-500\">No recent account activity.</p>\n                    ) : (\n                      <ul className=\"mt-2 space-y-2\">\n                        {recentAccountActivity.map((item) => (\n                          <li key={item.id || `${item.activityName}-${item.loggedAt}`} className=\"rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2\">\n                            <p className=\"text-xs font-medium text-slate-800\">{item.activityName}</p>\n                            <p className=\"mt-0.5 text-[11px] text-slate-500\">\n                              {item.module} | {item.status} | {item.relativeTime || item.loggedAt}\n                            </p>\n                          </li>\n                        ))}\n                      </ul>\n                    )}\n                  </section>\n                </div>\n\n                <div className=\"mt-4 flex flex-wrap items-center justify-between gap-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <button\n                      type=\"button\"\n                      onClick={handleSignOut}\n                      disabled={isSigningOut || isSavingProfile || isUploadingPhoto || isRevokingSessions}\n                      className=\"inline-flex h-9 items-center rounded-lg border border-rose-200 bg-rose-50 px-3 text-xs font-semibold text-rose-700 transition hover:bg-rose-100 disabled:opacity-70\"\n                    >\n                      {isSigningOut ? \"Signing out...\" : \"Sign out\"}\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={handleSignOutAllDevices}\n                      disabled={isRevokingSessions || isSigningOut || isSavingProfile || isUploadingPhoto}\n                      className=\"inline-flex h-9 items-center rounded-lg border border-amber-300 bg-amber-50 px-3 text-xs font-semibold text-amber-800 transition hover:bg-amber-100 disabled:opacity-70\"\n                    >\n                      {isRevokingSessions ? \"Revoking...\" : \"Sign out all devices\"}\n                    </button>\n                  </div>\n\n                  <div className=\"flex items-center gap-2\">\n                    <button\n                      type=\"button\"\n                      onClick={closeProfileEditor}\n                      disabled={isSavingProfile || isUploadingPhoto || isRevokingSessions}\n                      className=\"inline-flex h-9 items-center rounded-lg border border-slate-300 bg-white px-3 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-70\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={handleProfileSave}\n                      disabled={isSavingProfile || isUploadingPhoto || isRevokingSessions}\n                      className=\"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70\"\n                    >\n                      {isUploadingPhoto ? \"Uploading...\" : isSavingProfile ? \"Saving...\" : \"Save Profile\"}\n                    </button>\n                  </div>\n                </div>\n                </div>\n              </div>\n            </div>\n          </header>\n\n          <main\n            id=\"main-content\"\n            className=\"min-h-0 flex-1 overflow-y-auto bg-slate-100/70 px-5 py-5 sm:px-6 sm:py-6 lg:px-8 lg:py-7\"\n          >\n            {children}\n          </main>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\r\n","\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { usePathname } from \"next/navigation\";\nimport { toSubTabAnchor } from \"@/lib/subtab-anchor\";\nimport { cn } from \"@/lib/utils\";\n\nconst MODULE_SUBTABS = {\n  employees: [\n    { id: \"profile\", label: \"Employee Profile\" },\n    { id: \"compliance\", label: \"Government & Compliance IDs\" },\n    { id: \"payroll\", label: \"Payroll Information\" },\n    { id: \"access\", label: \"Access & Role Assignment\" },\n    { id: \"documents\", label: \"Employee Attached Documents\" },\n    { id: \"activity\", label: \"Recent Activity\" },\n  ],\n  \"employment-lifecycle\": [\n    { id: \"workflow-status-tracking\", label: \"Workflow Status Tracking\" },\n    { id: \"onboarding\", label: \"Onboarding\" },\n    { id: \"role-changes\", label: \"Role Changes\" },\n    { id: \"disciplinary-records\", label: \"Disciplinary Records\" },\n    { id: \"offboarding-access-revocation\", label: \"Offboarding + Access Revocation\" },\n  ],\n  \"incident-management\": [\n    { id: \"escalation-plan\", label: \"Escalation Plan\" },\n    { id: \"regulatory-72-hour-notification\", label: \"72-Hour Notification\" },\n    { id: \"forensic-logging\", label: \"Forensic Logging\" },\n  ],\n};\n\nconst EMPLOYEE_VISIBLE_SUBTABS = new Set([\"profile\", \"documents\"]);\n\nfunction isEmployeeRole(role) {\n  const normalized = String(role || \"\").trim().toUpperCase();\n  return normalized === \"EMPLOYEE\" || normalized.startsWith(\"EMPLOYEE_\");\n}\n\nexport default function ModuleSubTabAnchors({ moduleId, moduleHref, role, visible = true }) {\n  const pathname = usePathname();\n  const [hash, setHash] = useState(\"\");\n\n  const subTabs = useMemo(() => {\n    const tabs = MODULE_SUBTABS[moduleId] || [];\n    if (moduleId !== \"employees\") {\n      return tabs;\n    }\n    if (!isEmployeeRole(role)) {\n      return tabs;\n    }\n    return tabs.filter((tab) => EMPLOYEE_VISIBLE_SUBTABS.has(tab.id));\n  }, [moduleId, role]);\n\n  useEffect(() => {\n    const syncHash = () => {\n      if (typeof window === \"undefined\") {\n        return;\n      }\n      const raw = String(window.location.hash || \"\").trim();\n      setHash(raw.replace(/^#/, \"\"));\n    };\n\n    syncHash();\n    window.addEventListener(\"hashchange\", syncHash);\n    return () => window.removeEventListener(\"hashchange\", syncHash);\n  }, []);\n\n  if (!visible || pathname !== moduleHref || subTabs.length === 0) {\n    return null;\n  }\n\n  const handleSubTabClick = (anchor) => {\n    if (typeof window === \"undefined\") {\n      return;\n    }\n\n    const nextUrl = `${moduleHref}#${anchor}`;\n    window.history.pushState(null, \"\", nextUrl);\n    setHash(anchor);\n    window.dispatchEvent(\n      new CustomEvent(\"clio:subtab-anchor\", {\n        detail: { moduleId, anchor },\n      }),\n    );\n  };\n\n  return (\n    <div className=\"mt-1.5 space-y-1.5 pl-12 pr-1\">\n      {subTabs.map((subTab, index) => {\n        const anchor = toSubTabAnchor(subTab.id);\n        const isActive = hash === anchor || (!hash && index === 0);\n\n        return (\n          <button\n            key={subTab.id}\n            type=\"button\"\n            onClick={() => handleSubTabClick(anchor)}\n            className={cn(\n              \"block w-full rounded-lg border px-2.5 py-1.5 text-left text-[11px] font-medium transition\",\n              isActive\n                ? \"border-sky-200 bg-sky-50 text-sky-700\"\n                : \"border-transparent text-slate-600 hover:border-slate-200 hover:bg-white hover:text-slate-800\",\n            )}\n          >\n            {subTab.label}\n          </button>\n        );\n      })}\n    </div>\n  );\n}\n","import { MODULE_ACCESS, MODULES, ROLES } from \"@/features/hris/constants\";\n\nconst DEFAULT_ROLE = \"EMPLOYEE_L1\";\nconst roleIds = new Set(ROLES.map((role) => role.id));\n\nexport function normalizeRole(value) {\n  if (typeof value !== \"string\") {\n    return DEFAULT_ROLE;\n  }\n\n  const sanitized = value.trim().toUpperCase();\n  return roleIds.has(sanitized) ? sanitized : DEFAULT_ROLE;\n}\n\nexport function getRoleDetails(role) {\n  const normalized = normalizeRole(role);\n  return ROLES.find((item) => item.id === normalized) ?? ROLES.find((item) => item.id === DEFAULT_ROLE);\n}\n\nexport function getModulesForRole(role) {\n  const normalized = normalizeRole(role);\n  const allowed = new Set(MODULE_ACCESS[normalized] ?? []);\n  return MODULES.filter((module) => allowed.has(module.id));\n}\n","import { MODULE_ACCESS } from \"@/features/hris/constants\";\nimport { normalizeRole } from \"@/lib/hris\";\n\nconst ROLE_PERMISSIONS = {\n  SUPER_ADMIN: [\"*\"],\n  GRC: [\n    \"dashboard:view\",\n    \"employees:view\",\n    \"employees:edit\",\n    \"employees:view:sensitive\",\n    \"lifecycle:view\",\n    \"lifecycle:edit\",\n    \"lifecycle:approve\",\n    \"attendance:view\",\n    \"attendance:edit\",\n    \"attendance:approve\",\n    \"performance:view\",\n    \"performance:edit\",\n    \"performance:approve\",\n    \"templates:view\",\n    \"templates:edit\",\n    \"exports:view\",\n    \"exports:manage\",\n    \"exports:approve\",\n    \"exports:request\",\n    \"activity_log:export\",\n    \"activity_log:view\",\n    \"audit:view\",\n    \"access_management:view\",\n    \"retention_archive:view\",\n    \"retention_archive:manage\",\n    \"incident_management:view\",\n    \"incident_management:edit\",\n    \"settings:view\",\n    \"audit:write:nonsensitive\",\n    \"auth:logout\",\n    \"resource:own\",\n  ],\n  HR: [\n    \"dashboard:view\",\n    \"employees:view\",\n    \"employees:edit\",\n    \"employees:view:sensitive\",\n    \"lifecycle:view\",\n    \"lifecycle:edit\",\n    \"lifecycle:approve\",\n    \"attendance:view\",\n    \"attendance:edit\",\n    \"attendance:approve\",\n    \"performance:view\",\n    \"performance:edit\",\n    \"performance:approve\",\n    \"templates:view\",\n    \"templates:edit\",\n    \"exports:view\",\n    \"exports:manage\",\n    \"exports:approve\",\n    \"exports:request\",\n    \"activity_log:export\",\n    \"settings:view\",\n    \"audit:write:nonsensitive\",\n    \"auth:logout\",\n    \"resource:own\",\n  ],\n  EA: [\n    \"dashboard:view\",\n    \"employees:view\",\n    \"employees:edit\",\n    \"employees:view:sensitive\",\n    \"lifecycle:view\",\n    \"lifecycle:edit\",\n    \"lifecycle:approve\",\n    \"attendance:view\",\n    \"attendance:edit\",\n    \"attendance:approve\",\n    \"performance:view\",\n    \"performance:edit\",\n    \"performance:approve\",\n    \"templates:view\",\n    \"templates:edit\",\n    \"exports:view\",\n    \"exports:manage\",\n    \"exports:approve\",\n    \"exports:request\",\n    \"activity_log:export\",\n    \"settings:view\",\n    \"audit:write:nonsensitive\",\n    \"auth:logout\",\n    \"resource:own\",\n  ],\n  EMPLOYEE_L1: [\n    \"dashboard:view\",\n    \"employees:view\",\n    \"employees:edit:self\",\n    \"attendance:view\",\n    \"attendance:edit:self\",\n    \"performance:view\",\n    \"templates:view\",\n    \"requests:view\",\n    \"requests:create:self\",\n    \"exports:request:self\",\n    \"audit:write:nonsensitive\",\n    \"auth:logout\",\n    \"resource:own\",\n  ],\n  EMPLOYEE_L2: [\n    \"dashboard:view\",\n    \"employees:view\",\n    \"employees:edit:self\",\n    \"attendance:view\",\n    \"attendance:edit:self\",\n    \"performance:view\",\n    \"templates:view\",\n    \"requests:view\",\n    \"requests:create:self\",\n    \"exports:request:self\",\n    \"audit:write:nonsensitive\",\n    \"auth:logout\",\n    \"resource:own\",\n  ],\n  EMPLOYEE_L3: [\n    \"dashboard:view\",\n    \"employees:view\",\n    \"employees:edit:self\",\n    \"attendance:view\",\n    \"attendance:edit:self\",\n    \"performance:view\",\n    \"templates:view\",\n    \"requests:view\",\n    \"requests:create:self\",\n    \"exports:request:self\",\n    \"audit:write:nonsensitive\",\n    \"auth:logout\",\n    \"resource:own\",\n  ],\n};\n\nconst MODULE_REQUIRED_PERMISSION = {\n  dashboard: \"dashboard:view\",\n  employees: \"employees:view\",\n  \"employment-lifecycle\": \"lifecycle:view\",\n  attendance: \"attendance:view\",\n  performance: \"performance:view\",\n  \"activity-log\": \"activity_log:view\",\n  exports: \"exports:view\",\n  documents: \"templates:view\",\n  \"access-management\": \"access_management:view\",\n  \"retention-archive\": \"retention_archive:view\",\n  \"incident-management\": \"incident_management:view\",\n  requests: \"requests:view\",\n  settings: \"settings:view\",\n  \"user-management\": \"user_management:view\",\n};\n\nconst DEFAULT_ROLE_EMAILS = {\n  SUPER_ADMIN: [],\n  HR: [],\n  GRC: [],\n  EA: [],\n  EMPLOYEE_L1: [],\n  EMPLOYEE_L2: [],\n  EMPLOYEE_L3: [],\n};\n\nfunction parseEnvEmailList(rawValue, fallbackValues = []) {\n  if (typeof rawValue !== \"string\") {\n    return new Set(fallbackValues.map((value) => value.trim().toLowerCase()).filter(Boolean));\n  }\n\n  if (rawValue.trim().length === 0) {\n    return new Set(fallbackValues.map((value) => value.trim().toLowerCase()).filter(Boolean));\n  }\n\n  return new Set(\n    rawValue\n      .split(\",\")\n      .map((item) => item.trim().toLowerCase())\n      .filter(Boolean),\n  );\n}\n\nexport function getPermissionsForRole(role) {\n  const normalized = normalizeRole(role);\n  return ROLE_PERMISSIONS[normalized] ?? [];\n}\n\nexport function hasPermission(role, permission) {\n  const permissions = getPermissionsForRole(role);\n  return permissions.includes(\"*\") || permissions.includes(permission);\n}\n\nexport function canAccessModule(role, moduleId) {\n  const normalized = normalizeRole(role);\n  const allowedModules = new Set(MODULE_ACCESS[normalized] ?? []);\n\n  if (!allowedModules.has(moduleId)) {\n    return false;\n  }\n\n  const requiredPermission = MODULE_REQUIRED_PERMISSION[moduleId];\n  if (!requiredPermission) {\n    return true;\n  }\n\n  return hasPermission(normalized, requiredPermission);\n}\n\nexport function canAccessResource({\n  role,\n  actorIdentifier,\n  ownerIdentifier,\n  allowRoles = [\"SUPER_ADMIN\"],\n}) {\n  const normalized = normalizeRole(role);\n  if (allowRoles.includes(normalized)) {\n    return true;\n  }\n\n  if (!hasPermission(normalized, \"resource:own\")) {\n    return false;\n  }\n\n  const actor = String(actorIdentifier || \"\").trim().toLowerCase();\n  const owner = String(ownerIdentifier || \"\").trim().toLowerCase();\n  if (!actor || !owner) {\n    return false;\n  }\n\n  return actor === owner;\n}\n\nexport function resolveRoleForEmail(email) {\n  const normalizedEmail = String(email || \"\").trim().toLowerCase();\n  if (!normalizedEmail) {\n    return null;\n  }\n\n  const explicitRoleMap = {\n    SUPER_ADMIN: parseEnvEmailList(process.env.SUPER_ADMIN_EMAILS, DEFAULT_ROLE_EMAILS.SUPER_ADMIN),\n    HR: parseEnvEmailList(process.env.HR_EMAILS, DEFAULT_ROLE_EMAILS.HR),\n    GRC: parseEnvEmailList(process.env.GRC_EMAILS, DEFAULT_ROLE_EMAILS.GRC),\n    EA: parseEnvEmailList(process.env.EA_EMAILS, DEFAULT_ROLE_EMAILS.EA),\n    EMPLOYEE_L1: parseEnvEmailList(process.env.EMPLOYEE_L1_EMAILS, DEFAULT_ROLE_EMAILS.EMPLOYEE_L1),\n    EMPLOYEE_L2: parseEnvEmailList(process.env.EMPLOYEE_L2_EMAILS, DEFAULT_ROLE_EMAILS.EMPLOYEE_L2),\n    EMPLOYEE_L3: parseEnvEmailList(process.env.EMPLOYEE_L3_EMAILS, DEFAULT_ROLE_EMAILS.EMPLOYEE_L3),\n  };\n\n  for (const role of [\"SUPER_ADMIN\", \"HR\", \"GRC\", \"EA\", \"EMPLOYEE_L1\", \"EMPLOYEE_L2\", \"EMPLOYEE_L3\"]) {\n    if (explicitRoleMap[role].has(normalizedEmail)) {\n      return role;\n    }\n  }\n\n  return null;\n}\n\nexport function getModuleIdFromPathname(pathname) {\n  const path = String(pathname || \"\")\n    .trim()\n    .replace(/^\\/+|\\/+$/g, \"\");\n\n  if (!path) {\n    return \"dashboard\";\n  }\n\n  const firstSegment = path.split(\"/\")[0];\n  return MODULE_REQUIRED_PERMISSION[firstSegment] ? firstSegment : null;\n}\n"],"names":[],"mappings":"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"}