{"version":3,"sources":["../../../../src/components/hris/modules/EmployeeRecordsModule.jsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport SurfaceCard from \"@/components/hris/SurfaceCard\";\nimport EmptyState from \"@/components/hris/shared/EmptyState\";\nimport ModuleTabs from \"@/components/hris/shared/ModuleTabs\";\nimport PaginationControls from \"@/components/hris/shared/PaginationControls\";\nimport StatusBadge from \"@/components/hris/shared/StatusBadge\";\nimport { useToast } from \"@/components/ui/ToastProvider\";\nimport { formatEmployeeName, formatNameFromEmail } from \"@/lib/name-utils\";\nimport {\n  removeStorageObjectByPath,\n  uploadEmployeeDocumentToStorage,\n} from \"@/services/firebase-storage-client\";\nimport { hrisApi } from \"@/services/hris-api-client\";\nimport { toSubTabAnchor } from \"@/lib/subtab-anchor\";\n\nconst DETAIL_TABS = [\n  { id: \"profile\", label: \"Employee Profile\" },\n  { id: \"compliance\", label: \"Government & Compliance IDs\" },\n  { id: \"payroll\", label: \"Payroll Information\" },\n  { id: \"access\", label: \"Access & Role Assignment\" },\n  { id: \"documents\", label: \"Employee Attached Documents\" },\n  { id: \"activity\", label: \"Recent Activity\" },\n];\n\nconst EMPLOYMENT_STATUS_OPTIONS = [\"Active Employee\", \"Probation\", \"On Leave\", \"Resigned\", \"Terminated\"];\nconst RECORD_STATUS_OPTIONS = [\"Active\", \"Probation\", \"Inactive\", \"Archived\"];\nconst DEFAULT_ROLE_OPTIONS = [\n  { value: \"SUPER_ADMIN\", label: \"Super Admin\" },\n  { value: \"GRC\", label: \"GRC\" },\n  { value: \"HR\", label: \"HR\" },\n  { value: \"EA\", label: \"EA\" },\n  { value: \"EMPLOYEE_L1\", label: \"Employee (L1)\" },\n  { value: \"EMPLOYEE_L2\", label: \"Employee (L2)\" },\n  { value: \"EMPLOYEE_L3\", label: \"Employee (L3)\" },\n];\nconst DEFAULT_DEPARTMENT_OPTIONS = [\n  {\n    value: \"Governance, Risk, and Compliance (GRC)\",\n    label: \"Governance, Risk, and Compliance (GRC)\",\n  },\n  {\n    value: \"Research and Development (R&D)\",\n    label: \"Research and Development (R&D)\",\n  },\n  {\n    value: \"Cyber Security Operations Center (CSOC)\",\n    label: \"Cyber Security Operations Center (CSOC)\",\n  },\n  {\n    value: \"Threat Intelligence (TI)\",\n    label: \"Threat Intelligence (TI)\",\n  },\n];\nconst GOVERNMENT_ID_FIELDS = [\n  { key: \"primaryId\", label: \"Primary Government ID\" },\n  { key: \"sss\", label: \"SSS\" },\n  { key: \"tin\", label: \"TIN\" },\n  { key: \"philhealth\", label: \"PhilHealth\" },\n  { key: \"pagibig\", label: \"Pag-IBIG\" },\n  { key: \"passport\", label: \"Passport\" },\n];\nconst PAYROLL_FIELDS = [\n  { key: \"compensationType\", label: \"Compensation Type\", placeholder: \"Monthly\" },\n  { key: \"baseSalary\", label: \"Base Salary\", placeholder: \"e.g. 45000\" },\n  { key: \"bankName\", label: \"Bank Name\", placeholder: \"e.g. BPI\" },\n  { key: \"accountName\", label: \"Account Name\", placeholder: \"Employee Name\" },\n  { key: \"accountNumber\", label: \"Account Number\", placeholder: \"XXXX-XXXX\" },\n  { key: \"taxCode\", label: \"Tax Code\", placeholder: \"S/ME1\" },\n];\n\nconst initialCreateForm = {\n  employeeId: \"\",\n  name: \"\",\n  email: \"\",\n  role: \"EMPLOYEE_L1\",\n  department: \"\",\n  jobTitle: \"\",\n  hireDate: \"\",\n  employmentStatus: \"Active Employee\",\n  status: \"Active\",\n  contact: \"\",\n  address: \"\",\n  emergencyContact: \"\",\n  managerEmail: \"\",\n  payrollGroup: \"\",\n  govId: \"\",\n};\n\nconst initialMasterDraft = {\n  employeeId: \"\",\n  lastName: \"\",\n  firstName: \"\",\n  middleName: \"\",\n  suffix: \"\",\n  email: \"\",\n  department: \"\",\n  jobTitle: \"\",\n  hireDate: \"\",\n};\n\nconst initialEmploymentDraft = {\n  employmentStatus: \"Active Employee\",\n  status: \"Active\",\n  managerEmail: \"\",\n};\n\nconst initialContactDraft = {\n  contact: \"\",\n  address: \"\",\n  emergencyContact: \"\",\n};\n\nconst initialGovernmentDraft = {\n  primaryId: \"\",\n  sss: \"\",\n  tin: \"\",\n  philhealth: \"\",\n  pagibig: \"\",\n  passport: \"\",\n};\n\nconst initialPayrollDraft = {\n  payrollGroup: \"\",\n  compensationType: \"\",\n  baseSalary: \"\",\n  bankName: \"\",\n  accountName: \"\",\n  accountNumber: \"\",\n  taxCode: \"\",\n};\n\nconst initialAccessDraft = {\n  role: \"EMPLOYEE_L1\",\n  status: \"Active\",\n  managerEmail: \"\",\n};\n\nconst initialSelfRecordForm = {\n  firstName: \"\",\n  middleName: \"\",\n  lastName: \"\",\n  suffix: \"\",\n  contact: \"\",\n  address: \"\",\n  emergencyContact: \"\",\n};\n\nfunction isEmployeeRole(role) {\n  return String(role || \"\")\n    .trim()\n    .toUpperCase()\n    .startsWith(\"EMPLOYEE_\");\n}\n\nfunction formatDate(value) {\n  const date = new Date(value || \"\");\n  if (Number.isNaN(date.getTime())) {\n    return \"-\";\n  }\n  return new Intl.DateTimeFormat(\"en-US\", {\n    month: \"short\",\n    day: \"2-digit\",\n    year: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  }).format(date);\n}\n\nfunction normalizeEmail(value) {\n  return String(value || \"\").trim().toLowerCase();\n}\n\nfunction normalizeRecordId(value) {\n  return String(value || \"\").trim();\n}\n\nfunction ensureArray(value) {\n  return Array.isArray(value) ? value : [];\n}\n\nfunction ensureObject(value) {\n  if (value && typeof value === \"object\" && !Array.isArray(value)) {\n    return value;\n  }\n  return {};\n}\n\nfunction toCatalogOption(entry) {\n  const value = String(entry?.value || \"\").trim();\n  const label = String(entry?.label || value).trim();\n  if (!value) {\n    return null;\n  }\n  return {\n    value,\n    label: label || value,\n  };\n}\n\nfunction mergeCatalogOptions(primary, fallback) {\n  const merged = [];\n  const seen = new Set();\n\n  [...ensureArray(primary), ...ensureArray(fallback)].forEach((entry) => {\n    const option = toCatalogOption(entry);\n    if (!option) {\n      return;\n    }\n    const key = `${option.value}::${option.label}`.toLowerCase();\n    if (seen.has(key)) {\n      return;\n    }\n    seen.add(key);\n    merged.push(option);\n  });\n\n  return merged;\n}\n\nfunction valueOrDash(value) {\n  const normalized = String(value ?? \"\").trim();\n  return normalized || \"-\";\n}\n\nfunction asInputValue(value) {\n  const normalized = String(value ?? \"\").trim();\n  return normalized === \"-\" ? \"\" : normalized;\n}\n\nfunction formatActorName(nameValue, emailValue) {\n  const explicitName = String(nameValue || \"\").trim();\n  if (explicitName) {\n    return explicitName;\n  }\n\n  const email = String(emailValue || \"\").trim().toLowerCase();\n  if (!email.includes(\"@\")) {\n    return valueOrDash(emailValue);\n  }\n\n  return formatNameFromEmail(email, { fallbackLabel: \"User\" });\n}\n\nfunction formatActorEmail(emailValue, fallbackValue) {\n  const explicitEmail = String(emailValue || \"\").trim();\n  if (explicitEmail.includes(\"@\")) {\n    return explicitEmail.toLowerCase();\n  }\n\n  const fallback = String(fallbackValue || \"\").trim();\n  if (fallback.includes(\"@\")) {\n    return fallback.toLowerCase();\n  }\n\n  return \"\";\n}\n\nfunction getActorAvatarUrl(avatarValue) {\n  const avatar = String(avatarValue || \"\").trim();\n  return avatar || \"/avatars/default-user.svg\";\n}\n\nfunction toLabel(value) {\n  const normalized = String(value || \"\").trim();\n  if (!normalized) {\n    return \"-\";\n  }\n  const normalizedUpper = normalized.toUpperCase();\n  const roleLabelMap = {\n    EMPLOYEE: \"Employee (L1)\",\n    EMPLOYEE_L1: \"Employee (L1)\",\n    EMPLOYEE_L2: \"Employee (L2)\",\n    EMPLOYEE_L3: \"Employee (L3)\",\n  };\n  if (roleLabelMap[normalizedUpper]) {\n    return roleLabelMap[normalizedUpper];\n  }\n  if (!normalized.includes(\"_\")) {\n    return normalized;\n  }\n  return normalized\n    .split(\"_\")\n    .map((token) => token.charAt(0).toUpperCase() + token.slice(1).toLowerCase())\n    .join(\" \");\n}\n\nfunction splitLegacyName(rawName) {\n  const name = String(rawName || \"\")\n    .trim()\n    .replace(/\\s+/g, \" \");\n  if (!name) {\n    return {\n      lastName: \"\",\n      firstName: \"\",\n      middleName: \"\",\n      suffix: \"\",\n    };\n  }\n\n  const suffixes = new Set([\"JR\", \"JR.\", \"SR\", \"SR.\", \"I\", \"II\", \"III\", \"IV\", \"V\"]);\n\n  if (name.includes(\",\")) {\n    const [left, right] = name.split(\",\", 2);\n    const tokens = String(right || \"\")\n      .trim()\n      .split(/\\s+/)\n      .filter(Boolean);\n    let suffix = \"\";\n    if (tokens.length > 0 && suffixes.has(tokens[tokens.length - 1].toUpperCase())) {\n      suffix = tokens.pop() || \"\";\n    }\n    const firstName = tokens.shift() || \"\";\n    const middleName = tokens.join(\" \");\n    return {\n      lastName: String(left || \"\").trim(),\n      firstName,\n      middleName,\n      suffix,\n    };\n  }\n\n  const tokens = name.split(/\\s+/).filter(Boolean);\n  if (tokens.length === 1) {\n    return {\n      lastName: \"\",\n      firstName: tokens[0],\n      middleName: \"\",\n      suffix: \"\",\n    };\n  }\n\n  let suffix = \"\";\n  if (suffixes.has(tokens[tokens.length - 1].toUpperCase())) {\n    suffix = tokens.pop() || \"\";\n  }\n\n  if (tokens.length === 2) {\n    return {\n      lastName: tokens[1],\n      firstName: tokens[0],\n      middleName: \"\",\n      suffix,\n    };\n  }\n\n  return {\n    lastName: tokens[tokens.length - 1] || \"\",\n    firstName: tokens[0] || \"\",\n    middleName: tokens.slice(1, -1).join(\" \"),\n    suffix,\n  };\n}\n\nfunction composeRecordDisplayName(record) {\n  return formatEmployeeName({\n    lastName: record?.lastName,\n    firstName: record?.firstName,\n    middleName: record?.middleName,\n    suffix: record?.suffix,\n    fallback: record?.name,\n    fallbackEmail: record?.email,\n    fallbackLabel: \"Employee\",\n  });\n}\n\nfunction buildMasterDraft(record) {\n  if (!record) {\n    return initialMasterDraft;\n  }\n  const legacy = splitLegacyName(record.name);\n  return {\n    employeeId: String(record.employeeId || \"\"),\n    lastName: String(record.lastName || legacy.lastName || \"\"),\n    firstName: String(record.firstName || legacy.firstName || \"\"),\n    middleName: String(record.middleName || legacy.middleName || \"\"),\n    suffix: String(record.suffix || legacy.suffix || \"\"),\n    email: String(record.email || \"\"),\n    department: String(record.department || \"\"),\n    jobTitle: String(record.jobTitle || \"\"),\n    hireDate: String(record.hireDate || \"\"),\n  };\n}\n\nfunction buildEmploymentDraft(record) {\n  if (!record) {\n    return initialEmploymentDraft;\n  }\n  return {\n    employmentStatus: String(record.employmentStatus || \"Active Employee\"),\n    status: String(record.status || \"Active\"),\n    managerEmail: String(record.managerEmail || \"\"),\n  };\n}\n\nfunction buildContactDraft(record) {\n  if (!record) {\n    return initialContactDraft;\n  }\n  const contactInfo = ensureObject(record.contactInformation);\n  return {\n    contact: String(record.contact || contactInfo.primaryPhone || \"\"),\n    address: String(record.address || contactInfo.address || \"\"),\n    emergencyContact: String(record.emergencyContact || contactInfo.emergencyContact || \"\"),\n  };\n}\n\nfunction buildGovernmentDraft(record) {\n  if (!record) {\n    return initialGovernmentDraft;\n  }\n  const governmentIds = ensureObject(record.governmentIds);\n  return {\n    primaryId: String(record.govId || governmentIds.primaryId || \"\"),\n    sss: String(governmentIds.sss || \"\"),\n    tin: String(governmentIds.tin || \"\"),\n    philhealth: String(governmentIds.philhealth || \"\"),\n    pagibig: String(governmentIds.pagibig || \"\"),\n    passport: String(governmentIds.passport || \"\"),\n  };\n}\n\nfunction buildPayrollDraft(record) {\n  if (!record) {\n    return initialPayrollDraft;\n  }\n  const payroll = ensureObject(record.payrollInformation);\n  return {\n    payrollGroup: String(record.payrollGroup || \"\"),\n    compensationType: String(payroll.compensationType || \"\"),\n    baseSalary: String(payroll.baseSalary || \"\"),\n    bankName: String(payroll.bankName || \"\"),\n    accountName: String(payroll.accountName || \"\"),\n    accountNumber: String(payroll.accountNumber || \"\"),\n    taxCode: String(payroll.taxCode || \"\"),\n  };\n}\n\nfunction buildAccessDraft(record) {\n  if (!record) {\n    return initialAccessDraft;\n  }\n  return {\n    role: String(record.role || \"EMPLOYEE_L1\"),\n    status: String(record.status || \"Active\"),\n    managerEmail: String(record.managerEmail || \"\"),\n  };\n}\n\nfunction buildGovernmentIdsPayload(draft, existingGovernmentIds) {\n  const next = {\n    ...ensureObject(existingGovernmentIds),\n  };\n  GOVERNMENT_ID_FIELDS.forEach(({ key }) => {\n    const value = String(draft?.[key] || \"\").trim();\n    if (value) {\n      next[key] = value;\n    } else {\n      delete next[key];\n    }\n  });\n  return next;\n}\n\nfunction buildPayrollPayload(draft, existingPayroll) {\n  const next = {\n    ...ensureObject(existingPayroll),\n  };\n  PAYROLL_FIELDS.forEach(({ key }) => {\n    const value = String(draft?.[key] || \"\").trim();\n    if (value) {\n      next[key] = value;\n    } else {\n      delete next[key];\n    }\n  });\n  return next;\n}\n\nfunction detailsRow(label, value, rowKey) {\n  return (\n    <div key={rowKey} className=\"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2\">\n      <p className=\"text-[11px] font-medium uppercase tracking-[0.08em] text-slate-500\">{label}</p>\n      <p className=\"mt-1 text-sm text-slate-800\">{valueOrDash(value)}</p>\n    </div>\n  );\n}\n\nfunction requestActionConfirmation(message) {\n  if (typeof window === \"undefined\") {\n    return true;\n  }\n  return window.confirm(message);\n}\n\nfunction inferDocumentType(file) {\n  const mimeType = String(file?.type || \"\").trim().toLowerCase();\n  if (mimeType.includes(\"pdf\")) {\n    return \"PDF\";\n  }\n  if (mimeType.includes(\"image\")) {\n    return \"Image\";\n  }\n  if (mimeType.includes(\"sheet\") || mimeType.includes(\"excel\") || mimeType.includes(\"csv\")) {\n    return \"Spreadsheet\";\n  }\n  if (mimeType.includes(\"word\") || mimeType.includes(\"document\")) {\n    return \"Document\";\n  }\n  const fileName = String(file?.name || \"\").trim();\n  const extension = fileName.includes(\".\") ? fileName.split(\".\").pop() : \"\";\n  return extension ? extension.toUpperCase() : \"General\";\n}\n\nfunction formatFileSize(value) {\n  const size = Number(value);\n  if (!Number.isFinite(size) || size <= 0) {\n    return \"-\";\n  }\n  if (size < 1024) {\n    return `${size} B`;\n  }\n  if (size < 1024 * 1024) {\n    return `${(size / 1024).toFixed(1)} KB`;\n  }\n  return `${(size / (1024 * 1024)).toFixed(1)} MB`;\n}\n\nexport default function EmployeeRecordsModule({ session }) {\n  const toast = useToast();\n  const actorRole = session?.role || \"EMPLOYEE_L1\";\n  const actorEmail = session?.email || \"\";\n  const employeeRole = isEmployeeRole(actorRole);\n  const canManageRecords = !employeeRole;\n  const [referenceCatalog, setReferenceCatalog] = useState({\n    roles: DEFAULT_ROLE_OPTIONS,\n    departments: DEFAULT_DEPARTMENT_OPTIONS,\n  });\n\n  const [detailTab, setDetailTab] = useState(\"profile\");\n  const [records, setRecords] = useState([]);\n  const [pagination, setPagination] = useState(null);\n  const [query, setQuery] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"\");\n  const [roleFilter, setRoleFilter] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedId, setSelectedId] = useState(\"\");\n  const [selectedRecord, setSelectedRecord] = useState(null);\n  const [createForm, setCreateForm] = useState(initialCreateForm);\n  const [masterDraft, setMasterDraft] = useState(initialMasterDraft);\n  const [employmentDraft, setEmploymentDraft] = useState(initialEmploymentDraft);\n  const [contactDraft, setContactDraft] = useState(initialContactDraft);\n  const [governmentDraft, setGovernmentDraft] = useState(initialGovernmentDraft);\n  const [payrollDraft, setPayrollDraft] = useState(initialPayrollDraft);\n  const [accessDraft, setAccessDraft] = useState(initialAccessDraft);\n  const [selfRecordForm, setSelfRecordForm] = useState(initialSelfRecordForm);\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [showDetailsPanel, setShowDetailsPanel] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const detailsPanelRef = useRef(null);\n  const documentInputRef = useRef(null);\n  const detailTabs = useMemo(\n    () => (employeeRole ? DETAIL_TABS.filter((tab) => tab.id === \"profile\" || tab.id === \"documents\") : DETAIL_TABS),\n    [employeeRole],\n  );\n  const roleCatalogOptions = useMemo(\n    () => mergeCatalogOptions(referenceCatalog.roles, DEFAULT_ROLE_OPTIONS),\n    [referenceCatalog.roles],\n  );\n  const departmentCatalogOptions = useMemo(\n    () => mergeCatalogOptions(referenceCatalog.departments, DEFAULT_DEPARTMENT_OPTIONS),\n    [referenceCatalog.departments],\n  );\n\n  const openRecord = useCallback((row) => {\n    const recordId = normalizeRecordId(row?.id || row?.recordId);\n    if (!recordId) {\n      toast.error(\"Unable to open employee details. Missing record identifier.\");\n      return;\n    }\n\n    setSelectedId(recordId);\n    setDetailTab(\"profile\");\n    setShowDetailsPanel(true);\n\n    if (typeof window !== \"undefined\" && window.innerWidth < 1280) {\n      window.requestAnimationFrame(() => {\n        detailsPanelRef.current?.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"start\",\n        });\n      });\n    }\n  }, [toast]);\n\n  useEffect(() => {\n    if (!showCreateForm || typeof window === \"undefined\") {\n      return;\n    }\n\n    const previousOverflow = document.body.style.overflow;\n    const onKeyDown = (event) => {\n      if (event.key === \"Escape\") {\n        setShowCreateForm(false);\n      }\n    };\n\n    document.body.style.overflow = \"hidden\";\n    window.addEventListener(\"keydown\", onKeyDown);\n\n    return () => {\n      document.body.style.overflow = previousOverflow;\n      window.removeEventListener(\"keydown\", onKeyDown);\n    };\n  }, [showCreateForm]);\n\n  useEffect(() => {\n    if (employeeRole) {\n      setReferenceCatalog({\n        roles: DEFAULT_ROLE_OPTIONS,\n        departments: DEFAULT_DEPARTMENT_OPTIONS,\n      });\n      return;\n    }\n\n    let isMounted = true;\n    (async () => {\n      try {\n        const payload = await hrisApi.settings.referenceData.list();\n        if (!isMounted) {\n          return;\n        }\n        setReferenceCatalog({\n          roles: mergeCatalogOptions(payload?.catalogs?.roles, DEFAULT_ROLE_OPTIONS),\n          departments: mergeCatalogOptions(payload?.catalogs?.departments, DEFAULT_DEPARTMENT_OPTIONS),\n        });\n      } catch {\n        if (!isMounted) {\n          return;\n        }\n        setReferenceCatalog({\n          roles: DEFAULT_ROLE_OPTIONS,\n          departments: DEFAULT_DEPARTMENT_OPTIONS,\n        });\n      }\n    })();\n\n    return () => {\n      isMounted = false;\n    };\n  }, [employeeRole]);\n\n  const loadDirectory = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const payload = await hrisApi.employees.list({\n        q: query,\n        status: statusFilter,\n        role: roleFilter,\n        page,\n        pageSize: 10,\n      });\n      const rows = ensureArray(payload.records)\n        .map((record) => ({\n          ...record,\n          id: normalizeRecordId(record?.id || record?.recordId),\n          name: composeRecordDisplayName(record),\n        }))\n        .filter((record) => Boolean(record.id));\n      setRecords(rows);\n      setPagination(payload.pagination || null);\n      if (employeeRole) {\n        const ownRecordId = rows[0]?.id || \"\";\n        if (selectedId !== ownRecordId) {\n          setSelectedId(ownRecordId);\n        }\n        setShowDetailsPanel(Boolean(ownRecordId));\n        return;\n      }\n      if (!selectedId && rows[0]?.id) {\n        setSelectedId(rows[0].id);\n      }\n      if (selectedId && !rows.some((item) => item.id === selectedId)) {\n        setSelectedId(rows[0]?.id || \"\");\n      }\n    } catch (error) {\n      toast.error(error.message || \"Unable to load employee directory.\");\n    } finally {\n      setIsLoading(false);\n    }\n  }, [employeeRole, page, query, roleFilter, selectedId, statusFilter, toast]);\n\n  const loadSelectedRecord = useCallback(async () => {\n    const targetRecordId = normalizeRecordId(selectedId);\n    if (!targetRecordId) {\n      setSelectedRecord(null);\n      return;\n    }\n\n    try {\n      const payload = await hrisApi.employees.get(targetRecordId);\n      const record = payload.record ? { ...payload.record, name: composeRecordDisplayName(payload.record) } : null;\n      setSelectedRecord(record);\n    } catch (error) {\n      if (String(error?.message || \"\").toLowerCase().includes(\"invalid record identifier\")) {\n        setSelectedId(\"\");\n        setShowDetailsPanel(false);\n      }\n      setSelectedRecord(null);\n      toast.error(error.message || \"Unable to load employee profile.\");\n    }\n  }, [selectedId, toast]);\n\n  useEffect(() => {\n    loadDirectory();\n  }, [loadDirectory]);\n\n  useEffect(() => {\n    loadSelectedRecord();\n  }, [loadSelectedRecord]);\n\n  useEffect(() => {\n    const allowedTabs = new Set(detailTabs.map((tab) => tab.id));\n    if (allowedTabs.has(detailTab)) {\n      return;\n    }\n    setDetailTab(detailTabs[0]?.id || \"profile\");\n  }, [detailTab, detailTabs]);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") {\n      return;\n    }\n\n    const allowedTabs = new Set(detailTabs.map((tab) => tab.id));\n    const syncDetailTabFromHash = (rawHash = window.location.hash) => {\n      const hash = String(rawHash || \"\")\n        .replace(/^#/, \"\")\n        .trim()\n        .toLowerCase();\n      if (!hash) {\n        return;\n      }\n\n      const matched = DETAIL_TABS.find((tab) => toSubTabAnchor(tab.id) === hash);\n      if (matched && allowedTabs.has(matched.id)) {\n        setDetailTab(matched.id);\n        if (selectedId) {\n          setShowDetailsPanel(true);\n        }\n      }\n    };\n\n    const onSubTabAnchor = (event) => {\n      if (event?.detail?.moduleId && event.detail.moduleId !== \"employees\") {\n        return;\n      }\n      const nextAnchor = event?.detail?.anchor;\n      if (!nextAnchor) {\n        syncDetailTabFromHash();\n        return;\n      }\n      syncDetailTabFromHash(`#${nextAnchor}`);\n    };\n\n    syncDetailTabFromHash();\n    window.addEventListener(\"hashchange\", syncDetailTabFromHash);\n    window.addEventListener(\"popstate\", syncDetailTabFromHash);\n    window.addEventListener(\"clio:subtab-anchor\", onSubTabAnchor);\n    return () => {\n      window.removeEventListener(\"hashchange\", syncDetailTabFromHash);\n      window.removeEventListener(\"popstate\", syncDetailTabFromHash);\n      window.removeEventListener(\"clio:subtab-anchor\", onSubTabAnchor);\n    };\n  }, [detailTabs, selectedId]);\n\n  const selectedRow = useMemo(() => {\n    const selectedDirectoryRow = records.find((item) => item.id === selectedId) || null;\n    const selectedDetailId = normalizeRecordId(selectedRecord?.id || selectedRecord?.recordId);\n\n    if (selectedDirectoryRow && selectedRecord && selectedDetailId === selectedDirectoryRow.id) {\n      const merged = {\n        ...selectedDirectoryRow,\n        ...selectedRecord,\n        id: selectedDirectoryRow.id,\n      };\n      return {\n        ...merged,\n        name: composeRecordDisplayName(merged),\n      };\n    }\n\n    if (selectedDirectoryRow) {\n      return selectedDirectoryRow;\n    }\n\n    if (selectedRecord) {\n      const normalizedId = normalizeRecordId(selectedRecord.id || selectedRecord.recordId);\n      return {\n        ...selectedRecord,\n        id: normalizedId,\n        name: composeRecordDisplayName(selectedRecord),\n      };\n    }\n\n    return null;\n  }, [records, selectedId, selectedRecord]);\n\n  const roleOptions = useMemo(() => {\n    const options = [...roleCatalogOptions];\n    const currentRole = String(selectedRow?.role || \"\").trim();\n    if (currentRole && !options.some((option) => option.value === currentRole)) {\n      options.push({ value: currentRole, label: toLabel(currentRole) });\n    }\n    return options;\n  }, [roleCatalogOptions, selectedRow?.role]);\n\n  useEffect(() => {\n    if (roleCatalogOptions.length === 0) {\n      return;\n    }\n    setCreateForm((current) => {\n      const currentRole = String(current.role || \"\").trim();\n      if (currentRole && roleCatalogOptions.some((option) => option.value === currentRole)) {\n        return current;\n      }\n      const preferredRole =\n        roleCatalogOptions.find((option) => option.value === \"EMPLOYEE_L1\")?.value ||\n        roleCatalogOptions.find((option) => option.value === \"Employee\")?.value ||\n        roleCatalogOptions[0].value;\n      return {\n        ...current,\n        role: preferredRole,\n      };\n    });\n  }, [roleCatalogOptions]);\n\n  useEffect(() => {\n    if (!selectedRow) {\n      setMasterDraft(initialMasterDraft);\n      setEmploymentDraft(initialEmploymentDraft);\n      setContactDraft(initialContactDraft);\n      setGovernmentDraft(initialGovernmentDraft);\n      setPayrollDraft(initialPayrollDraft);\n      setAccessDraft(initialAccessDraft);\n      return;\n    }\n\n    setMasterDraft(buildMasterDraft(selectedRow));\n    setEmploymentDraft(buildEmploymentDraft(selectedRow));\n    setContactDraft(buildContactDraft(selectedRow));\n    setGovernmentDraft(buildGovernmentDraft(selectedRow));\n    setPayrollDraft(buildPayrollDraft(selectedRow));\n    setAccessDraft(buildAccessDraft(selectedRow));\n  }, [selectedRow]);\n\n  const handleCreateField = (field) => (event) => {\n    setCreateForm((current) => ({\n      ...current,\n      [field]: event.target.value,\n    }));\n  };\n\n  const handleCreate = async (event) => {\n    event.preventDefault();\n    if (!canManageRecords) {\n      return;\n    }\n    const targetName = String(createForm.name || \"\").trim() || \"this employee\";\n    if (!requestActionConfirmation(`Create employee record for ${targetName}?`)) {\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      await hrisApi.employees.create({\n        ...createForm,\n        email: normalizeEmail(createForm.email),\n      });\n      setCreateForm(initialCreateForm);\n      setShowCreateForm(false);\n      toast.success(\"Employee record created.\");\n      await loadDirectory();\n    } catch (error) {\n      toast.error(error.message || \"Unable to create employee record.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleSelfRecordField = (field) => (event) => {\n    setSelfRecordForm((current) => ({\n      ...current,\n      [field]: event.target.value,\n    }));\n  };\n\n  const handleCreateSelfRecord = async (event) => {\n    event.preventDefault();\n    if (!employeeRole) {\n      return;\n    }\n\n    const firstName = String(selfRecordForm.firstName || \"\").trim();\n    const lastName = String(selfRecordForm.lastName || \"\").trim();\n    if (!firstName || !lastName) {\n      toast.error(\"First name and last name are required.\");\n      return;\n    }\n\n    if (!requestActionConfirmation(\"Submit your employee record details?\")) {\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const response = await hrisApi.employees.create({\n        firstName,\n        middleName: String(selfRecordForm.middleName || \"\").trim(),\n        lastName,\n        suffix: String(selfRecordForm.suffix || \"\").trim(),\n        contact: String(selfRecordForm.contact || \"\").trim(),\n        address: String(selfRecordForm.address || \"\").trim(),\n        emergencyContact: String(selfRecordForm.emergencyContact || \"\").trim(),\n      });\n\n      setSelfRecordForm(initialSelfRecordForm);\n      toast.success(\"Your employee record has been created.\");\n      await loadDirectory();\n\n      const createdRecordId = normalizeRecordId(response?.record?.id || response?.record?.recordId);\n      if (createdRecordId) {\n        setSelectedId(createdRecordId);\n        setDetailTab(\"profile\");\n        setShowDetailsPanel(true);\n      }\n    } catch (error) {\n      toast.error(error.message || \"Unable to create your employee record.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const updateRecord = async (\n    payload,\n    successText,\n    confirmationText = \"Save changes to this employee record?\",\n  ) => {\n    const targetRecordId = normalizeRecordId(selectedId) || normalizeRecordId(selectedRow?.id);\n    if (!targetRecordId) {\n      toast.error(\"Employee record reference is missing. Please reopen the employee details.\");\n      return false;\n    }\n    if (!requestActionConfirmation(confirmationText)) {\n      return false;\n    }\n    setIsSubmitting(true);\n    try {\n      await hrisApi.employees.update(targetRecordId, payload);\n      toast.success(successText);\n      await Promise.all([loadDirectory(), loadSelectedRecord()]);\n      return true;\n    } catch (error) {\n      if (String(error?.message || \"\").toLowerCase().includes(\"invalid record identifier\")) {\n        setSelectedId(\"\");\n        setShowDetailsPanel(false);\n      }\n      toast.error(error.message || \"Unable to update employee profile.\");\n      return false;\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleArchive = async (recordId) => {\n    if (!recordId || !canManageRecords) {\n      return;\n    }\n    const targetRow = records.find((row) => row.id === recordId);\n    const targetLabel = valueOrDash(targetRow?.name || targetRow?.employeeId || recordId);\n    if (!requestActionConfirmation(`Archive employee record: ${targetLabel}?`)) {\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      await hrisApi.employees.archive(recordId);\n      if (recordId === selectedId) {\n        setSelectedId(\"\");\n      }\n      toast.success(\"Employee record archived.\");\n      await loadDirectory();\n    } catch (error) {\n      toast.error(error.message || \"Unable to archive employee record.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDocumentFileChange = async (event) => {\n    const file = event.target.files?.[0];\n    if (!file) {\n      return;\n    }\n\n    const targetRecordId = normalizeRecordId(selectedId) || normalizeRecordId(selectedRow?.id);\n    if (!targetRecordId || !selectedRow?.id || !canManageRecords) {\n      event.target.value = \"\";\n      return;\n    }\n\n    if (file.size > 10 * 1024 * 1024) {\n      toast.error(\"Document upload is limited to 10MB per file.\");\n      event.target.value = \"\";\n      return;\n    }\n\n    const confirmationText = `Upload document \"${file.name}\" to this employee record?`;\n    if (!requestActionConfirmation(confirmationText)) {\n      event.target.value = \"\";\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const uploaded = await uploadEmployeeDocumentToStorage({\n        file,\n        employeeRecordId: targetRecordId,\n        employeeEmail: selectedRow.email,\n      });\n      const currentDocs = ensureArray(selectedRow.documents);\n      const nextDoc = {\n        name: String(file.name || \"\").trim() || \"Employee Document\",\n        type: inferDocumentType(file),\n        ref: uploaded.downloadUrl,\n        storagePath: uploaded.storagePath,\n        contentType: uploaded.contentType || null,\n        sizeBytes: uploaded.sizeBytes,\n        uploadedAt: new Date().toISOString(),\n        uploadedBy: actorEmail,\n      };\n      await hrisApi.employees.update(targetRecordId, {\n        documents: [...currentDocs, nextDoc],\n      });\n      toast.success(\"Employee document uploaded to secure storage.\");\n      await Promise.all([loadDirectory(), loadSelectedRecord()]);\n    } catch (error) {\n      toast.error(error.message || \"Unable to upload employee document.\");\n    } finally {\n      setIsSubmitting(false);\n      event.target.value = \"\";\n    }\n  };\n\n  const removeDocument = async (index) => {\n    if (!selectedRow?.id || !canManageRecords) {\n      return;\n    }\n    const targetRecordId = normalizeRecordId(selectedId) || normalizeRecordId(selectedRow?.id);\n    if (!targetRecordId) {\n      toast.error(\"Employee record reference is missing. Please reopen the employee details.\");\n      return;\n    }\n    const currentDocs = ensureArray(selectedRow.documents);\n    const targetDocument = currentDocs[index];\n    if (!targetDocument) {\n      return;\n    }\n    const documentName = String(targetDocument?.name || \"\").trim() || \"this document\";\n    if (!requestActionConfirmation(`Remove document \"${documentName}\" from this employee record?`)) {\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      await hrisApi.employees.update(targetRecordId, {\n        documents: currentDocs.filter((_, currentIndex) => currentIndex !== index),\n      });\n      const storagePath = String(targetDocument?.storagePath || \"\").trim();\n      if (storagePath) {\n        removeStorageObjectByPath(storagePath).catch(() => null);\n      }\n      toast.success(\"Employee document removed.\");\n      await Promise.all([loadDirectory(), loadSelectedRecord()]);\n    } catch (error) {\n      toast.error(error.message || \"Unable to remove employee document.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const openDocument = (document, index) => {\n    const targetRecordId = normalizeRecordId(selectedId) || normalizeRecordId(selectedRow?.id);\n    const documentUrl = String(document?.ref || \"\").trim();\n    if (!documentUrl) {\n      return;\n    }\n\n    if (targetRecordId) {\n      hrisApi.employees\n        .logDocumentAccess(targetRecordId, {\n          documentId: String(document?.id || document?.recordId || index).trim(),\n          documentName: String(document?.name || \"\").trim(),\n          documentType: String(document?.type || \"\").trim(),\n          documentRef: documentUrl,\n        })\n        .catch(() => null);\n    }\n\n    window.open(documentUrl, \"_blank\", \"noopener,noreferrer\");\n  };\n\n  const saveMasterData = async () => {\n    if (!selectedRow?.id || !canManageRecords) {\n      return;\n    }\n    const composedName = formatEmployeeName({\n      lastName: masterDraft.lastName,\n      firstName: masterDraft.firstName,\n      middleName: masterDraft.middleName,\n      suffix: masterDraft.suffix,\n      fallback: selectedRow?.name || masterDraft.email,\n      fallbackEmail: masterDraft.email,\n      fallbackLabel: \"Employee\",\n    });\n    await updateRecord(\n      {\n        employeeId: String(masterDraft.employeeId || \"\").trim(),\n        name: composedName,\n        lastName: String(masterDraft.lastName || \"\").trim(),\n        firstName: String(masterDraft.firstName || \"\").trim(),\n        middleName: String(masterDraft.middleName || \"\").trim(),\n        suffix: String(masterDraft.suffix || \"\").trim(),\n        email: normalizeEmail(masterDraft.email),\n        department: String(masterDraft.department || \"\").trim(),\n        jobTitle: String(masterDraft.jobTitle || \"\").trim(),\n        hireDate: String(masterDraft.hireDate || \"\").trim(),\n      },\n      \"Employee master data updated.\",\n      \"Save employee master data changes?\",\n    );\n  };\n\n  const saveEmployment = async () => {\n    if (!selectedRow?.id || !canManageRecords) {\n      return;\n    }\n    await updateRecord(\n      {\n        employmentStatus: String(employmentDraft.employmentStatus || \"\").trim(),\n        status: String(employmentDraft.status || \"\").trim(),\n        managerEmail: normalizeEmail(employmentDraft.managerEmail),\n      },\n      \"Employment tracking updated.\",\n      \"Save employment status and manager changes?\",\n    );\n  };\n\n  const saveContacts = async () => {\n    if (!selectedRow?.id) {\n      return;\n    }\n    const payload = {\n      contact: String(contactDraft.contact || \"\").trim(),\n      address: String(contactDraft.address || \"\").trim(),\n    };\n    if (canManageRecords) {\n      payload.emergencyContact = String(contactDraft.emergencyContact || \"\").trim();\n    }\n    await updateRecord(\n      payload,\n      \"Contact information updated.\",\n      canManageRecords ? \"Save contact information changes?\" : \"Save your contact information changes?\",\n    );\n  };\n\n  const saveFullProfile = async () => {\n    if (!selectedRow?.id) {\n      return;\n    }\n\n    if (!canManageRecords) {\n      await saveContacts();\n      return;\n    }\n    const composedName = formatEmployeeName({\n      lastName: masterDraft.lastName,\n      firstName: masterDraft.firstName,\n      middleName: masterDraft.middleName,\n      suffix: masterDraft.suffix,\n      fallback: selectedRow?.name || masterDraft.email,\n      fallbackEmail: masterDraft.email,\n      fallbackLabel: \"Employee\",\n    });\n\n    await updateRecord(\n      {\n        employeeId: String(masterDraft.employeeId || \"\").trim(),\n        name: composedName,\n        lastName: String(masterDraft.lastName || \"\").trim(),\n        firstName: String(masterDraft.firstName || \"\").trim(),\n        middleName: String(masterDraft.middleName || \"\").trim(),\n        suffix: String(masterDraft.suffix || \"\").trim(),\n        email: normalizeEmail(masterDraft.email),\n        department: String(masterDraft.department || \"\").trim(),\n        jobTitle: String(masterDraft.jobTitle || \"\").trim(),\n        hireDate: String(masterDraft.hireDate || \"\").trim(),\n        employmentStatus: String(employmentDraft.employmentStatus || \"\").trim(),\n        status: String(employmentDraft.status || \"\").trim(),\n        managerEmail: normalizeEmail(employmentDraft.managerEmail),\n        contact: String(contactDraft.contact || \"\").trim(),\n        address: String(contactDraft.address || \"\").trim(),\n        emergencyContact: String(contactDraft.emergencyContact || \"\").trim(),\n      },\n      \"Full profile information updated.\",\n      \"Save all profile updates for this employee?\",\n    );\n  };\n\n  const saveCompliance = async () => {\n    if (!selectedRow?.id || !canManageRecords) {\n      return;\n    }\n    await updateRecord(\n      {\n        govId: String(governmentDraft.primaryId || \"\").trim(),\n        governmentIds: buildGovernmentIdsPayload(governmentDraft, selectedRow.governmentIds),\n      },\n      \"Government and compliance IDs updated.\",\n      \"Save government and compliance ID changes?\",\n    );\n  };\n\n  const savePayroll = async () => {\n    if (!selectedRow?.id || !canManageRecords) {\n      return;\n    }\n    await updateRecord(\n      {\n        payrollGroup: String(payrollDraft.payrollGroup || \"\").trim(),\n        payrollInformation: buildPayrollPayload(payrollDraft, selectedRow.payrollInformation),\n      },\n      \"Payroll information updated.\",\n      \"Save payroll information changes?\",\n    );\n  };\n\n  const saveAccess = async () => {\n    if (!selectedRow?.id || !canManageRecords) {\n      return;\n    }\n    await updateRecord(\n      {\n        role: String(accessDraft.role || \"\").trim(),\n        status: String(accessDraft.status || \"\").trim(),\n        managerEmail: normalizeEmail(accessDraft.managerEmail),\n      },\n      \"Access role assignment updated.\",\n      \"Save access role assignment changes?\",\n    );\n  };\n\n  const renderDirectory = () => (\n    <SurfaceCard\n      title={employeeRole ? \"My Employee Record\" : \"Employee Directory\"}\n      subtitle={\n        employeeRole\n          ? \"Provide and maintain your personal employee profile details.\"\n          : \"Centralized employee master data with search, filters, and profile routing\"\n      }\n      action={\n        employeeRole ? (\n          <span className=\"inline-flex h-9 items-center rounded-lg border border-sky-200 bg-sky-50 px-3 text-xs font-medium text-sky-700\">\n            Own profile access only\n          </span>\n        ) : (\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <input\n              value={query}\n              onChange={(event) => {\n                setPage(1);\n                setQuery(event.target.value);\n              }}\n              placeholder=\"Search by name, ID, email\"\n              className=\"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none\"\n            />\n            <select\n              value={statusFilter}\n              onChange={(event) => {\n                setPage(1);\n                setStatusFilter(event.target.value);\n              }}\n              className=\"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none\"\n            >\n              <option value=\"\">All Status</option>\n              {RECORD_STATUS_OPTIONS.map((statusOption) => (\n                <option key={statusOption.toLowerCase()} value={statusOption.toLowerCase()}>\n                  {statusOption}\n                </option>\n              ))}\n            </select>\n            <select\n              value={roleFilter}\n              onChange={(event) => {\n                setPage(1);\n                setRoleFilter(event.target.value);\n              }}\n              className=\"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none\"\n            >\n              <option value=\"\">All Roles</option>\n              {roleCatalogOptions.map((roleOption) => (\n                <option key={roleOption.value} value={roleOption.value.toLowerCase()}>\n                  {roleOption.label}\n                </option>\n              ))}\n            </select>\n            {canManageRecords ? (\n              <button\n                type=\"button\"\n                onClick={() => setShowCreateForm(true)}\n                className=\"h-9 rounded-lg border border-sky-200 bg-sky-50 px-3 text-xs font-semibold text-sky-700 transition hover:bg-sky-100\"\n              >\n                Add Employee\n              </button>\n            ) : null}\n          </div>\n        )\n      }\n    >\n      {isLoading ? (\n        <div className=\"flex min-h-[160px] items-center justify-center\">\n          <span className=\"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 bg-white\">\n            <svg\n              viewBox=\"0 0 24 24\"\n              className=\"h-5 w-5 animate-spin text-sky-600\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              aria-hidden=\"true\"\n            >\n              <path d=\"M12 3a9 9 0 1 0 9 9\" />\n            </svg>\n          </span>\n          <span className=\"sr-only\">Loading employee directory...</span>\n        </div>\n      ) : records.length === 0 ? (\n        employeeRole ? (\n          <div className=\"mx-auto w-full max-w-4xl rounded-2xl border border-sky-100 bg-gradient-to-b from-sky-50/80 to-white p-5\">\n            <div className=\"mb-4\">\n              <p className=\"text-base font-semibold text-slate-900\">Complete My Employee Record</p>\n              <p className=\"mt-1 text-sm text-slate-600\">\n                This form is for your own employee profile only. Fill in your details to continue.\n              </p>\n            </div>\n            <form onSubmit={handleCreateSelfRecord} className=\"grid gap-3 md:grid-cols-2\">\n              <input\n                value={selfRecordForm.lastName}\n                onChange={handleSelfRecordField(\"lastName\")}\n                placeholder=\"Last name\"\n                className=\"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n              />\n              <input\n                value={selfRecordForm.firstName}\n                onChange={handleSelfRecordField(\"firstName\")}\n                placeholder=\"First name\"\n                className=\"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n              />\n              <input\n                value={selfRecordForm.middleName}\n                onChange={handleSelfRecordField(\"middleName\")}\n                placeholder=\"Middle name\"\n                className=\"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n              />\n              <input\n                value={selfRecordForm.suffix}\n                onChange={handleSelfRecordField(\"suffix\")}\n                placeholder=\"Suffix (optional)\"\n                className=\"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n              />\n              <input\n                value={actorEmail}\n                disabled\n                className=\"h-10 rounded-lg border border-slate-300 bg-slate-100 px-3 text-sm text-slate-700 md:col-span-2\"\n              />\n              <input\n                value={selfRecordForm.contact}\n                onChange={handleSelfRecordField(\"contact\")}\n                placeholder=\"Contact number\"\n                className=\"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n              />\n              <input\n                value={selfRecordForm.address}\n                onChange={handleSelfRecordField(\"address\")}\n                placeholder=\"Address\"\n                className=\"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n              />\n              <input\n                value={selfRecordForm.emergencyContact}\n                onChange={handleSelfRecordField(\"emergencyContact\")}\n                placeholder=\"Emergency contact\"\n                className=\"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none md:col-span-2\"\n              />\n              <div className=\"md:col-span-2 mt-1 flex justify-end\">\n                <button\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  className=\"inline-flex h-10 items-center rounded-lg bg-sky-600 px-4 text-sm font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70\"\n                >\n                  {isSubmitting ? \"Saving...\" : \"Submit My Record\"}\n                </button>\n              </div>\n            </form>\n          </div>\n        ) : (\n          <EmptyState\n            title=\"No employee records yet\"\n            subtitle=\"Add a record to initialize the employee directory.\"\n          />\n        )\n      ) : (\n        <div className=\"space-y-3\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full text-left text-sm\">\n              <thead>\n                <tr className=\"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500\">\n                  <th className=\"px-2 py-3 font-medium\">Employee ID</th>\n                  <th className=\"px-2 py-3 font-medium\">Name</th>\n                  <th className=\"px-2 py-3 font-medium\">Email</th>\n                  <th className=\"px-2 py-3 font-medium\">Department</th>\n                  <th className=\"px-2 py-3 font-medium\">Role</th>\n                  <th className=\"px-2 py-3 font-medium\">Status</th>\n                  <th className=\"px-2 py-3 font-medium\">Employment</th>\n                  <th className=\"px-2 py-3 font-medium text-right\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {records.map((row) => (\n                  <tr\n                    key={row.id}\n                    className={`border-b border-slate-100 text-slate-700 last:border-b-0 ${\n                      row.id === selectedId ? \"bg-sky-50/50\" : \"\"\n                    }`}\n                  >\n                    <td className=\"px-2 py-3 font-mono text-xs\">{row.employeeId || \"-\"}</td>\n                    <td className=\"px-2 py-3 font-medium text-slate-900\">{row.name || \"-\"}</td>\n                    <td className=\"px-2 py-3\">{row.email || \"-\"}</td>\n                    <td className=\"px-2 py-3\">{valueOrDash(row.department)}</td>\n                    <td className=\"px-2 py-3\">{toLabel(row.role)}</td>\n                    <td className=\"px-2 py-3\">\n                      <StatusBadge value={row.status || \"-\"} />\n                    </td>\n                    <td className=\"px-2 py-3\">{row.employmentStatus || \"-\"}</td>\n                    <td className=\"px-2 py-3 text-right\">\n                      <div className=\"inline-flex items-center gap-2\">\n                        <button\n                          type=\"button\"\n                          onClick={() => openRecord(row)}\n                          className=\"rounded-lg border border-slate-300 bg-white px-2.5 py-1.5 text-xs font-medium text-slate-700 transition hover:bg-slate-50\"\n                        >\n                          Open\n                        </button>\n                        {canManageRecords ? (\n                          <button\n                            type=\"button\"\n                            onClick={() => handleArchive(row.id)}\n                            disabled={isSubmitting}\n                            className=\"rounded-lg border border-rose-200 bg-rose-50 px-2.5 py-1.5 text-xs font-medium text-rose-700 transition hover:bg-rose-100 disabled:opacity-60\"\n                          >\n                            Archive\n                          </button>\n                        ) : null}\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n          <PaginationControls pagination={pagination} onPageChange={setPage} />\n        </div>\n      )}\n    </SurfaceCard>\n  );\n\n  const renderCreateForm = canManageRecords && showCreateForm ? (\n    <div\n      className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 p-4\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-label=\"Add Employee\"\n      onClick={() => setShowCreateForm(false)}\n    >\n      <div\n        className=\"max-h-[90vh] w-full max-w-5xl overflow-y-auto rounded-2xl border border-slate-200 bg-white p-5 shadow-2xl sm:p-6\"\n        onClick={(event) => event.stopPropagation()}\n      >\n        <div className=\"mb-4 flex items-start justify-between gap-3\">\n          <div>\n            <h2 className=\"text-base font-semibold text-slate-900\">Add Employee</h2>\n            <p className=\"text-sm text-slate-600\">\n              Provision employee master data with employment, contact, and restricted PII references\n            </p>\n          </div>\n          <button\n            type=\"button\"\n            onClick={() => setShowCreateForm(false)}\n            className=\"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 hover:text-slate-900\"\n            aria-label=\"Close add employee modal\"\n          >\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className=\"h-4 w-4\" aria-hidden=\"true\">\n              <path d=\"m6 6 12 12M18 6 6 18\" />\n            </svg>\n          </button>\n        </div>\n\n        <form className=\"grid gap-3 md:grid-cols-3\" onSubmit={handleCreate}>\n        <input\n          value={createForm.employeeId}\n          onChange={handleCreateField(\"employeeId\")}\n          placeholder=\"Employee ID\"\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        />\n        <input\n          required\n          value={createForm.name}\n          onChange={handleCreateField(\"name\")}\n          placeholder=\"Full name\"\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        />\n        <input\n          required\n          type=\"email\"\n          value={createForm.email}\n          onChange={handleCreateField(\"email\")}\n          placeholder=\"work.email@gmail.com\"\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        />\n        <select\n          value={createForm.department}\n          onChange={handleCreateField(\"department\")}\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        >\n          <option value=\"\">Department</option>\n          {departmentCatalogOptions.map((departmentOption) => (\n            <option key={`create-department-${departmentOption.value}`} value={departmentOption.value}>\n              {departmentOption.label}\n            </option>\n          ))}\n        </select>\n        <input\n          value={createForm.jobTitle}\n          onChange={handleCreateField(\"jobTitle\")}\n          placeholder=\"Job title\"\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        />\n        <input\n          type=\"date\"\n          value={createForm.hireDate}\n          onChange={handleCreateField(\"hireDate\")}\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        />\n        <select\n          value={createForm.role}\n          onChange={handleCreateField(\"role\")}\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        >\n          {roleCatalogOptions.map((roleOption) => (\n            <option key={roleOption.value} value={roleOption.value}>\n              {roleOption.label}\n            </option>\n          ))}\n        </select>\n        <select\n          value={createForm.employmentStatus}\n          onChange={handleCreateField(\"employmentStatus\")}\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        >\n          {EMPLOYMENT_STATUS_OPTIONS.map((statusOption) => (\n            <option key={statusOption} value={statusOption}>\n              {statusOption}\n            </option>\n          ))}\n        </select>\n        <select\n          value={createForm.status}\n          onChange={handleCreateField(\"status\")}\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        >\n          {RECORD_STATUS_OPTIONS.map((statusOption) => (\n            <option key={statusOption} value={statusOption}>\n              {statusOption}\n            </option>\n          ))}\n        </select>\n        <input\n          value={createForm.managerEmail}\n          onChange={handleCreateField(\"managerEmail\")}\n          placeholder=\"Manager email\"\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        />\n        <input\n          value={createForm.contact}\n          onChange={handleCreateField(\"contact\")}\n          placeholder=\"Primary contact\"\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        />\n        <input\n          value={createForm.address}\n          onChange={handleCreateField(\"address\")}\n          placeholder=\"Address\"\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        />\n        <input\n          value={createForm.emergencyContact}\n          onChange={handleCreateField(\"emergencyContact\")}\n          placeholder=\"Emergency contact\"\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        />\n        <input\n          value={createForm.payrollGroup}\n          onChange={handleCreateField(\"payrollGroup\")}\n          placeholder=\"Payroll group\"\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        />\n        <input\n          value={createForm.govId}\n          onChange={handleCreateField(\"govId\")}\n          placeholder=\"Primary government ID\"\n          className=\"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none\"\n        />\n        <div className=\"md:col-span-3 flex flex-wrap items-center justify-between gap-3\">\n          <p className=\"text-xs text-slate-500\">Data classification: Restricted PII</p>\n          <div className=\"flex items-center gap-2\">\n            <button\n              type=\"button\"\n              onClick={() => setShowCreateForm(false)}\n              className=\"inline-flex h-10 items-center justify-center rounded-lg border border-slate-300 bg-white px-4 text-sm font-semibold text-slate-700 transition hover:bg-slate-50\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={isSubmitting}\n              className=\"inline-flex h-10 items-center justify-center rounded-lg bg-sky-600 px-4 text-sm font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70\"\n            >\n              {isSubmitting ? \"Saving...\" : \"Create Employee\"}\n            </button>\n          </div>\n        </div>\n      </form>\n      </div>\n    </div>\n  ) : null;\n\n  const renderProfile = () => (\n    <SurfaceCard\n      title={employeeRole ? \"My Profile\" : \"Employee Profile\"}\n      subtitle={\n        employeeRole\n          ? \"View your employment snapshot and update personal contact details.\"\n          : \"Full employee information in one consolidated view\"\n      }\n    >\n      {!selectedRow ? (\n        <EmptyState\n          title=\"No employee selected\"\n          subtitle=\"Select a record from the directory to manage employee profile data.\"\n        />\n      ) : (\n        <div className=\"space-y-4\">\n          <div className=\"rounded-xl border border-slate-200 bg-slate-50 p-3\">\n            <div className=\"flex flex-wrap items-start justify-between gap-3\">\n              <div>\n                <p className=\"text-base font-semibold text-slate-900\">\n                  {valueOrDash(\n                    formatEmployeeName({\n                      lastName: selectedRow.lastName,\n                      firstName: selectedRow.firstName,\n                      middleName: selectedRow.middleName,\n                      suffix: selectedRow.suffix,\n                      fallback: selectedRow.name,\n                      fallbackEmail: selectedRow.email,\n                      fallbackLabel: \"Employee\",\n                    }),\n                  )}\n                </p>\n                <p className=\"text-xs text-slate-600\">\n                  {valueOrDash(selectedRow.employeeId)} | {valueOrDash(selectedRow.email)}\n                </p>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <StatusBadge value={selectedRow.status || \"-\"} />\n                <span className=\"rounded-lg border border-slate-300 bg-white px-2 py-1 text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-600\">\n                  Restricted PII\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"rounded-xl border border-slate-200 bg-white p-3\">\n            {canManageRecords ? (\n              <>\n                <div className=\"grid gap-2 md:grid-cols-3\">\n                  <input\n                    value={masterDraft.employeeId}\n                    onChange={(event) => setMasterDraft((current) => ({ ...current, employeeId: event.target.value }))}\n                    placeholder=\"Employee ID\"\n                    disabled={!canManageRecords}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100\"\n                  />\n                  <input\n                    value={masterDraft.lastName}\n                    onChange={(event) => setMasterDraft((current) => ({ ...current, lastName: event.target.value }))}\n                    placeholder=\"Last name\"\n                    disabled={!canManageRecords}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100\"\n                  />\n                  <input\n                    value={masterDraft.firstName}\n                    onChange={(event) => setMasterDraft((current) => ({ ...current, firstName: event.target.value }))}\n                    placeholder=\"First name\"\n                    disabled={!canManageRecords}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100\"\n                  />\n                  <input\n                    value={masterDraft.middleName}\n                    onChange={(event) => setMasterDraft((current) => ({ ...current, middleName: event.target.value }))}\n                    placeholder=\"Middle name\"\n                    disabled={!canManageRecords}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100\"\n                  />\n                  <input\n                    value={masterDraft.suffix}\n                    onChange={(event) => setMasterDraft((current) => ({ ...current, suffix: event.target.value }))}\n                    placeholder=\"Suffix (e.g. Jr.)\"\n                    disabled={!canManageRecords}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100\"\n                  />\n                  <input\n                    value={masterDraft.email}\n                    onChange={(event) => setMasterDraft((current) => ({ ...current, email: event.target.value }))}\n                    placeholder=\"Email\"\n                    disabled={!canManageRecords}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100\"\n                  />\n                  <select\n                    value={masterDraft.department}\n                    onChange={(event) => setMasterDraft((current) => ({ ...current, department: event.target.value }))}\n                    disabled={!canManageRecords}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100\"\n                  >\n                    <option value=\"\">Department</option>\n                    {departmentCatalogOptions.map((departmentOption) => (\n                      <option key={`profile-department-${departmentOption.value}`} value={departmentOption.value}>\n                        {departmentOption.label}\n                      </option>\n                    ))}\n                  </select>\n                  <input\n                    value={masterDraft.jobTitle}\n                    onChange={(event) => setMasterDraft((current) => ({ ...current, jobTitle: event.target.value }))}\n                    placeholder=\"Job title\"\n                    disabled={!canManageRecords}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100\"\n                  />\n                  <input\n                    type=\"date\"\n                    value={masterDraft.hireDate}\n                    onChange={(event) => setMasterDraft((current) => ({ ...current, hireDate: event.target.value }))}\n                    disabled={!canManageRecords}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100\"\n                  />\n                  <select\n                    value={employmentDraft.employmentStatus}\n                    onChange={(event) =>\n                      setEmploymentDraft((current) => ({ ...current, employmentStatus: event.target.value }))\n                    }\n                    disabled={!canManageRecords}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100\"\n                  >\n                    {EMPLOYMENT_STATUS_OPTIONS.map((statusOption) => (\n                      <option key={statusOption} value={statusOption}>\n                        {statusOption}\n                      </option>\n                    ))}\n                  </select>\n                  <select\n                    value={employmentDraft.status}\n                    onChange={(event) => setEmploymentDraft((current) => ({ ...current, status: event.target.value }))}\n                    disabled={!canManageRecords}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100\"\n                  >\n                    {RECORD_STATUS_OPTIONS.map((statusOption) => (\n                      <option key={statusOption} value={statusOption}>\n                        {statusOption}\n                      </option>\n                    ))}\n                  </select>\n                  <input\n                    value={employmentDraft.managerEmail}\n                    onChange={(event) =>\n                      setEmploymentDraft((current) => ({ ...current, managerEmail: event.target.value }))\n                    }\n                    placeholder=\"Manager email\"\n                    disabled={!canManageRecords}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100\"\n                  />\n                  <input\n                    value={contactDraft.contact}\n                    placeholder=\"Contact\"\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                    onChange={(event) => setContactDraft((current) => ({ ...current, contact: event.target.value }))}\n                  />\n                  <input\n                    value={contactDraft.address}\n                    placeholder=\"Address\"\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                    onChange={(event) => setContactDraft((current) => ({ ...current, address: event.target.value }))}\n                  />\n                  <input\n                    value={contactDraft.emergencyContact}\n                    placeholder=\"Emergency contact\"\n                    disabled={!canManageRecords}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100\"\n                    onChange={(event) =>\n                      setContactDraft((current) => ({ ...current, emergencyContact: event.target.value }))\n                    }\n                  />\n                </div>\n\n                <div className=\"mt-3 flex flex-wrap items-center justify-between gap-2\">\n                  <p className=\"text-xs text-slate-500\">You can update full profile info in one action.</p>\n                  <button\n                    type=\"button\"\n                    onClick={saveFullProfile}\n                    disabled={isSubmitting}\n                    className=\"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70\"\n                  >\n                    Save Full Profile\n                  </button>\n                </div>\n              </>\n            ) : (\n              <div className=\"space-y-3\">\n                <div className=\"overflow-x-auto rounded-lg border border-slate-200\">\n                  <table className=\"min-w-full text-left text-sm\">\n                    <thead>\n                      <tr className=\"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500\">\n                        <th className=\"w-[38%] px-3 py-2 font-medium\">Profile Field</th>\n                        <th className=\"px-3 py-2 font-medium\">Value</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {[\n                        [\"Employee ID\", valueOrDash(masterDraft.employeeId)],\n                        [\"Last Name\", valueOrDash(masterDraft.lastName)],\n                        [\"First Name\", valueOrDash(masterDraft.firstName)],\n                        [\"Middle Name\", valueOrDash(masterDraft.middleName)],\n                        [\"Suffix\", valueOrDash(masterDraft.suffix)],\n                        [\"Email\", valueOrDash(masterDraft.email)],\n                        [\"Department\", valueOrDash(masterDraft.department)],\n                        [\"Role\", toLabel(selectedRow.role || \"EMPLOYEE_L1\")],\n                        [\"Job Title\", valueOrDash(masterDraft.jobTitle)],\n                        [\"Employment Status\", valueOrDash(employmentDraft.employmentStatus)],\n                        [\"Record Status\", valueOrDash(employmentDraft.status)],\n                        [\"Start Date\", valueOrDash(masterDraft.hireDate)],\n                        [\"Emergency Contact\", valueOrDash(contactDraft.emergencyContact)],\n                      ].map(([label, value]) => (\n                        <tr key={label} className=\"border-b border-slate-100 last:border-b-0\">\n                          <td className=\"px-3 py-2 text-xs font-semibold uppercase tracking-[0.06em] text-slate-500\">\n                            {label}\n                          </td>\n                          <td className=\"px-3 py-2 text-slate-800\">{value}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n                <div className=\"rounded-lg border border-slate-200 bg-slate-50 p-3\">\n                  <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500\">Editable Contact Details</p>\n                  <div className=\"mt-2 grid gap-2 md:grid-cols-2\">\n                    <label className=\"space-y-1\">\n                      <span className=\"text-[11px] font-medium text-slate-600\">Contact Number</span>\n                      <input\n                        value={asInputValue(contactDraft.contact)}\n                        placeholder=\"Enter contact number\"\n                        className=\"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                        onChange={(event) => setContactDraft((current) => ({ ...current, contact: event.target.value }))}\n                      />\n                    </label>\n                    <label className=\"space-y-1\">\n                      <span className=\"text-[11px] font-medium text-slate-600\">Address</span>\n                      <input\n                        value={asInputValue(contactDraft.address)}\n                        placeholder=\"Enter address\"\n                        className=\"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                        onChange={(event) => setContactDraft((current) => ({ ...current, address: event.target.value }))}\n                      />\n                    </label>\n                  </div>\n                </div>\n                <div className=\"flex flex-wrap items-center justify-between gap-2\">\n                  <p className=\"text-xs text-slate-500\">\n                    All employment details are shown above. You can update contact details here.\n                  </p>\n                  <button\n                    type=\"button\"\n                    onClick={saveFullProfile}\n                    disabled={isSubmitting}\n                    className=\"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70\"\n                  >\n                    Save My Profile\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </SurfaceCard>\n  );\n\n  const renderAttachedDocuments = () => (\n    <SurfaceCard\n      title=\"Employee Attached Documents\"\n      subtitle=\"All documents currently attached to this employee record\"\n    >\n      {!selectedRow ? (\n        <EmptyState\n          title=\"No employee selected\"\n          subtitle=\"Select a record to view attached employee documents.\"\n        />\n      ) : (\n        <div className=\"space-y-3\">\n          <div className=\"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-slate-50 p-3\">\n            <div>\n              <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500\">Attached Files</p>\n              <p className=\"mt-1 text-xs text-slate-600\">\n                {ensureArray(selectedRow.documents).length} document(s) linked to this employee.\n              </p>\n            </div>\n            {canManageRecords ? (\n              <div className=\"flex items-center gap-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => documentInputRef.current?.click()}\n                  disabled={isSubmitting}\n                  className=\"inline-flex h-8 items-center rounded-lg border border-slate-300 bg-white px-3 text-[11px] font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-70\"\n                >\n                  Upload File\n                </button>\n                <input\n                  ref={documentInputRef}\n                  type=\"file\"\n                  className=\"hidden\"\n                  onChange={handleDocumentFileChange}\n                />\n              </div>\n            ) : null}\n          </div>\n\n          {ensureArray(selectedRow.documents).length === 0 ? (\n            <EmptyState\n              title=\"No attached documents yet\"\n              subtitle=\"Upload employee files to build this document list.\"\n            />\n          ) : (\n            <div className=\"overflow-x-auto rounded-lg border border-slate-200\">\n              <table className=\"min-w-full text-left text-sm\">\n                <thead>\n                  <tr className=\"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500\">\n                    <th className=\"px-3 py-2 font-medium\">Document</th>\n                    <th className=\"px-3 py-2 font-medium\">Type</th>\n                    <th className=\"px-3 py-2 font-medium\">Size</th>\n                    <th className=\"px-3 py-2 font-medium\">Uploaded At</th>\n                    <th className=\"px-3 py-2 font-medium text-right\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {ensureArray(selectedRow.documents).map((document, index) => (\n                    <tr key={`${document.name || \"document\"}-${index}`} className=\"border-b border-slate-100 last:border-b-0\">\n                      <td className=\"px-3 py-2 text-slate-800\">{valueOrDash(document.name)}</td>\n                      <td className=\"px-3 py-2 text-slate-700\">{valueOrDash(document.type)}</td>\n                      <td className=\"px-3 py-2 text-slate-700\">{formatFileSize(document.sizeBytes)}</td>\n                      <td className=\"px-3 py-2 text-slate-700\">{formatDate(document.uploadedAt)}</td>\n                      <td className=\"px-3 py-2 text-right\">\n                        <div className=\"inline-flex items-center justify-end gap-2\">\n                          {String(document.ref || \"\").trim() ? (\n                            <button\n                              type=\"button\"\n                              onClick={() => openDocument(document, index)}\n                              className=\"inline-flex h-7 items-center rounded-md border border-sky-200 bg-sky-50 px-2.5 text-[11px] font-semibold text-sky-700 transition hover:bg-sky-100\"\n                            >\n                              Open\n                            </button>\n                          ) : null}\n                          {canManageRecords ? (\n                            <button\n                              type=\"button\"\n                              onClick={() => removeDocument(index)}\n                              disabled={isSubmitting}\n                              className=\"inline-flex h-7 items-center rounded-md border border-rose-200 bg-rose-50 px-2.5 text-[11px] font-semibold text-rose-700 transition hover:bg-rose-100 disabled:opacity-70\"\n                            >\n                              Remove\n                            </button>\n                          ) : null}\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      )}\n    </SurfaceCard>\n  );\n\n  const renderRecentActivitySection = () => (\n    <SurfaceCard\n      title=\"Recent Activity\"\n      subtitle=\"Latest change history for the selected employee record\"\n    >\n      {!selectedRow ? (\n        <EmptyState\n          title=\"No employee selected\"\n          subtitle=\"Open an employee record to review recent activity.\"\n        />\n      ) : ensureArray(selectedRow.activityHistory).length === 0 ? (\n        <p className=\"text-xs text-slate-500\">No change history yet.</p>\n      ) : (\n        <div className=\"overflow-x-auto rounded-lg border border-slate-200\">\n          <table className=\"min-w-full text-left text-sm\">\n            <thead>\n              <tr className=\"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500\">\n                <th className=\"px-3 py-2 font-medium\">Action</th>\n                <th className=\"px-3 py-2 font-medium\">Performed By</th>\n                <th className=\"px-3 py-2 font-medium\">Timestamp</th>\n              </tr>\n            </thead>\n            <tbody>\n              {ensureArray(selectedRow.activityHistory)\n                .slice(-20)\n                .reverse()\n                .map((item, index) => (\n                  <tr key={`${item.at || \"activity\"}-${index}`} className=\"border-b border-slate-100 last:border-b-0\">\n                    <td className=\"px-3 py-2 text-slate-800\">{toLabel(item.action || \"update\")}</td>\n                    <td className=\"px-3 py-2 text-slate-700\">\n                      <div className=\"flex items-center gap-2\">\n                        <Image\n                          src={getActorAvatarUrl(item.byAvatar)}\n                          alt={`${formatActorName(item.byName, item.byEmail || item.by)} profile`}\n                          width={28}\n                          height={28}\n                          className=\"h-7 w-7 rounded-full border border-slate-200 bg-white object-cover\"\n                        />\n                        <div className=\"min-w-0\">\n                          <p className=\"truncate text-xs font-medium text-slate-800\">\n                            {formatActorName(item.byName, item.byEmail || item.by)}\n                          </p>\n                          {formatActorEmail(item.byEmail, item.by) ? (\n                            <p className=\"truncate text-[11px] text-slate-500\">{formatActorEmail(item.byEmail, item.by)}</p>\n                          ) : null}\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-3 py-2 text-slate-700\">{formatDate(item.at)}</td>\n                  </tr>\n                ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </SurfaceCard>\n  );\n\n  const renderCompliance = () => (\n    <SurfaceCard\n      title=\"Government & Compliance IDs\"\n      subtitle=\"Restricted PII identifiers with controlled update workflow\"\n    >\n      {!selectedRow ? (\n        <EmptyState title=\"No employee selected\" subtitle=\"Select a profile to review compliance identifiers.\" />\n      ) : (\n        <div className=\"space-y-3\">\n          <div className=\"grid gap-3 md:grid-cols-3\">\n            {detailsRow(\"Data Classification\", selectedRow.classification || \"Restricted PII\")}\n            {GOVERNMENT_ID_FIELDS.map((field) => detailsRow(field.label, governmentDraft[field.key], field.key))}\n          </div>\n          {canManageRecords ? (\n            <>\n              <div className=\"grid gap-2 md:grid-cols-3\">\n                {GOVERNMENT_ID_FIELDS.map((field) => (\n                  <input\n                    key={field.key}\n                    value={governmentDraft[field.key]}\n                    onChange={(event) =>\n                      setGovernmentDraft((current) => ({\n                        ...current,\n                        [field.key]: event.target.value,\n                      }))\n                    }\n                    placeholder={field.label}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                  />\n                ))}\n              </div>\n              <div className=\"flex items-center justify-between gap-2\">\n                <p className=\"text-xs text-slate-500\">Government identifiers remain classified as Restricted PII.</p>\n                <button\n                  type=\"button\"\n                  onClick={saveCompliance}\n                  disabled={isSubmitting}\n                  className=\"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70\"\n                >\n                  Save Compliance IDs\n                </button>\n              </div>\n            </>\n          ) : (\n            <p className=\"text-xs text-slate-500\">\n              Sensitive identifiers are role-masked. Contact GRC/HR for compliance updates.\n            </p>\n          )}\n        </div>\n      )}\n    </SurfaceCard>\n  );\n\n  const renderPayroll = () => (\n    <SurfaceCard title=\"Payroll Information\" subtitle=\"Payroll grouping and compensation profile under restricted access\">\n      {!selectedRow ? (\n        <EmptyState title=\"No employee selected\" subtitle=\"Select a profile to view payroll information.\" />\n      ) : (\n        <div className=\"space-y-3\">\n          <div className=\"grid gap-3 md:grid-cols-3\">\n            {detailsRow(\"Payroll Group\", payrollDraft.payrollGroup)}\n            {PAYROLL_FIELDS.map((field) => detailsRow(field.label, payrollDraft[field.key], field.key))}\n            {detailsRow(\"Updated At\", formatDate(selectedRow.updatedAt))}\n          </div>\n          {canManageRecords ? (\n            <>\n              <div className=\"grid gap-2 md:grid-cols-3\">\n                <input\n                  value={payrollDraft.payrollGroup}\n                  onChange={(event) => setPayrollDraft((current) => ({ ...current, payrollGroup: event.target.value }))}\n                  placeholder=\"Payroll group\"\n                  className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                />\n                {PAYROLL_FIELDS.map((field) => (\n                  <input\n                    key={field.key}\n                    value={payrollDraft[field.key]}\n                    onChange={(event) =>\n                      setPayrollDraft((current) => ({\n                        ...current,\n                        [field.key]: event.target.value,\n                      }))\n                    }\n                    placeholder={field.placeholder}\n                    className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                  />\n                ))}\n              </div>\n              <div className=\"flex items-center justify-between gap-2\">\n                <p className=\"text-xs text-slate-500\">Payroll information is Restricted PII.</p>\n                <button\n                  type=\"button\"\n                  onClick={savePayroll}\n                  disabled={isSubmitting}\n                  className=\"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70\"\n                >\n                  Save Payroll Information\n                </button>\n              </div>\n            </>\n          ) : (\n            <p className=\"text-xs text-slate-500\">Payroll values are restricted by role-based masking policy.</p>\n          )}\n        </div>\n      )}\n    </SurfaceCard>\n  );\n\n  const renderAccess = () => (\n    <SurfaceCard title=\"Access & Role Assignment\" subtitle=\"Role, manager, and account access controls\">\n      {!selectedRow ? (\n        <EmptyState title=\"No employee selected\" subtitle=\"Select a profile to manage access assignments.\" />\n      ) : (\n        <div className=\"space-y-3\">\n          <div className=\"grid gap-3 md:grid-cols-2\">\n            {detailsRow(\"Role Assignment\", toLabel(selectedRow.role || \"EMPLOYEE_L1\"))}\n            {detailsRow(\"Manager\", selectedRow.managerEmail || \"-\")}\n            {detailsRow(\"Record Status\", selectedRow.status || \"-\")}\n            {detailsRow(\"Last Updated\", formatDate(selectedRow.updatedAt))}\n          </div>\n          {canManageRecords ? (\n            <div className=\"grid gap-2 md:grid-cols-3\">\n              <select\n                value={accessDraft.role}\n                className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                onChange={(event) => setAccessDraft((current) => ({ ...current, role: event.target.value }))}\n              >\n                {roleOptions.map((roleOption) => (\n                  <option key={roleOption.value} value={roleOption.value}>\n                    {roleOption.label}\n                  </option>\n                ))}\n              </select>\n              <input\n                value={accessDraft.managerEmail}\n                placeholder=\"Manager email\"\n                className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                onChange={(event) => setAccessDraft((current) => ({ ...current, managerEmail: event.target.value }))}\n              />\n              <select\n                value={accessDraft.status}\n                className=\"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none\"\n                onChange={(event) => setAccessDraft((current) => ({ ...current, status: event.target.value }))}\n              >\n                {RECORD_STATUS_OPTIONS.map((statusOption) => (\n                  <option key={statusOption} value={statusOption}>\n                    {statusOption}\n                  </option>\n                ))}\n              </select>\n            </div>\n          ) : (\n            <p className=\"text-xs text-slate-500\">\n              Access and role assignment can only be changed by GRC, HR, EA, or Super Admin.\n            </p>\n          )}\n          {canManageRecords ? (\n            <div className=\"flex justify-end\">\n              <button\n                type=\"button\"\n                onClick={saveAccess}\n                disabled={isSubmitting}\n                className=\"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70\"\n              >\n                Save Access Assignment\n              </button>\n            </div>\n          ) : (\n            null\n          )}\n        </div>\n      )}\n    </SurfaceCard>\n  );\n\n  const renderDetailsSection = () =>\n    !selectedRow ? (\n      <EmptyState\n        title=\"No employee selected\"\n        subtitle=\"Open an employee from the directory to view profile, compliance, payroll, and access role details.\"\n      />\n    ) : (\n      <>\n        {!employeeRole ? (\n          <div className=\"flex flex-wrap items-center justify-between gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2\">\n            <ModuleTabs\n              tabs={detailTabs}\n              value={detailTab}\n              onChange={setDetailTab}\n              className=\"min-w-[220px] flex-1\"\n            />\n            <button\n              type=\"button\"\n              onClick={() => setShowDetailsPanel(false)}\n              className=\"inline-flex h-8 items-center gap-1.5 rounded-lg border border-slate-300 bg-white px-3 text-xs font-medium text-slate-700 transition hover:bg-slate-50\"\n            >\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.9\" className=\"h-3.5 w-3.5\" aria-hidden=\"true\">\n                <path d=\"M15.5 18 9.5 12l6-6\" />\n              </svg>\n              Back\n            </button>\n          </div>\n        ) : null}\n        {detailTab === \"profile\" ? renderProfile() : null}\n        {!employeeRole && detailTab === \"compliance\" ? renderCompliance() : null}\n        {!employeeRole && detailTab === \"payroll\" ? renderPayroll() : null}\n        {!employeeRole && detailTab === \"access\" ? renderAccess() : null}\n        {detailTab === \"documents\" ? renderAttachedDocuments() : null}\n        {!employeeRole && detailTab === \"activity\" ? renderRecentActivitySection() : null}\n      </>\n    );\n\n  return (\n    <div className=\"space-y-4\">\n      {showDetailsPanel ? (\n        <div id=\"employee-details\" ref={detailsPanelRef} className=\"min-w-0\">\n          <div className=\"space-y-2 xl:max-h-[calc(100dvh-12rem)] xl:overflow-y-auto xl:pr-1\">\n            {renderDetailsSection()}\n          </div>\n        </div>\n      ) : (\n        <div id=\"employee-directory\" className=\"min-w-0\">\n          {renderDirectory()}\n        </div>\n      )}\n      {renderCreateForm}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}