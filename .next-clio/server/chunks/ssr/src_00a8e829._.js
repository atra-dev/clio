module.exports=[3427,a=>{"use strict";var b=a.i(87924),c=a.i(97630);let d={critical:"bg-rose-100 text-rose-700 ring-1 ring-rose-200",high:"bg-orange-100 text-orange-700 ring-1 ring-orange-200",medium:"bg-amber-100 text-amber-700 ring-1 ring-amber-200",low:"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200",open:"bg-cyan-100 text-cyan-700 ring-1 ring-cyan-200",containment:"bg-blue-100 text-blue-700 ring-1 ring-blue-200",investigating:"bg-indigo-100 text-indigo-700 ring-1 ring-indigo-200",escalated:"bg-violet-100 text-violet-700 ring-1 ring-violet-200","regulatory review":"bg-fuchsia-100 text-fuchsia-700 ring-1 ring-fuchsia-200",resolved:"bg-teal-100 text-teal-700 ring-1 ring-teal-200",closed:"bg-slate-200 text-slate-700 ring-1 ring-slate-300",active:"bg-emerald-100 text-emerald-700",approved:"bg-emerald-100 text-emerald-700",completed:"bg-sky-100 text-sky-700",exported:"bg-sky-100 text-sky-700",pending:"bg-amber-100 text-amber-700",rejected:"bg-rose-100 text-rose-700",failed:"bg-rose-100 text-rose-700",archived:"bg-slate-200 text-slate-700","in progress":"bg-indigo-100 text-indigo-700"};function e({value:a,className:e}){let f=String(a||"").trim().toLowerCase();return(0,b.jsx)("span",{className:(0,c.cn)("inline-flex rounded-md px-2 py-1 text-xs font-medium",d[f]||"bg-slate-100 text-slate-700",e),children:a||"N/A"})}a.s(["default",()=>e])},38014,a=>{"use strict";var b=a.i(87924),c=a.i(97630);function d({tabs:a,value:d,onChange:e,className:f}){return(0,b.jsx)("div",{className:(0,c.cn)("flex flex-wrap gap-2",f),children:a.map(a=>{let f=a.id===d;return(0,b.jsx)("button",{type:"button",onClick:()=>e(a.id),className:(0,c.cn)("rounded-lg border px-3 py-1.5 text-xs font-medium transition",f?"border-sky-300 bg-sky-50 text-sky-700":"border-slate-300 bg-white text-slate-700 hover:bg-slate-50"),children:a.label},a.id)})})}a.s(["default",()=>d])},44036,a=>{"use strict";var b=a.i(87924),c=a.i(97630);function d({title:a,subtitle:d,className:e,children:f,action:g}){return(0,b.jsxs)("section",{className:(0,c.cn)("rounded-2xl border border-slate-200 bg-white p-5 shadow-[0_12px_30px_-24px_rgba(15,23,42,0.55)]",e),children:[(a||d||g)&&(0,b.jsxs)("header",{className:"mb-4 flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[a&&(0,b.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:a}),d&&(0,b.jsx)("p",{className:"text-sm text-slate-600",children:d})]}),g]}),f]})}a.s(["default",()=>d])},63609,a=>{"use strict";function b(a={}){let c=new URLSearchParams;Object.entries(a).forEach(([a,b])=>{if(null==b)return;let d=String(b).trim();d&&c.set(a,d)});let d=c.toString();return d?`?${d}`:""}async function c(a){if((a.headers.get("content-type")||"").includes("text/csv"))return await a.text();let b=await a.json().catch(()=>({}));if(!a.ok)throw Error(b?.message||"Request failed.");return b}async function d(a,b={}){let e=await fetch(a,{...b,headers:{"Content-Type":"application/json",...b.headers||{}},cache:"no-store"});return await c(e)}async function e(a,b={}){let c=await fetch(a,{...b,cache:"no-store"});if(!c.ok){let a=await c.json().catch(()=>({}));throw Error(a?.message||"Export failed.")}return await c.text()}a.s(["hrisApi",0,{employees:{list:async(a={})=>await d(`/api/hris/employees${b(a)}`,{method:"GET"}),get:async a=>await d(`/api/hris/employees/${encodeURIComponent(a)}`,{method:"GET"}),create:async a=>await d("/api/hris/employees",{method:"POST",body:JSON.stringify(a)}),update:async(a,b)=>await d(`/api/hris/employees/${encodeURIComponent(a)}`,{method:"PATCH",body:JSON.stringify(b)}),archive:async a=>await d(`/api/hris/employees/${encodeURIComponent(a)}`,{method:"PATCH",body:JSON.stringify({status:"Archived"})}),logDocumentAccess:async(a,b)=>await d(`/api/hris/employees/${encodeURIComponent(a)}/documents/access`,{method:"POST",body:JSON.stringify(b||{})})},lifecycle:{list:async(a={})=>await d(`/api/hris/lifecycle${b(a)}`,{method:"GET"}),get:async a=>await d(`/api/hris/lifecycle/${encodeURIComponent(a)}`,{method:"GET"}),create:async a=>await d("/api/hris/lifecycle",{method:"POST",body:JSON.stringify(a)}),update:async(a,b)=>await d(`/api/hris/lifecycle/${encodeURIComponent(a)}`,{method:"PATCH",body:JSON.stringify(b)}),offboard:async(a,b={})=>await d(`/api/hris/lifecycle/${encodeURIComponent(a)}/offboard`,{method:"POST",body:JSON.stringify(b)}),approve:async(a,b={})=>await d(`/api/hris/lifecycle/${encodeURIComponent(a)}/approve`,{method:"POST",body:JSON.stringify(b)})},attendance:{list:async(a={})=>await d(`/api/hris/attendance${b(a)}`,{method:"GET"}),create:async a=>await d("/api/hris/attendance",{method:"POST",body:JSON.stringify(a)}),update:async(a,b)=>await d(`/api/hris/attendance/${encodeURIComponent(a)}`,{method:"PATCH",body:JSON.stringify(b)})},leave:{list:async(a={})=>await d(`/api/hris/attendance/leave-requests${b(a)}`,{method:"GET"}),create:async a=>await d("/api/hris/attendance/leave-requests",{method:"POST",body:JSON.stringify(a)}),update:async(a,b)=>await d(`/api/hris/attendance/leave-requests/${encodeURIComponent(a)}`,{method:"PATCH",body:JSON.stringify(b)}),approve:async(a,{approved:b,approvalNote:c})=>await d(`/api/hris/attendance/leave-requests/${encodeURIComponent(a)}`,{method:"PATCH",body:JSON.stringify({status:b?"Approved":"Rejected",approvalNote:c||""})})},performance:{list:async(a={})=>await d(`/api/hris/performance${b(a)}`,{method:"GET"}),create:async a=>await d("/api/hris/performance",{method:"POST",body:JSON.stringify(a)}),update:async(a,b)=>await d(`/api/hris/performance/${encodeURIComponent(a)}`,{method:"PATCH",body:JSON.stringify(b)})},templates:{list:async(a={})=>await d(`/api/hris/templates${b(a)}`,{method:"GET"}),create:async a=>await d("/api/hris/templates",{method:"POST",body:JSON.stringify(a)}),update:async(a,b)=>await d(`/api/hris/templates/${encodeURIComponent(a)}`,{method:"PATCH",body:JSON.stringify(b)}),archive:async a=>await d(`/api/hris/templates/${encodeURIComponent(a)}`,{method:"DELETE"})},activityLogs:{list:async(a={})=>await d(`/api/hris/activity-logs${b(a)}`,{method:"GET"}),async exportCsv(a={}){let c=b({...a,export:"csv"});return await e(`/api/hris/activity-logs${c}`,{method:"GET"})}},exports:{list:async(a={})=>await d(`/api/hris/exports${b(a)}`,{method:"GET"}),create:async a=>await d("/api/hris/exports",{method:"POST",body:JSON.stringify(a)}),update:async(a,b)=>await d(`/api/hris/exports/${encodeURIComponent(a)}`,{method:"PATCH",body:JSON.stringify(b)}),approve:async(a,b)=>await d(`/api/hris/exports/${encodeURIComponent(a)}/approve`,{method:"POST",body:JSON.stringify(b)}),execute:async a=>await e(`/api/hris/exports/${encodeURIComponent(a)}/execute`,{method:"POST"})},retention:{list:async(a={})=>await d(`/api/hris/retention${b(a)}`,{method:"GET"}),purge:async(a={})=>await d("/api/hris/retention",{method:"POST",body:JSON.stringify(a)})},incidents:{list:async(a={})=>await d(`/api/hris/incidents${b(a)}`,{method:"GET"}),get:async a=>await d(`/api/hris/incidents/${encodeURIComponent(a)}`,{method:"GET"}),create:async a=>await d("/api/hris/incidents",{method:"POST",body:JSON.stringify(a)}),update:async(a,b)=>await d(`/api/hris/incidents/${encodeURIComponent(a)}`,{method:"PATCH",body:JSON.stringify(b)})},settings:{referenceData:{list:async()=>await d("/api/hris/settings/reference-data",{method:"GET"}),create:async a=>await d("/api/hris/settings/reference-data",{method:"POST",body:JSON.stringify(a)}),remove:async a=>await d("/api/hris/settings/reference-data",{method:"DELETE",body:JSON.stringify(a)})}}}])},63824,a=>{"use strict";var b=a.i(87924);function c({title:a,subtitle:c}){return(0,b.jsxs)("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50/80 px-4 py-5 text-center",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:a}),c?(0,b.jsx)("p",{className:"mt-1 text-xs text-slate-600",children:c}):null]})}a.s(["default",()=>c])},77071,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(44036),e=a.i(63824),f=a.i(38014),g=a.i(3427),h=a.i(63609);let i=[{id:"requests",label:"Export Requests"},{id:"approval",label:"Approval Workflow"},{id:"history",label:"Export History"},{id:"alerts",label:"Mass Export Alerts"}],j={dataset:"Employee Master Data",format:"CSV",estimateVolume:"",justification:"",scope:"full"};function k(a){let b=new Date(a||"");return Number.isNaN(b.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(b)}function l({session:a}){let l=a?.role||"EMPLOYEE_L1",m=a?.email||"",n=String(l||"").trim().toUpperCase().startsWith("EMPLOYEE_"),o=!n,[p,q]=(0,c.useState)("requests"),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(j),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),D=(0,c.useCallback)(async()=>{w(!0),A("");try{let a=await h.hrisApi.exports.list(n?{ownerEmail:m}:{});s(Array.isArray(a.records)?a.records:[])}catch(a){A(a.message||"Unable to load export control records.")}finally{w(!1)}},[m,n]);(0,c.useEffect)(()=>{D()},[D]);let E=(0,c.useMemo)(()=>r.filter(a=>"pending"===String(a.status||"").trim().toLowerCase()),[r]),F=(0,c.useMemo)(()=>r.filter(a=>["approved","rejected","exported"].includes(String(a.status||"").trim().toLowerCase())),[r]),G=(0,c.useMemo)(()=>r.filter(a=>"mass_export_threshold"===String(a.alert||"").trim().toLowerCase()),[r]),H=a=>b=>{u(c=>({...c,[a]:b.target.value}))},I=async a=>{a.preventDefault(),y(!0),A(""),C("");try{await h.hrisApi.exports.create({...t,requestedBy:m}),u(j),C("Export request submitted with justification."),await D()}catch(a){A(a.message||"Unable to submit export request.")}finally{y(!1)}},J=async(a,b)=>{if(a&&o){y(!0),A(""),C("");try{await h.hrisApi.exports.approve(a,{approved:b,note:b?"Approved by export control reviewer.":"Rejected by export control reviewer."}),C(b?"Export request approved.":"Export request rejected."),await D()}catch(a){A(a.message||"Unable to process export approval.")}finally{y(!1)}}},K=async a=>{if(a?.id){y(!0),A(""),C("");try{var b;let c,d,e,f=await h.hrisApi.exports.execute(a.id);b=`clio-export-${a.id}.csv`,c=new Blob([f],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(c),(e=document.createElement("a")).href=d,e.download=b,document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(d),C("Export generated and downloaded."),await D()}catch(a){A(a.message||"Unable to execute export.")}finally{y(!1)}}};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(f.default,{tabs:i,value:p,onChange:q}),z?(0,b.jsx)("p",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:z}):null,B?(0,b.jsx)("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:B}):null,"requests"===p?(0,b.jsx)(d.default,{title:"Export Request Form",subtitle:"Every request requires business justification and is fully audited",children:(0,b.jsxs)("form",{className:"grid gap-2 md:grid-cols-4",onSubmit:I,children:[(0,b.jsx)("input",{value:t.dataset,onChange:H("dataset"),placeholder:"Dataset",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsxs)("select",{value:t.format,onChange:H("format"),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{children:"CSV"}),(0,b.jsx)("option",{children:"PDF"}),(0,b.jsx)("option",{children:"Sheets"})]}),(0,b.jsx)("input",{value:t.estimateVolume,onChange:H("estimateVolume"),placeholder:"Estimated volume (rows/pages)",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsxs)("select",{value:t.scope,onChange:H("scope"),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"full",children:"Full dataset"}),(0,b.jsx)("option",{value:"department",children:"Department only"}),(0,b.jsx)("option",{value:"self",children:"Own data only"})]}),(0,b.jsx)("textarea",{required:!0,value:t.justification,onChange:H("justification"),placeholder:"Justification for export",className:"md:col-span-4 min-h-[84px] rounded-lg border border-slate-300 px-3 py-2 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("div",{className:"md:col-span-4",children:(0,b.jsx)("button",{type:"submit",disabled:x,className:"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:x?"Submitting...":"Submit Export Request"})})]})}):null,(0,b.jsx)(d.default,{title:"approval"===p?"Approval Workflow":"history"===p?"Export History Tracking":"alerts"===p?"Mass Export Alerts":"Export Requests",subtitle:"All export events are monitored for governance and DLP compliance",children:v?(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Loading export control data..."}):(0,b.jsx)(b.Fragment,{children:"approval"===p?0===E.length?(0,b.jsx)(e.default,{title:"No pending approvals",subtitle:"Pending export requests will appear here."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Dataset"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Requested By"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Format"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Volume"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Justification"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:E.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-2 py-3 font-medium text-slate-900",children:a.dataset||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.requestedBy||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.format||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.estimateVolume||"-"}),(0,b.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:a.justification||"-"}),(0,b.jsx)("td",{className:"px-2 py-3 text-right",children:o?(0,b.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>J(a.id,!0),disabled:x,className:"rounded-lg border border-emerald-200 bg-emerald-50 px-2.5 py-1.5 text-xs font-medium text-emerald-700 transition hover:bg-emerald-100 disabled:opacity-60",children:"Approve"}),(0,b.jsx)("button",{type:"button",onClick:()=>J(a.id,!1),disabled:x,className:"rounded-lg border border-rose-200 bg-rose-50 px-2.5 py-1.5 text-xs font-medium text-rose-700 transition hover:bg-rose-100 disabled:opacity-60",children:"Reject"})]}):(0,b.jsx)("span",{className:"text-xs text-slate-500",children:"Awaiting reviewer"})})]},a.id))})]})}):"history"===p?0===F.length?(0,b.jsx)(e.default,{title:"No export history yet",subtitle:"Approved and executed exports will be tracked here."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Dataset"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Requested By"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Reviewed By"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Exported At"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:F.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-2 py-3 font-medium text-slate-900",children:a.dataset||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.requestedBy||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)(g.default,{value:a.status||"-"})}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.reviewer||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:k(a.exportedAt||a.reviewedAt)}),(0,b.jsx)("td",{className:"px-2 py-3 text-right",children:(0,b.jsx)("button",{type:"button",onClick:()=>K(a),disabled:x||"rejected"===String(a.status||"").trim().toLowerCase(),className:"rounded-lg border border-sky-200 bg-sky-50 px-2.5 py-1.5 text-xs font-medium text-sky-700 transition hover:bg-sky-100 disabled:opacity-60",children:"Export"})})]},a.id))})]})}):"alerts"===p?0===G.length?(0,b.jsx)(e.default,{title:"No mass export alerts",subtitle:"Large-volume exports will trigger alerts automatically."}):(0,b.jsx)("div",{className:"space-y-2",children:G.map(a=>(0,b.jsxs)("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-semibold",children:a.dataset||"Dataset"})," requested by"," ",(0,b.jsx)("span",{className:"font-medium",children:a.requestedBy||"-"})]}),(0,b.jsxs)("p",{className:"mt-1",children:["Estimated volume: ",a.estimateVolume||"-"]}),(0,b.jsx)("p",{className:"mt-1",children:"Action: Review justification and validate business need before release."})]},a.id))}):0===r.length?(0,b.jsx)(e.default,{title:"No export requests yet",subtitle:"Create an export request to populate this section."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Dataset"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Requested By"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Format"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Scope"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Submitted"})]})}),(0,b.jsx)("tbody",{children:r.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-2 py-3 font-medium text-slate-900",children:a.dataset||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.requestedBy||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.format||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.scope||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)(g.default,{value:a.status||"-"})}),(0,b.jsx)("td",{className:"px-2 py-3",children:k(a.createdAt)})]},a.id))})]})})})})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=src_00a8e829._.js.map