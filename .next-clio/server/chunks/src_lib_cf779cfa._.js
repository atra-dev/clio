module.exports=[91387,a=>{"use strict";var r=a.i(45709),e=a.i(44801);let t=[],i=0;function l(a){let r=String(a||"").trim().toLowerCase();return r&&r.includes("@")?r:""}async function n(){let a=Date.now();if(a-i<3e4&&Array.isArray(t))return t;let e=await (0,r.listUserAccounts)();return t=Array.isArray(e)?e:[],i=a,t}async function o(a=[]){let r=function(a=[]){let r=new Set;return a.forEach(a=>{let e=l(a);e&&r.add(e)}),r}(a),t=0===r.size,i=new Map;try{(await n()).forEach(a=>{let n=l(a?.email);n&&(t||r.has(n))&&i.set(n,{email:n,name:(0,e.formatPersonName)({firstName:a?.firstName,middleName:a?.middleName,lastName:a?.lastName,fallbackEmail:n,fallbackLabel:"User"}),avatarUrl:"string"==typeof a?.profilePhotoDataUrl?a.profilePhotoDataUrl:null})})}catch{}return r.forEach(a=>{i.has(a)||i.set(a,{email:a,name:(0,e.formatNameFromEmail)(a),avatarUrl:null})}),i}function y(a,r){let t=l(r);if(t&&a instanceof Map){let r=a.get(t);if(r)return r}if(t)return{email:t,name:(0,e.formatNameFromEmail)(t),avatarUrl:null};let i=String(r||"").trim();return i?{email:i,name:i,avatarUrl:null}:{email:"",name:"System",avatarUrl:null}}function c(a,r,{actorKey:e="by"}={}){return Array.isArray(a)?a.map(a=>{let t=y(r,a?.[e]);return{...a,[`${e}Name`]:t.name,[`${e}Email`]:t.email||String(a?.[e]||""),[`${e}Avatar`]:t.avatarUrl}}):[]}function m(a,r="by"){return Array.isArray(a)?a.map(a=>a?.[r]).filter(Boolean):[]}function s(a){if(!a||"object"!=typeof a)return[];let r=[a.createdBy,a.updatedBy];return Array.isArray(a.activityHistory)&&a.activityHistory.forEach(a=>{r.push(a?.by)}),Array.isArray(a.documents)&&a.documents.forEach(a=>{r.push(a?.uploadedBy)}),r.filter(Boolean)}function u(a,r){if(!a||"object"!=typeof a)return a;let e=y(r,a.createdBy),t=y(r,a.updatedBy),i=Array.isArray(a.activityHistory)?a.activityHistory.map(a=>{let e=y(r,a?.by);return{...a,byName:e.name,byEmail:e.email||String(a?.by||""),byAvatar:e.avatarUrl}}):[],l=Array.isArray(a.documents)?a.documents.map(a=>{let e=y(r,a?.uploadedBy);return{...a,uploadedByName:e.name,uploadedByEmail:e.email||String(a?.uploadedBy||""),uploadedByAvatar:e.avatarUrl}}):[];return{...a,createdByName:e.name,createdByEmail:e.email||String(a.createdBy||""),createdByAvatar:e.avatarUrl,updatedByName:t.name,updatedByEmail:t.email||String(a.updatedBy||""),updatedByAvatar:t.avatarUrl,activityHistory:i,documents:l}}function d(a){if(!a||"object"!=typeof a)return[];let r=[a.createdBy,a.updatedBy];return Array.isArray(a.versionHistory)&&a.versionHistory.forEach(a=>{r.push(a?.changedBy)}),Array.isArray(a.modificationLog)&&a.modificationLog.forEach(a=>{r.push(a?.by)}),Array.isArray(a.usageLogs)&&a.usageLogs.forEach(a=>{r.push(a?.by,a?.uploadedBy,a?.performedBy)}),r.filter(Boolean)}function f(a,r){if(!a||"object"!=typeof a)return a;let e=y(r,a.createdBy),t=y(r,a.updatedBy),i=Array.isArray(a.versionHistory)?a.versionHistory.map(a=>{let e=y(r,a?.changedBy);return{...a,changedByName:e.name,changedByEmail:e.email||String(a?.changedBy||""),changedByAvatar:e.avatarUrl}}):[],l=Array.isArray(a.modificationLog)?a.modificationLog.map(a=>{let e=y(r,a?.by);return{...a,byName:e.name,byEmail:e.email||String(a?.by||""),byAvatar:e.avatarUrl}}):[];return{...a,createdByName:e.name,createdByEmail:e.email||String(a.createdBy||""),createdByAvatar:e.avatarUrl,updatedByName:t.name,updatedByEmail:t.email||String(a.updatedBy||""),updatedByAvatar:t.avatarUrl,versionHistory:i,modificationLog:l}}a.s(["collectEmailsFromTrail",()=>m,"collectEmployeeActorValues",()=>s,"collectTemplateActorValues",()=>d,"createActorDirectory",()=>o,"enrichEmployeeRecordActors",()=>u,"enrichTemplateRecordActors",()=>f,"enrichTrailActors",()=>c,"resolveActor",()=>y])},11072,a=>{a.v(r=>Promise.all(["server/chunks/src_lib_security-notifications_5f07320b.js","server/chunks/src_lib_security-detection_4bdbe3ad.js"].map(r=>a.l(r))).then(()=>r(74405)))}];

//# sourceMappingURL=src_lib_cf779cfa._.js.map