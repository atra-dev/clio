(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4644,e=>{"use strict";var t=e.i(43476),a=e.i(57688),l=e.i(71645),s=e.i(38418),r=e.i(93096),n=e.i(46670),o=e.i(94106),i=e.i(77135),d=e.i(74923),c=e.i(13634),m=e.i(9968),u=e.i(97256),p=e.i(32295);let x=[{id:"profile",label:"Employee Profile"},{id:"compliance",label:"Government & Compliance IDs"},{id:"payroll",label:"Payroll Information"},{id:"access",label:"Access & Role Assignment"},{id:"documents",label:"Employee Attached Documents"},{id:"activity",label:"Recent Activity"}],h=["Active Employee","Probation","On Leave","Resigned","Terminated"],b=["Active","Probation","Inactive","Archived"],f=[{value:"SUPER_ADMIN",label:"Super Admin"},{value:"GRC",label:"GRC"},{value:"HR",label:"HR"},{value:"EA",label:"EA"},{value:"EMPLOYEE_L1",label:"Employee (L1)"},{value:"EMPLOYEE_L2",label:"Employee (L2)"},{value:"EMPLOYEE_L3",label:"Employee (L3)"}],g=[{value:"Governance, Risk, and Compliance (GRC)",label:"Governance, Risk, and Compliance (GRC)"},{value:"Research and Development (R&D)",label:"Research and Development (R&D)"},{value:"Cyber Security Operations Center (CSOC)",label:"Cyber Security Operations Center (CSOC)"},{value:"Threat Intelligence (TI)",label:"Threat Intelligence (TI)"}],y=[{key:"primaryId",label:"Primary Government ID"},{key:"sss",label:"SSS"},{key:"tin",label:"TIN"},{key:"philhealth",label:"PhilHealth"},{key:"pagibig",label:"Pag-IBIG"},{key:"passport",label:"Passport"}],v=[{key:"compensationType",label:"Compensation Type",placeholder:"Monthly"},{key:"baseSalary",label:"Base Salary",placeholder:"e.g. 45000"},{key:"bankName",label:"Bank Name",placeholder:"e.g. BPI"},{key:"accountName",label:"Account Name",placeholder:"Employee Name"},{key:"accountNumber",label:"Account Number",placeholder:"XXXX-XXXX"},{key:"taxCode",label:"Tax Code",placeholder:"S/ME1"}],N={employeeId:"",name:"",email:"",role:"EMPLOYEE_L1",department:"",jobTitle:"",hireDate:"",employmentStatus:"Active Employee",status:"Active",contact:"",address:"",emergencyContact:"",managerEmail:"",payrollGroup:"",govId:""},j={employeeId:"",lastName:"",firstName:"",middleName:"",suffix:"",email:"",department:"",jobTitle:"",hireDate:""},S={employmentStatus:"Active Employee",status:"Active",managerEmail:""},w={contact:"",address:"",emergencyContact:""},k={primaryId:"",sss:"",tin:"",philhealth:"",pagibig:"",passport:""},C={payrollGroup:"",compensationType:"",baseSalary:"",bankName:"",accountName:"",accountNumber:"",taxCode:""},E={role:"EMPLOYEE_L1",status:"Active",managerEmail:""},I={firstName:"",middleName:"",lastName:"",suffix:"",contact:"",address:"",emergencyContact:""};function A(e){let t=new Date(e||"");return Number.isNaN(t.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}function L(e){return String(e||"").trim().toLowerCase()}function P(e){return String(e||"").trim()}function D(e){return Array.isArray(e)?e:[]}function R(e){return e&&"object"==typeof e&&!Array.isArray(e)?e:{}}function M(e,t){let a=[],l=new Set;return[...D(e),...D(t)].forEach(e=>{let t,s,r=(t=String(e?.value||"").trim(),s=String(e?.label||t).trim(),t?{value:t,label:s||t}:null);if(!r)return;let n=`${r.value}::${r.label}`.toLowerCase();l.has(n)||(l.add(n),a.push(r))}),a}function T(e){return String(e??"").trim()||"-"}function O(e){let t=String(e??"").trim();return"-"===t?"":t}function G(e,t){let a=String(e||"").trim();if(a)return a;let l=String(t||"").trim().toLowerCase();return l.includes("@")?(0,c.formatNameFromEmail)(l,{fallbackLabel:"User"}):T(t)}function U(e,t){let a=String(e||"").trim();if(a.includes("@"))return a.toLowerCase();let l=String(t||"").trim();return l.includes("@")?l.toLowerCase():""}function _(e){let t=String(e||"").trim();if(!t)return"-";let a=t.toUpperCase(),l={EMPLOYEE:"Employee (L1)",EMPLOYEE_L1:"Employee (L1)",EMPLOYEE_L2:"Employee (L2)",EMPLOYEE_L3:"Employee (L3)"};return l[a]?l[a]:t.includes("_")?t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "):t}function F(e){return(0,c.formatEmployeeName)({lastName:e?.lastName,firstName:e?.firstName,middleName:e?.middleName,suffix:e?.suffix,fallback:e?.name,fallbackEmail:e?.email,fallbackLabel:"Employee"})}function B(e,a,l){return(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[11px] font-medium uppercase tracking-[0.08em] text-slate-500",children:e}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-800",children:T(a)})]},l)}function Y(e){return window.confirm(e)}function $({session:e}){let $=(0,d.useToast)(),z=e?.role||"EMPLOYEE_L1",X=e?.email||"",H=String(z||"").trim().toUpperCase().startsWith("EMPLOYEE_"),J=!H,[q,V]=(0,l.useState)({roles:f,departments:g}),[W,K]=(0,l.useState)("profile"),[Q,Z]=(0,l.useState)([]),[ee,et]=(0,l.useState)(null),[ea,el]=(0,l.useState)(""),[es,er]=(0,l.useState)(""),[en,eo]=(0,l.useState)(""),[ei,ed]=(0,l.useState)(1),[ec,em]=(0,l.useState)(!0),[eu,ep]=(0,l.useState)(""),[ex,eh]=(0,l.useState)(null),[eb,ef]=(0,l.useState)(N),[eg,ey]=(0,l.useState)(j),[ev,eN]=(0,l.useState)(S),[ej,eS]=(0,l.useState)(w),[ew,ek]=(0,l.useState)(k),[eC,eE]=(0,l.useState)(C),[eI,eA]=(0,l.useState)(E),[eL,eP]=(0,l.useState)(I),[eD,eR]=(0,l.useState)(!1),[eM,eT]=(0,l.useState)(!1),[eO,eG]=(0,l.useState)(!1),eU=(0,l.useRef)(null),e_=(0,l.useRef)(null),eF=(0,l.useMemo)(()=>H?x.filter(e=>"profile"===e.id||"documents"===e.id):x,[H]),eB=(0,l.useMemo)(()=>M(q.roles,f),[q.roles]),eY=(0,l.useMemo)(()=>M(q.departments,g),[q.departments]),e$=(0,l.useCallback)(e=>{let t=P(e?.id||e?.recordId);t?(ep(t),K("profile"),eT(!0),window.innerWidth<1280&&window.requestAnimationFrame(()=>{eU.current?.scrollIntoView({behavior:"smooth",block:"start"})})):$.error("Unable to open employee details. Missing record identifier.")},[$]);(0,l.useEffect)(()=>{if(!eD)return;let e=document.body.style.overflow,t=e=>{"Escape"===e.key&&eR(!1)};return document.body.style.overflow="hidden",window.addEventListener("keydown",t),()=>{document.body.style.overflow=e,window.removeEventListener("keydown",t)}},[eD]),(0,l.useEffect)(()=>{if(H)return void V({roles:f,departments:g});let e=!0;return(async()=>{try{let t=await u.hrisApi.settings.referenceData.list();if(!e)return;V({roles:M(t?.catalogs?.roles,f),departments:M(t?.catalogs?.departments,g)})}catch{if(!e)return;V({roles:f,departments:g})}})(),()=>{e=!1}},[H]);let ez=(0,l.useCallback)(async()=>{em(!0);try{let e=await u.hrisApi.employees.list({q:ea,status:es,role:en,page:ei,pageSize:10}),t=D(e.records).map(e=>({...e,id:P(e?.id||e?.recordId),name:F(e)})).filter(e=>!!e.id);if(Z(t),et(e.pagination||null),H){let e=t[0]?.id||"";eu!==e&&ep(e),eT(!!e);return}!eu&&t[0]?.id&&ep(t[0].id),eu&&!t.some(e=>e.id===eu)&&ep(t[0]?.id||"")}catch(e){$.error(e.message||"Unable to load employee directory.")}finally{em(!1)}},[H,ei,ea,en,eu,es,$]),eX=(0,l.useCallback)(async()=>{let e=P(eu);if(!e)return void eh(null);try{let t=await u.hrisApi.employees.get(e),a=t.record?{...t.record,name:F(t.record)}:null;eh(a)}catch(e){String(e?.message||"").toLowerCase().includes("invalid record identifier")&&(ep(""),eT(!1)),eh(null),$.error(e.message||"Unable to load employee profile.")}},[eu,$]);(0,l.useEffect)(()=>{ez()},[ez]),(0,l.useEffect)(()=>{eX()},[eX]),(0,l.useEffect)(()=>{new Set(eF.map(e=>e.id)).has(W)||K(eF[0]?.id||"profile")},[W,eF]),(0,l.useEffect)(()=>{let e=new Set(eF.map(e=>e.id)),t=(t=window.location.hash)=>{let a=String(t||"").replace(/^#/,"").trim().toLowerCase();if(!a)return;let l=x.find(e=>(0,p.toSubTabAnchor)(e.id)===a);l&&e.has(l.id)&&(K(l.id),eu&&eT(!0))},a=e=>{if(e?.detail?.moduleId&&"employees"!==e.detail.moduleId)return;let a=e?.detail?.anchor;a?t(`#${a}`):t()};return t(),window.addEventListener("hashchange",t),window.addEventListener("popstate",t),window.addEventListener("clio:subtab-anchor",a),()=>{window.removeEventListener("hashchange",t),window.removeEventListener("popstate",t),window.removeEventListener("clio:subtab-anchor",a)}},[eF,eu]);let eH=(0,l.useMemo)(()=>{let e=Q.find(e=>e.id===eu)||null,t=P(ex?.id||ex?.recordId);if(e&&ex&&t===e.id){let t={...e,...ex,id:e.id};return{...t,name:F(t)}}if(e)return e;if(ex){let e=P(ex.id||ex.recordId);return{...ex,id:e,name:F(ex)}}return null},[Q,eu,ex]),eJ=(0,l.useMemo)(()=>{let e=[...eB],t=String(eH?.role||"").trim();return t&&!e.some(e=>e.value===t)&&e.push({value:t,label:_(t)}),e},[eB,eH?.role]);(0,l.useEffect)(()=>{0!==eB.length&&ef(e=>{let t=String(e.role||"").trim();if(t&&eB.some(e=>e.value===t))return e;let a=eB.find(e=>"EMPLOYEE_L1"===e.value)?.value||eB.find(e=>"Employee"===e.value)?.value||eB[0].value;return{...e,role:a}})},[eB]),(0,l.useEffect)(()=>{if(!eH){ey(j),eN(S),eS(w),ek(k),eE(C),eA(E);return}ey(function(e){if(!e)return j;let t=function(e){let t=String(e||"").trim().replace(/\s+/g," ");if(!t)return{lastName:"",firstName:"",middleName:"",suffix:""};let a=new Set(["JR","JR.","SR","SR.","I","II","III","IV","V"]);if(t.includes(",")){let[e,l]=t.split(",",2),s=String(l||"").trim().split(/\s+/).filter(Boolean),r="";s.length>0&&a.has(s[s.length-1].toUpperCase())&&(r=s.pop()||"");let n=s.shift()||"",o=s.join(" ");return{lastName:String(e||"").trim(),firstName:n,middleName:o,suffix:r}}let l=t.split(/\s+/).filter(Boolean);if(1===l.length)return{lastName:"",firstName:l[0],middleName:"",suffix:""};let s="";return(a.has(l[l.length-1].toUpperCase())&&(s=l.pop()||""),2===l.length)?{lastName:l[1],firstName:l[0],middleName:"",suffix:s}:{lastName:l[l.length-1]||"",firstName:l[0]||"",middleName:l.slice(1,-1).join(" "),suffix:s}}(e.name);return{employeeId:String(e.employeeId||""),lastName:String(e.lastName||t.lastName||""),firstName:String(e.firstName||t.firstName||""),middleName:String(e.middleName||t.middleName||""),suffix:String(e.suffix||t.suffix||""),email:String(e.email||""),department:String(e.department||""),jobTitle:String(e.jobTitle||""),hireDate:String(e.hireDate||"")}}(eH)),eN(eH?{employmentStatus:String(eH.employmentStatus||"Active Employee"),status:String(eH.status||"Active"),managerEmail:String(eH.managerEmail||"")}:S),eS(function(e){if(!e)return w;let t=R(e.contactInformation);return{contact:String(e.contact||t.primaryPhone||""),address:String(e.address||t.address||""),emergencyContact:String(e.emergencyContact||t.emergencyContact||"")}}(eH)),ek(function(e){if(!e)return k;let t=R(e.governmentIds);return{primaryId:String(e.govId||t.primaryId||""),sss:String(t.sss||""),tin:String(t.tin||""),philhealth:String(t.philhealth||""),pagibig:String(t.pagibig||""),passport:String(t.passport||"")}}(eH)),eE(function(e){if(!e)return C;let t=R(e.payrollInformation);return{payrollGroup:String(e.payrollGroup||""),compensationType:String(t.compensationType||""),baseSalary:String(t.baseSalary||""),bankName:String(t.bankName||""),accountName:String(t.accountName||""),accountNumber:String(t.accountNumber||""),taxCode:String(t.taxCode||"")}}(eH)),eA(eH?{role:String(eH.role||"EMPLOYEE_L1"),status:String(eH.status||"Active"),managerEmail:String(eH.managerEmail||"")}:E)},[eH]);let eq=e=>t=>{ef(a=>({...a,[e]:t.target.value}))},eV=async e=>{if(e.preventDefault(),!J)return;let t=String(eb.name||"").trim()||"this employee";if(Y(`Create employee record for ${t}?`)){eG(!0);try{await u.hrisApi.employees.create({...eb,email:L(eb.email)}),ef(N),eR(!1),$.success("Employee record created."),await ez()}catch(e){$.error(e.message||"Unable to create employee record.")}finally{eG(!1)}}},eW=e=>t=>{eP(a=>({...a,[e]:t.target.value}))},eK=async e=>{if(e.preventDefault(),!H)return;let t=String(eL.firstName||"").trim(),a=String(eL.lastName||"").trim();if(!t||!a)return void $.error("First name and last name are required.");if(Y("Submit your employee record details?")){eG(!0);try{let e=await u.hrisApi.employees.create({firstName:t,middleName:String(eL.middleName||"").trim(),lastName:a,suffix:String(eL.suffix||"").trim(),contact:String(eL.contact||"").trim(),address:String(eL.address||"").trim(),emergencyContact:String(eL.emergencyContact||"").trim()});eP(I),$.success("Your employee record has been created."),await ez();let l=P(e?.record?.id||e?.record?.recordId);l&&(ep(l),K("profile"),eT(!0))}catch(e){$.error(e.message||"Unable to create your employee record.")}finally{eG(!1)}}},eQ=async(e,t,a="Save changes to this employee record?")=>{let l=P(eu)||P(eH?.id);if(!l)return $.error("Employee record reference is missing. Please reopen the employee details."),!1;if(!Y(a))return!1;eG(!0);try{return await u.hrisApi.employees.update(l,e),$.success(t),await Promise.all([ez(),eX()]),!0}catch(e){return String(e?.message||"").toLowerCase().includes("invalid record identifier")&&(ep(""),eT(!1)),$.error(e.message||"Unable to update employee profile."),!1}finally{eG(!1)}},eZ=async e=>{if(!e||!J)return;let t=Q.find(t=>t.id===e),a=T(t?.name||t?.employeeId||e);if(Y(`Archive employee record: ${a}?`)){eG(!0);try{await u.hrisApi.employees.archive(e),e===eu&&ep(""),$.success("Employee record archived."),await ez()}catch(e){$.error(e.message||"Unable to archive employee record.")}finally{eG(!1)}}},e0=async e=>{let t=e.target.files?.[0];if(!t)return;let a=P(eu)||P(eH?.id);if(!a||!eH?.id||!J){e.target.value="";return}if(t.size>0xa00000){$.error("Document upload is limited to 10MB per file."),e.target.value="";return}if(!Y(`Upload document "${t.name}" to this employee record?`)){e.target.value="";return}eG(!0);try{let e=await (0,m.uploadEmployeeDocumentToStorage)({file:t,employeeRecordId:a,employeeEmail:eH.email}),l=D(eH.documents),s={name:String(t.name||"").trim()||"Employee Document",type:function(e){let t=String(e?.type||"").trim().toLowerCase();if(t.includes("pdf"))return"PDF";if(t.includes("image"))return"Image";if(t.includes("sheet")||t.includes("excel")||t.includes("csv"))return"Spreadsheet";if(t.includes("word")||t.includes("document"))return"Document";let a=String(e?.name||"").trim(),l=a.includes(".")?a.split(".").pop():"";return l?l.toUpperCase():"General"}(t),ref:e.downloadUrl,storagePath:e.storagePath,contentType:e.contentType||null,sizeBytes:e.sizeBytes,uploadedAt:new Date().toISOString(),uploadedBy:X};await u.hrisApi.employees.update(a,{documents:[...l,s]}),$.success("Employee document uploaded to secure storage."),await Promise.all([ez(),eX()])}catch(e){$.error(e.message||"Unable to upload employee document.")}finally{eG(!1),e.target.value=""}},e3=async e=>{if(!eH?.id||!J)return;let t=P(eu)||P(eH?.id);if(!t)return void $.error("Employee record reference is missing. Please reopen the employee details.");let a=D(eH.documents),l=a[e];if(!l)return;let s=String(l?.name||"").trim()||"this document";if(Y(`Remove document "${s}" from this employee record?`)){eG(!0);try{await u.hrisApi.employees.update(t,{documents:a.filter((t,a)=>a!==e)});let s=String(l?.storagePath||"").trim();s&&(0,m.removeStorageObjectByPath)(s).catch(()=>null),$.success("Employee document removed."),await Promise.all([ez(),eX()])}catch(e){$.error(e.message||"Unable to remove employee document.")}finally{eG(!1)}}},e1=async()=>{if(!eH?.id)return;let e={contact:String(ej.contact||"").trim(),address:String(ej.address||"").trim()};J&&(e.emergencyContact=String(ej.emergencyContact||"").trim()),await eQ(e,"Contact information updated.",J?"Save contact information changes?":"Save your contact information changes?")},e2=async()=>{if(!eH?.id)return;if(!J)return void await e1();let e=(0,c.formatEmployeeName)({lastName:eg.lastName,firstName:eg.firstName,middleName:eg.middleName,suffix:eg.suffix,fallback:eH?.name||eg.email,fallbackEmail:eg.email,fallbackLabel:"Employee"});await eQ({employeeId:String(eg.employeeId||"").trim(),name:e,lastName:String(eg.lastName||"").trim(),firstName:String(eg.firstName||"").trim(),middleName:String(eg.middleName||"").trim(),suffix:String(eg.suffix||"").trim(),email:L(eg.email),department:String(eg.department||"").trim(),jobTitle:String(eg.jobTitle||"").trim(),hireDate:String(eg.hireDate||"").trim(),employmentStatus:String(ev.employmentStatus||"").trim(),status:String(ev.status||"").trim(),managerEmail:L(ev.managerEmail),contact:String(ej.contact||"").trim(),address:String(ej.address||"").trim(),emergencyContact:String(ej.emergencyContact||"").trim()},"Full profile information updated.","Save all profile updates for this employee?")},e9=async()=>{if(eH?.id&&J){let e;await eQ({govId:String(ew.primaryId||"").trim(),governmentIds:(e={...R(eH.governmentIds)},y.forEach(({key:t})=>{let a=String(ew?.[t]||"").trim();a?e[t]=a:delete e[t]}),e)},"Government and compliance IDs updated.","Save government and compliance ID changes?")}},e4=async()=>{if(eH?.id&&J){let e;await eQ({payrollGroup:String(eC.payrollGroup||"").trim(),payrollInformation:(e={...R(eH.payrollInformation)},v.forEach(({key:t})=>{let a=String(eC?.[t]||"").trim();a?e[t]=a:delete e[t]}),e)},"Payroll information updated.","Save payroll information changes?")}},e5=async()=>{eH?.id&&J&&await eQ({role:String(eI.role||"").trim(),status:String(eI.status||"").trim(),managerEmail:L(eI.managerEmail)},"Access role assignment updated.","Save access role assignment changes?")},e7=J&&eD?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 p-4",role:"dialog","aria-modal":"true","aria-label":"Add Employee",onClick:()=>eR(!1),children:(0,t.jsxs)("div",{className:"max-h-[90vh] w-full max-w-5xl overflow-y-auto rounded-2xl border border-slate-200 bg-white p-5 shadow-2xl sm:p-6",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"mb-4 flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:"Add Employee"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Provision employee master data with employment, contact, and restricted PII references"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>eR(!1),className:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 hover:text-slate-900","aria-label":"Close add employee modal",children:(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-4 w-4","aria-hidden":"true",children:(0,t.jsx)("path",{d:"m6 6 12 12M18 6 6 18"})})})]}),(0,t.jsxs)("form",{className:"grid gap-3 md:grid-cols-3",onSubmit:eV,children:[(0,t.jsx)("input",{value:eb.employeeId,onChange:eq("employeeId"),placeholder:"Employee ID",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{required:!0,value:eb.name,onChange:eq("name"),placeholder:"Full name",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{required:!0,type:"email",value:eb.email,onChange:eq("email"),placeholder:"work.email@gmail.com",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsxs)("select",{value:eb.department,onChange:eq("department"),className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,t.jsx)("option",{value:"",children:"Department"}),eY.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},`create-department-${e.value}`))]}),(0,t.jsx)("input",{value:eb.jobTitle,onChange:eq("jobTitle"),placeholder:"Job title",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{type:"date",value:eb.hireDate,onChange:eq("hireDate"),className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("select",{value:eb.role,onChange:eq("role"),className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:eB.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,t.jsx)("select",{value:eb.employmentStatus,onChange:eq("employmentStatus"),className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:h.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("select",{value:eb.status,onChange:eq("status"),className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:b.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("input",{value:eb.managerEmail,onChange:eq("managerEmail"),placeholder:"Manager email",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eb.contact,onChange:eq("contact"),placeholder:"Primary contact",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eb.address,onChange:eq("address"),placeholder:"Address",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eb.emergencyContact,onChange:eq("emergencyContact"),placeholder:"Emergency contact",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eb.payrollGroup,onChange:eq("payrollGroup"),placeholder:"Payroll group",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eb.govId,onChange:eq("govId"),placeholder:"Primary government ID",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsxs)("div",{className:"md:col-span-3 flex flex-wrap items-center justify-between gap-3",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Data classification: Restricted PII"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>eR(!1),className:"inline-flex h-10 items-center justify-center rounded-lg border border-slate-300 bg-white px-4 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:eO,className:"inline-flex h-10 items-center justify-center rounded-lg bg-sky-600 px-4 text-sm font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:eO?"Saving...":"Create Employee"})]})]})]})]})}):null;return(0,t.jsxs)("div",{className:"space-y-4",children:[eM?(0,t.jsx)("div",{id:"employee-details",ref:eU,className:"min-w-0",children:(0,t.jsx)("div",{className:"space-y-2 xl:max-h-[calc(100dvh-12rem)] xl:overflow-y-auto xl:pr-1",children:eH?(0,t.jsxs)(t.Fragment,{children:[H?null:(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2",children:[(0,t.jsx)(n.default,{tabs:eF,value:W,onChange:K,className:"min-w-[220px] flex-1"}),(0,t.jsxs)("button",{type:"button",onClick:()=>eT(!1),className:"inline-flex h-8 items-center gap-1.5 rounded-lg border border-slate-300 bg-white px-3 text-xs font-medium text-slate-700 transition hover:bg-slate-50",children:[(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-3.5 w-3.5","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M15.5 18 9.5 12l6-6"})}),"Back"]})]}),"profile"===W?(0,t.jsx)(s.default,{title:H?"My Profile":"Employee Profile",subtitle:H?"View your employment snapshot and update personal contact details.":"Full employee information in one consolidated view",children:eH?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-base font-semibold text-slate-900",children:T((0,c.formatEmployeeName)({lastName:eH.lastName,firstName:eH.firstName,middleName:eH.middleName,suffix:eH.suffix,fallback:eH.name,fallbackEmail:eH.email,fallbackLabel:"Employee"}))}),(0,t.jsxs)("p",{className:"text-xs text-slate-600",children:[T(eH.employeeId)," | ",T(eH.email)]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.default,{value:eH.status||"-"}),(0,t.jsx)("span",{className:"rounded-lg border border-slate-300 bg-white px-2 py-1 text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-600",children:"Restricted PII"})]})]})}),(0,t.jsx)("div",{className:"rounded-xl border border-slate-200 bg-white p-3",children:J?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid gap-2 md:grid-cols-3",children:[(0,t.jsx)("input",{value:eg.employeeId,onChange:e=>ey(t=>({...t,employeeId:e.target.value})),placeholder:"Employee ID",disabled:!J,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,t.jsx)("input",{value:eg.lastName,onChange:e=>ey(t=>({...t,lastName:e.target.value})),placeholder:"Last name",disabled:!J,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,t.jsx)("input",{value:eg.firstName,onChange:e=>ey(t=>({...t,firstName:e.target.value})),placeholder:"First name",disabled:!J,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,t.jsx)("input",{value:eg.middleName,onChange:e=>ey(t=>({...t,middleName:e.target.value})),placeholder:"Middle name",disabled:!J,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,t.jsx)("input",{value:eg.suffix,onChange:e=>ey(t=>({...t,suffix:e.target.value})),placeholder:"Suffix (e.g. Jr.)",disabled:!J,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,t.jsx)("input",{value:eg.email,onChange:e=>ey(t=>({...t,email:e.target.value})),placeholder:"Email",disabled:!J,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,t.jsxs)("select",{value:eg.department,onChange:e=>ey(t=>({...t,department:e.target.value})),disabled:!J,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100",children:[(0,t.jsx)("option",{value:"",children:"Department"}),eY.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},`profile-department-${e.value}`))]}),(0,t.jsx)("input",{value:eg.jobTitle,onChange:e=>ey(t=>({...t,jobTitle:e.target.value})),placeholder:"Job title",disabled:!J,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,t.jsx)("input",{type:"date",value:eg.hireDate,onChange:e=>ey(t=>({...t,hireDate:e.target.value})),disabled:!J,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,t.jsx)("select",{value:ev.employmentStatus,onChange:e=>eN(t=>({...t,employmentStatus:e.target.value})),disabled:!J,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100",children:h.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("select",{value:ev.status,onChange:e=>eN(t=>({...t,status:e.target.value})),disabled:!J,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100",children:b.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("input",{value:ev.managerEmail,onChange:e=>eN(t=>({...t,managerEmail:e.target.value})),placeholder:"Manager email",disabled:!J,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,t.jsx)("input",{value:ej.contact,placeholder:"Contact",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:e=>eS(t=>({...t,contact:e.target.value}))}),(0,t.jsx)("input",{value:ej.address,placeholder:"Address",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:e=>eS(t=>({...t,address:e.target.value}))}),(0,t.jsx)("input",{value:ej.emergencyContact,placeholder:"Emergency contact",disabled:!J,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100",onChange:e=>eS(t=>({...t,emergencyContact:e.target.value}))})]}),(0,t.jsxs)("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"You can update full profile info in one action."}),(0,t.jsx)("button",{type:"button",onClick:e2,disabled:eO,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save Full Profile"})]})]}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500",children:[(0,t.jsx)("th",{className:"w-[38%] px-3 py-2 font-medium",children:"Profile Field"}),(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Value"})]})}),(0,t.jsx)("tbody",{children:[["Employee ID",T(eg.employeeId)],["Last Name",T(eg.lastName)],["First Name",T(eg.firstName)],["Middle Name",T(eg.middleName)],["Suffix",T(eg.suffix)],["Email",T(eg.email)],["Department",T(eg.department)],["Role",_(eH.role||"EMPLOYEE_L1")],["Job Title",T(eg.jobTitle)],["Employment Status",T(ev.employmentStatus)],["Record Status",T(ev.status)],["Start Date",T(eg.hireDate)],["Emergency Contact",T(ej.emergencyContact)]].map(([e,a])=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,t.jsx)("td",{className:"px-3 py-2 text-xs font-semibold uppercase tracking-[0.06em] text-slate-500",children:e}),(0,t.jsx)("td",{className:"px-3 py-2 text-slate-800",children:a})]},e))})]})}),(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Editable Contact Details"}),(0,t.jsxs)("div",{className:"mt-2 grid gap-2 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-medium text-slate-600",children:"Contact Number"}),(0,t.jsx)("input",{value:O(ej.contact),placeholder:"Enter contact number",className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:e=>eS(t=>({...t,contact:e.target.value}))})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-medium text-slate-600",children:"Address"}),(0,t.jsx)("input",{value:O(ej.address),placeholder:"Enter address",className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:e=>eS(t=>({...t,address:e.target.value}))})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"All employment details are shown above. You can update contact details here."}),(0,t.jsx)("button",{type:"button",onClick:e2,disabled:eO,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save My Profile"})]})]})})]}):(0,t.jsx)(r.default,{title:"No employee selected",subtitle:"Select a record from the directory to manage employee profile data."})}):null,H||"compliance"!==W?null:(0,t.jsx)(s.default,{title:"Government & Compliance IDs",subtitle:"Restricted PII identifiers with controlled update workflow",children:eH?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[B("Data Classification",eH.classification||"Restricted PII"),y.map(e=>B(e.label,ew[e.key],e.key))]}),J?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid gap-2 md:grid-cols-3",children:y.map(e=>(0,t.jsx)("input",{value:ew[e.key],onChange:t=>ek(a=>({...a,[e.key]:t.target.value})),placeholder:e.label,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"},e.key))}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Government identifiers remain classified as Restricted PII."}),(0,t.jsx)("button",{type:"button",onClick:e9,disabled:eO,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save Compliance IDs"})]})]}):(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Sensitive identifiers are role-masked. Contact GRC/HR for compliance updates."})]}):(0,t.jsx)(r.default,{title:"No employee selected",subtitle:"Select a profile to review compliance identifiers."})}),H||"payroll"!==W?null:(0,t.jsx)(s.default,{title:"Payroll Information",subtitle:"Payroll grouping and compensation profile under restricted access",children:eH?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[B("Payroll Group",eC.payrollGroup),v.map(e=>B(e.label,eC[e.key],e.key)),B("Updated At",A(eH.updatedAt))]}),J?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid gap-2 md:grid-cols-3",children:[(0,t.jsx)("input",{value:eC.payrollGroup,onChange:e=>eE(t=>({...t,payrollGroup:e.target.value})),placeholder:"Payroll group",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),v.map(e=>(0,t.jsx)("input",{value:eC[e.key],onChange:t=>eE(a=>({...a,[e.key]:t.target.value})),placeholder:e.placeholder,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"},e.key))]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Payroll information is Restricted PII."}),(0,t.jsx)("button",{type:"button",onClick:e4,disabled:eO,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save Payroll Information"})]})]}):(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Payroll values are restricted by role-based masking policy."})]}):(0,t.jsx)(r.default,{title:"No employee selected",subtitle:"Select a profile to view payroll information."})}),H||"access"!==W?null:(0,t.jsx)(s.default,{title:"Access & Role Assignment",subtitle:"Role, manager, and account access controls",children:eH?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[B("Role Assignment",_(eH.role||"EMPLOYEE_L1")),B("Manager",eH.managerEmail||"-"),B("Record Status",eH.status||"-"),B("Last Updated",A(eH.updatedAt))]}),J?(0,t.jsxs)("div",{className:"grid gap-2 md:grid-cols-3",children:[(0,t.jsx)("select",{value:eI.role,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:e=>eA(t=>({...t,role:e.target.value})),children:eJ.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,t.jsx)("input",{value:eI.managerEmail,placeholder:"Manager email",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:e=>eA(t=>({...t,managerEmail:e.target.value}))}),(0,t.jsx)("select",{value:eI.status,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:e=>eA(t=>({...t,status:e.target.value})),children:b.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}):(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Access and role assignment can only be changed by GRC, HR, EA, or Super Admin."}),J?(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"button",onClick:e5,disabled:eO,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save Access Assignment"})}):null]}):(0,t.jsx)(r.default,{title:"No employee selected",subtitle:"Select a profile to manage access assignments."})}),"documents"===W?(0,t.jsx)(s.default,{title:"Employee Attached Documents",subtitle:"All documents currently attached to this employee record",children:eH?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Attached Files"}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-slate-600",children:[D(eH.documents).length," document(s) linked to this employee."]})]}),J?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>e_.current?.click(),disabled:eO,className:"inline-flex h-8 items-center rounded-lg border border-slate-300 bg-white px-3 text-[11px] font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-70",children:"Upload File"}),(0,t.jsx)("input",{ref:e_,type:"file",className:"hidden",onChange:e0})]}):null]}),0===D(eH.documents).length?(0,t.jsx)(r.default,{title:"No attached documents yet",subtitle:"Upload employee files to build this document list."}):(0,t.jsx)("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Document"}),(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Type"}),(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Size"}),(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Uploaded At"}),(0,t.jsx)("th",{className:"px-3 py-2 font-medium text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:D(eH.documents).map((e,a)=>{let l;return(0,t.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,t.jsx)("td",{className:"px-3 py-2 text-slate-800",children:T(e.name)}),(0,t.jsx)("td",{className:"px-3 py-2 text-slate-700",children:T(e.type)}),(0,t.jsx)("td",{className:"px-3 py-2 text-slate-700",children:!Number.isFinite(l=Number(e.sizeBytes))||l<=0?"-":l<1024?`${l} B`:l<1048576?`${(l/1024).toFixed(1)} KB`:`${(l/1048576).toFixed(1)} MB`}),(0,t.jsx)("td",{className:"px-3 py-2 text-slate-700",children:A(e.uploadedAt)}),(0,t.jsx)("td",{className:"px-3 py-2 text-right",children:(0,t.jsxs)("div",{className:"inline-flex items-center justify-end gap-2",children:[String(e.ref||"").trim()?(0,t.jsx)("button",{type:"button",onClick:()=>{let t,l;return t=P(eu)||P(eH?.id),void((l=String(e?.ref||"").trim())&&(t&&u.hrisApi.employees.logDocumentAccess(t,{documentId:String(e?.id||e?.recordId||a).trim(),documentName:String(e?.name||"").trim(),documentType:String(e?.type||"").trim(),documentRef:l}).catch(()=>null),window.open(l,"_blank","noopener,noreferrer")))},className:"inline-flex h-7 items-center rounded-md border border-sky-200 bg-sky-50 px-2.5 text-[11px] font-semibold text-sky-700 transition hover:bg-sky-100",children:"Open"}):null,J?(0,t.jsx)("button",{type:"button",onClick:()=>e3(a),disabled:eO,className:"inline-flex h-7 items-center rounded-md border border-rose-200 bg-rose-50 px-2.5 text-[11px] font-semibold text-rose-700 transition hover:bg-rose-100 disabled:opacity-70",children:"Remove"}):null]})})]},`${e.name||"document"}-${a}`)})})]})})]}):(0,t.jsx)(r.default,{title:"No employee selected",subtitle:"Select a record to view attached employee documents."})}):null,H||"activity"!==W?null:(0,t.jsx)(s.default,{title:"Recent Activity",subtitle:"Latest change history for the selected employee record",children:eH?0===D(eH.activityHistory).length?(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"No change history yet."}):(0,t.jsx)("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Action"}),(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Performed By"}),(0,t.jsx)("th",{className:"px-3 py-2 font-medium",children:"Timestamp"})]})}),(0,t.jsx)("tbody",{children:D(eH.activityHistory).slice(-20).reverse().map((e,l)=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,t.jsx)("td",{className:"px-3 py-2 text-slate-800",children:_(e.action||"update")}),(0,t.jsx)("td",{className:"px-3 py-2 text-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.default,{src:String(e.byAvatar||"").trim()||"/avatars/default-user.svg",alt:`${G(e.byName,e.byEmail||e.by)} profile`,width:28,height:28,className:"h-7 w-7 rounded-full border border-slate-200 bg-white object-cover"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"truncate text-xs font-medium text-slate-800",children:G(e.byName,e.byEmail||e.by)}),U(e.byEmail,e.by)?(0,t.jsx)("p",{className:"truncate text-[11px] text-slate-500",children:U(e.byEmail,e.by)}):null]})]})}),(0,t.jsx)("td",{className:"px-3 py-2 text-slate-700",children:A(e.at)})]},`${e.at||"activity"}-${l}`))})]})}):(0,t.jsx)(r.default,{title:"No employee selected",subtitle:"Open an employee record to review recent activity."})})]}):(0,t.jsx)(r.default,{title:"No employee selected",subtitle:"Open an employee from the directory to view profile, compliance, payroll, and access role details."})})}):(0,t.jsx)("div",{id:"employee-directory",className:"min-w-0",children:(0,t.jsx)(s.default,{title:H?"My Employee Record":"Employee Directory",subtitle:H?"Provide and maintain your personal employee profile details.":"Centralized employee master data with search, filters, and profile routing",action:H?(0,t.jsx)("span",{className:"inline-flex h-9 items-center rounded-lg border border-sky-200 bg-sky-50 px-3 text-xs font-medium text-sky-700",children:"Own profile access only"}):(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("input",{value:ea,onChange:e=>{ed(1),el(e.target.value)},placeholder:"Search by name, ID, email",className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none"}),(0,t.jsxs)("select",{value:es,onChange:e=>{ed(1),er(e.target.value)},className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none",children:[(0,t.jsx)("option",{value:"",children:"All Status"}),b.map(e=>(0,t.jsx)("option",{value:e.toLowerCase(),children:e},e.toLowerCase()))]}),(0,t.jsxs)("select",{value:en,onChange:e=>{ed(1),eo(e.target.value)},className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none",children:[(0,t.jsx)("option",{value:"",children:"All Roles"}),eB.map(e=>(0,t.jsx)("option",{value:e.value.toLowerCase(),children:e.label},e.value))]}),J?(0,t.jsx)("button",{type:"button",onClick:()=>eR(!0),className:"h-9 rounded-lg border border-sky-200 bg-sky-50 px-3 text-xs font-semibold text-sky-700 transition hover:bg-sky-100",children:"Add Employee"}):null]}),children:ec?(0,t.jsxs)("div",{className:"flex min-h-[160px] items-center justify-center",children:[(0,t.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 bg-white",children:(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 animate-spin text-sky-600",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M12 3a9 9 0 1 0 9 9"})})}),(0,t.jsx)("span",{className:"sr-only",children:"Loading employee directory..."})]}):0===Q.length?H?(0,t.jsxs)("div",{className:"mx-auto w-full max-w-4xl rounded-2xl border border-sky-100 bg-gradient-to-b from-sky-50/80 to-white p-5",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-base font-semibold text-slate-900",children:"Complete My Employee Record"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:"This form is for your own employee profile only. Fill in your details to continue."})]}),(0,t.jsxs)("form",{onSubmit:eK,className:"grid gap-3 md:grid-cols-2",children:[(0,t.jsx)("input",{value:eL.lastName,onChange:eW("lastName"),placeholder:"Last name",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eL.firstName,onChange:eW("firstName"),placeholder:"First name",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eL.middleName,onChange:eW("middleName"),placeholder:"Middle name",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eL.suffix,onChange:eW("suffix"),placeholder:"Suffix (optional)",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:X,disabled:!0,className:"h-10 rounded-lg border border-slate-300 bg-slate-100 px-3 text-sm text-slate-700 md:col-span-2"}),(0,t.jsx)("input",{value:eL.contact,onChange:eW("contact"),placeholder:"Contact number",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eL.address,onChange:eW("address"),placeholder:"Address",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:eL.emergencyContact,onChange:eW("emergencyContact"),placeholder:"Emergency contact",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none md:col-span-2"}),(0,t.jsx)("div",{className:"md:col-span-2 mt-1 flex justify-end",children:(0,t.jsx)("button",{type:"submit",disabled:eO,className:"inline-flex h-10 items-center rounded-lg bg-sky-600 px-4 text-sm font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:eO?"Saving...":"Submit My Record"})})]})]}):(0,t.jsx)(r.default,{title:"No employee records yet",subtitle:"Add a record to initialize the employee directory."}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee ID"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Name"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Email"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Department"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Role"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employment"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:Q.map(e=>(0,t.jsxs)("tr",{className:`border-b border-slate-100 text-slate-700 last:border-b-0 ${e.id===eu?"bg-sky-50/50":""}`,children:[(0,t.jsx)("td",{className:"px-2 py-3 font-mono text-xs",children:e.employeeId||"-"}),(0,t.jsx)("td",{className:"px-2 py-3 font-medium text-slate-900",children:e.name||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.email||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:T(e.department)}),(0,t.jsx)("td",{className:"px-2 py-3",children:_(e.role)}),(0,t.jsx)("td",{className:"px-2 py-3",children:(0,t.jsx)(i.default,{value:e.status||"-"})}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.employmentStatus||"-"}),(0,t.jsx)("td",{className:"px-2 py-3 text-right",children:(0,t.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>e$(e),className:"rounded-lg border border-slate-300 bg-white px-2.5 py-1.5 text-xs font-medium text-slate-700 transition hover:bg-slate-50",children:"Open"}),J?(0,t.jsx)("button",{type:"button",onClick:()=>eZ(e.id),disabled:eO,className:"rounded-lg border border-rose-200 bg-rose-50 px-2.5 py-1.5 text-xs font-medium text-rose-700 transition hover:bg-rose-100 disabled:opacity-60",children:"Archive"}):null]})})]},e.id))})]})}),(0,t.jsx)(o.default,{pagination:ee,onPageChange:ed})]})})}),e7]})}e.s(["default",()=>$])}]);