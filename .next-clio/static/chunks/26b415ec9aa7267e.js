(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77135,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(80064);let r={critical:"bg-rose-100 text-rose-700 ring-1 ring-rose-200",high:"bg-orange-100 text-orange-700 ring-1 ring-orange-200",medium:"bg-amber-100 text-amber-700 ring-1 ring-amber-200",low:"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200",open:"bg-cyan-100 text-cyan-700 ring-1 ring-cyan-200",containment:"bg-blue-100 text-blue-700 ring-1 ring-blue-200",investigating:"bg-indigo-100 text-indigo-700 ring-1 ring-indigo-200",escalated:"bg-violet-100 text-violet-700 ring-1 ring-violet-200","regulatory review":"bg-fuchsia-100 text-fuchsia-700 ring-1 ring-fuchsia-200",resolved:"bg-teal-100 text-teal-700 ring-1 ring-teal-200",closed:"bg-slate-200 text-slate-700 ring-1 ring-slate-300",active:"bg-emerald-100 text-emerald-700",approved:"bg-emerald-100 text-emerald-700",completed:"bg-sky-100 text-sky-700",exported:"bg-sky-100 text-sky-700",pending:"bg-amber-100 text-amber-700",rejected:"bg-rose-100 text-rose-700",failed:"bg-rose-100 text-rose-700",archived:"bg-slate-200 text-slate-700","in progress":"bg-indigo-100 text-indigo-700"};function l(e){let l,i,n=(0,a.c)(6),{value:o,className:d}=e,c=r[String(o||"").trim().toLowerCase()]||"bg-slate-100 text-slate-700";n[0]!==d||n[1]!==c?(l=(0,s.cn)("inline-flex rounded-md px-2 py-1 text-xs font-medium",c,d),n[0]=d,n[1]=c,n[2]=l):l=n[2];let m=o||"N/A";return n[3]!==l||n[4]!==m?(i=(0,t.jsx)("span",{className:l,children:m}),n[3]=l,n[4]=m,n[5]=i):i=n[5],i}e.s(["default",()=>l])},46670,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(80064);function r(e){let r,l,i,n=(0,a.c)(12),{tabs:o,value:d,onChange:c,className:m}=e;if(n[0]!==m?(r=(0,s.cn)("flex flex-wrap gap-2",m),n[0]=m,n[1]=r):r=n[1],n[2]!==c||n[3]!==o||n[4]!==d){let e;n[6]!==c||n[7]!==d?(e=e=>{let a=e.id===d;return(0,t.jsx)("button",{type:"button",onClick:()=>c(e.id),className:(0,s.cn)("rounded-lg border px-3 py-1.5 text-xs font-medium transition",a?"border-sky-300 bg-sky-50 text-sky-700":"border-slate-300 bg-white text-slate-700 hover:bg-slate-50"),children:e.label},e.id)},n[6]=c,n[7]=d,n[8]=e):e=n[8],l=o.map(e),n[2]=c,n[3]=o,n[4]=d,n[5]=l}else l=n[5];return n[9]!==r||n[10]!==l?(i=(0,t.jsx)("div",{className:r,children:l}),n[9]=r,n[10]=l,n[11]=i):i=n[11],i}e.s(["default",()=>r])},38418,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(80064);function r(e){let r,l,i,n=(0,a.c)(10),{title:o,subtitle:d,className:c,children:m,action:x}=e;return n[0]!==c?(r=(0,s.cn)("rounded-2xl border border-slate-200 bg-white p-5 shadow-[0_12px_30px_-24px_rgba(15,23,42,0.55)]",c),n[0]=c,n[1]=r):r=n[1],n[2]!==x||n[3]!==d||n[4]!==o?(l=(o||d||x)&&(0,t.jsxs)("header",{className:"mb-4 flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[o&&(0,t.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:o}),d&&(0,t.jsx)("p",{className:"text-sm text-slate-600",children:d})]}),x]}),n[2]=x,n[3]=d,n[4]=o,n[5]=l):l=n[5],n[6]!==m||n[7]!==r||n[8]!==l?(i=(0,t.jsxs)("section",{className:r,children:[l,m]}),n[6]=m,n[7]=r,n[8]=l,n[9]=i):i=n[9],i}e.s(["default",()=>r])},97256,e=>{"use strict";function t(e={}){let a=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{if(null==t)return;let s=String(t).trim();s&&a.set(e,s)});let s=a.toString();return s?`?${s}`:""}async function a(e){if((e.headers.get("content-type")||"").includes("text/csv"))return await e.text();let t=await e.json().catch(()=>({}));if(!e.ok)throw Error(t?.message||"Request failed.");return t}async function s(e,t={}){let r=await fetch(e,{...t,headers:{"Content-Type":"application/json",...t.headers||{}},cache:"no-store"});return await a(r)}async function r(e,t={}){let a=await fetch(e,{...t,cache:"no-store"});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e?.message||"Export failed.")}return await a.text()}e.s(["hrisApi",0,{employees:{list:async(e={})=>await s(`/api/hris/employees${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/employees",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),archive:async e=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify({status:"Archived"})}),logDocumentAccess:async(e,t)=>await s(`/api/hris/employees/${encodeURIComponent(e)}/documents/access`,{method:"POST",body:JSON.stringify(t||{})})},lifecycle:{list:async(e={})=>await s(`/api/hris/lifecycle${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/lifecycle",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),offboard:async(e,t={})=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}/offboard`,{method:"POST",body:JSON.stringify(t)}),approve:async(e,t={})=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}/approve`,{method:"POST",body:JSON.stringify(t)})},attendance:{list:async(e={})=>await s(`/api/hris/attendance${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/attendance",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/attendance/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},leave:{list:async(e={})=>await s(`/api/hris/attendance/leave-requests${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/attendance/leave-requests",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/attendance/leave-requests/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),approve:async(e,{approved:t,approvalNote:a})=>await s(`/api/hris/attendance/leave-requests/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify({status:t?"Approved":"Rejected",approvalNote:a||""})})},performance:{list:async(e={})=>await s(`/api/hris/performance${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/performance",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/performance/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},templates:{list:async(e={})=>await s(`/api/hris/templates${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/templates",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/templates/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),archive:async e=>await s(`/api/hris/templates/${encodeURIComponent(e)}`,{method:"DELETE"})},activityLogs:{list:async(e={})=>await s(`/api/hris/activity-logs${t(e)}`,{method:"GET"}),async exportCsv(e={}){let a=t({...e,export:"csv"});return await r(`/api/hris/activity-logs${a}`,{method:"GET"})}},exports:{list:async(e={})=>await s(`/api/hris/exports${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/exports",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/exports/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),approve:async(e,t)=>await s(`/api/hris/exports/${encodeURIComponent(e)}/approve`,{method:"POST",body:JSON.stringify(t)}),execute:async e=>await r(`/api/hris/exports/${encodeURIComponent(e)}/execute`,{method:"POST"})},retention:{list:async(e={})=>await s(`/api/hris/retention${t(e)}`,{method:"GET"}),purge:async(e={})=>await s("/api/hris/retention",{method:"POST",body:JSON.stringify(e)})},incidents:{list:async(e={})=>await s(`/api/hris/incidents${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/incidents/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/incidents",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/incidents/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},settings:{referenceData:{list:async()=>await s("/api/hris/settings/reference-data",{method:"GET"}),create:async e=>await s("/api/hris/settings/reference-data",{method:"POST",body:JSON.stringify(e)}),remove:async e=>await s("/api/hris/settings/reference-data",{method:"DELETE",body:JSON.stringify(e)})}}}])},93096,e=>{"use strict";var t=e.i(43476),a=e.i(932);function s(e){let s,r,l,i=(0,a.c)(7),{title:n,subtitle:o}=e;return i[0]!==n?(s=(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:n}),i[0]=n,i[1]=s):s=i[1],i[2]!==o?(r=o?(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-600",children:o}):null,i[2]=o,i[3]=r):r=i[3],i[4]!==s||i[5]!==r?(l=(0,t.jsxs)("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50/80 px-4 py-5 text-center",children:[s,r]}),i[4]=s,i[5]=r,i[6]=l):l=i[6],l}e.s(["default",()=>s])},46957,e=>{"use strict";var t=e.i(43476),a=e.i(57688),s=e.i(71645),r=e.i(38418),l=e.i(93096),i=e.i(46670),n=e.i(77135),o=e.i(13634),d=e.i(97256);let c=[{id:"time-logs",label:"Time Logs"},{id:"leave-requests",label:"Leave Requests"},{id:"leave-approvals",label:"Leave Approvals"},{id:"leave-balances",label:"Leave Balances"},{id:"adjustments",label:"Attendance Adjustments"},{id:"audit-logs",label:"Attendance Audit Logs"}],m=[{id:"morning",sourceShift:"6:00 AM - 2:00 PM",assignedShift:"8:00 AM - 4:00 PM",onTimeLabel:"7:30 AM - 8:00 AM",earlyLabel:"Before 7:30 AM",lateLabel:"After 8:00 AM",startMinute:360,endMinute:840,onTimeStartMinute:450,onTimeEndMinute:480},{id:"afternoon",sourceShift:"2:00 PM - 10:00 PM",assignedShift:"4:00 PM - 12:00 AM",onTimeLabel:"3:30 PM - 4:00 PM",earlyLabel:"Before 3:30 PM",lateLabel:"After 4:00 PM",startMinute:840,endMinute:1320,onTimeStartMinute:930,onTimeEndMinute:960},{id:"graveyard",sourceShift:"10:00 PM - 6:00 AM",assignedShift:"12:00 AM - 8:00 AM",onTimeLabel:"11:30 PM - 12:00 AM",earlyLabel:"Before 11:30 PM",lateLabel:"After 12:00 AM",startMinute:1320,endMinute:360,onTimeStartMinute:1410,onTimeEndMinute:0,wrapsMidnight:!0}],x={employeeEmail:"",employee:"",date:"",checkIn:"",checkOut:"",status:"Recorded",reason:""},p={employeeEmail:"",employee:"",leaveType:"Vacation Leave",startDate:"",endDate:"",reason:""};function u(e){let t=String(e||"").trim();return t.length>0&&"-"!==t}function h(e){let t=e instanceof Date?e:new Date(e||"");if(Number.isNaN(t.getTime()))return"";let a=t.getFullYear(),s=`${t.getMonth()+1}`.padStart(2,"0"),r=`${t.getDate()}`.padStart(2,"0");return`${a}-${s}-${r}`}function y(e){let t=String(e||"").trim();if(!t)return"";let a=t.match(/^(\d{4}-\d{2}-\d{2})/);return a?.[1]?a[1]:h(t)}function b(e){let t=String(e||"").trim();if(!t||"-"===t)return null;let a=t.match(/^(\d{1,2}):(\d{2})\s*(AM|PM)$/i);if(a){let e=Number.parseInt(a[1],10),t=Number.parseInt(a[2],10),s=a[3].toUpperCase();return Number.isNaN(e)||Number.isNaN(t)||t<0||t>59||e<1||e>12?null:60*(e%12+12*("PM"===s))+t}let s=t.match(/^(\d{1,2}):(\d{2})$/);if(!s)return null;let r=Number.parseInt(s[1],10),l=Number.parseInt(s[2],10);return Number.isNaN(r)||Number.isNaN(l)||r<0||r>23||l<0||l>59?null:60*r+l}function f(e){let t=e instanceof Date?e:new Date(e||"");return Number.isNaN(t.getTime())?"-":new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).format(t)}function g(e){let t=new Date(e||"");return Number.isNaN(t.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric"}).format(t)}function N(e){return Number.isFinite(e)&&m.find(t=>t.wrapsMidnight?e>=t.startMinute||e<t.endMinute:e>=t.startMinute&&e<t.endMinute)||m[0]}function j(e,t){return Number.isFinite(e)?t.wrapsMidnight?e>=t.startMinute&&e<t.onTimeStartMinute?"Early":e>=t.onTimeStartMinute&&e<1440||e===t.onTimeEndMinute?"On Time":"Late":e<t.onTimeStartMinute?"Early":e<=t.onTimeEndMinute?"On Time":"Late":"Recorded"}function v(e){let t=y(e.date||e.createdAt);if(!t)return new Date(e.updatedAt||e.createdAt||0).getTime();let a=b(e.checkIn),[s,r,l]=t.split("-").map(e=>Number.parseInt(e,10));return new Date(s,(r||1)-1,l||1,Number.isFinite(a)?Math.floor(a/60):0,Number.isFinite(a)?a%60:0).getTime()}function w(e,t,a="System"){let s=String(e||"").trim();if(s)return s;let r=String(t||"").trim();return r?r.includes("@")?(0,o.formatNameFromEmail)(r,{fallbackLabel:a}):r:a}function k(e){let t=String(e||"").trim();return t&&t.includes("@")?t.toLowerCase():""}function S(e){return String(e||"").trim()||"/avatars/default-user.svg"}function T({session:e}){let T=e?.email||"",C=e?.firstName||"",A=e?.middleName||"",E=e?.lastName||"",M=String(e?.role||"EMPLOYEE_L1").trim().toUpperCase().startsWith("EMPLOYEE_"),O=!M,$=(0,s.useMemo)(()=>(0,o.formatPersonName)({firstName:C,middleName:A,lastName:E,fallbackEmail:T,fallbackLabel:"Employee"}),[T,C,E,A]),L=(0,s.useMemo)(()=>String($||"").split(" ").map(e=>e.trim()).filter(Boolean).slice(0,2).map(e=>e.charAt(0).toUpperCase()).join("")||"EM",[$]),[I,P]=(0,s.useState)("time-logs"),[D,R]=(0,s.useState)([]),[U,q]=(0,s.useState)([]),[J,_]=(0,s.useState)(x),[G,F]=(0,s.useState)(p),[H,B]=(0,s.useState)(""),[Y,V]=(0,s.useState)(""),[W,K]=(0,s.useState)(!0),[z,Q]=(0,s.useState)(!1),[X,Z]=(0,s.useState)(""),[ee,et]=(0,s.useState)(""),[ea,es]=(0,s.useState)(!1),[er,el]=(0,s.useState)(()=>new Date);(0,s.useEffect)(()=>{let e=window.setInterval(()=>{el(new Date)},1e3);return()=>{window.clearInterval(e)}},[]);let ei=(0,s.useCallback)(async()=>{K(!0),Z("");try{let e=await d.hrisApi.attendance.list(M?{employeeEmail:T}:{});if(R(Array.isArray(e.records)?e.records:[]),M)q([]);else{let e=await d.hrisApi.leave.list({});q(Array.isArray(e.records)?e.records:[])}}catch(e){Z(e.message||"Unable to load attendance records.")}finally{K(!1)}},[T,M]);(0,s.useEffect)(()=>{ei()},[ei]);let en=(0,s.useMemo)(()=>{let e=new Map;return U.forEach(t=>{let a=String(t.employeeEmail||"").trim().toLowerCase();if(!a)return;let s=e.get(a)||{employeeEmail:t.employeeEmail,employee:t.employee||t.employeeEmail,usedDays:0,approvedCount:0};if("approved"===String(t.status||"").trim().toLowerCase()){var r,l;let e,a;s.approvedCount+=1,s.usedDays+=(r=t.startDate,l=t.endDate,e=new Date(r||""),a=new Date(l||""),Number.isNaN(e.getTime())||Number.isNaN(a.getTime())||a<e?0:Math.floor((a.getTime()-e.getTime())/864e5)+1)}e.set(a,s)}),Array.from(e.values()).map(e=>{let t=Math.max(0,15-e.usedDays);return{...e,allocated:15,remaining:t}})},[U]),eo=(0,s.useMemo)(()=>D.find(e=>e.id===H)||null,[D,H]),ed=60*er.getHours()+er.getMinutes(),ec=(0,s.useMemo)(()=>N(ed),[ed]),em=(0,s.useMemo)(()=>j(ed,ec),[ed,ec]),ex=(0,s.useMemo)(()=>h(er),[er]),ep=(0,s.useMemo)(()=>D.filter(e=>y(e.date||e.createdAt)===ex).sort((e,t)=>v(t)-v(e)),[D,ex]),eu=(0,s.useMemo)(()=>ep.find(e=>u(e.checkIn)&&!u(e.checkOut))||null,[ep]),eh=(0,s.useMemo)(()=>ep.find(e=>u(e.checkIn)&&u(e.checkOut))||null,[ep]),ey=(0,s.useMemo)(()=>[...D].sort((e,t)=>v(t)-v(e)).slice(0,12),[D]),eb=e=>t=>{_(a=>({...a,[e]:t.target.value}))},ef=e=>t=>{F(a=>({...a,[e]:t.target.value}))},eg=async e=>{e.preventDefault(),Q(!0),Z(""),et("");try{let e={...J,employeeEmail:M?T:J.employeeEmail,employee:M?T:J.employee};await d.hrisApi.attendance.create(e),_(x),et("Attendance entry saved."),await ei()}catch(e){Z(e.message||"Unable to save attendance entry.")}finally{Q(!1)}},eN=async e=>{e.preventDefault(),Q(!0),Z(""),et("");try{let e={...G,employeeEmail:M?T:G.employeeEmail,employee:M?T:G.employee};await d.hrisApi.leave.create(e),F(p),et("Leave request submitted."),await ei()}catch(e){Z(e.message||"Unable to submit leave request.")}finally{Q(!1)}},ej=async(e,t)=>{if(e&&O){Q(!0),Z(""),et("");try{await d.hrisApi.leave.approve(e,{approved:t,approvalNote:t?"Approved by workflow owner":"Rejected by workflow owner"}),et(t?"Leave request approved.":"Leave request rejected."),await ei()}catch(e){Z(e.message||"Unable to process leave approval.")}finally{Q(!1)}}},ev=async()=>{if(eo?.id){Q(!0),Z(""),et("");try{await d.hrisApi.attendance.update(eo.id,{reason:Y,status:"Adjusted"}),V(""),et("Attendance adjustment logged."),await ei()}catch(e){Z(e.message||"Unable to submit adjustment.")}finally{Q(!1)}}},ew=async()=>{if(M){if(!T)return void Z("Signed-in employee email is required.");if(eu){Z("You already have an active clock-in record for today."),et("");return}if(eh){Z("Today's attendance is already completed."),et("");return}Q(!0),Z(""),et("");try{let e=new Date,t=h(e),a=60*e.getHours()+e.getMinutes(),s=N(a),r=j(a,s),l=f(e),i=`Shift assigned: ${s.assignedShift}. Arrival: ${r}.`,n=ep.find(e=>!u(e.checkIn)),o={employeeEmail:T,employee:$||T,date:t,checkIn:l,checkOut:"",status:r,reason:i};n?.id?await d.hrisApi.attendance.update(n.id,o):await d.hrisApi.attendance.create(o),et(`Clock-in recorded at ${l}.`),await ei()}catch(e){Z(e.message||"Unable to clock in.")}finally{Q(!1)}}},ek=async()=>{if(M){if(!eu?.id){Z("No active clock-in record found for today."),et("");return}Q(!0),Z(""),et("");try{var e;let t,a,s=new Date,r=f(s);await d.hrisApi.attendance.update(eu.id,{checkOut:r,status:"Completed",reason:(e=eu.reason,t=String(e||"").trim(),a=`Clock-out: ${r}`,t?t.toLowerCase().includes("clock-out")?t:`${t} | ${a}`:a)}),et(`Clock-out recorded at ${r}.`),await ei()}catch(e){Z(e.message||"Unable to clock out.")}finally{Q(!1)}}};if(M){let e,a=!z&&!eu&&!eh,s=!z&&!!eu;return(0,t.jsxs)("div",{className:"space-y-4",children:[X?(0,t.jsx)("p",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:X}):null,ee?(0,t.jsx)("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:ee}):null,(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"rounded-2xl border border-sky-200 bg-white px-4 py-3 shadow-[0_12px_30px_-24px_rgba(15,23,42,0.55)]",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsx)("p",{className:"text-base font-semibold text-slate-900",children:"Clock-in Information"}),(0,t.jsx)("button",{type:"button",onClick:()=>es(e=>!e),"aria-label":ea?"Hide clock-in information details":"Show clock-in information details","aria-expanded":ea,className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-sky-300 bg-sky-50 text-sm font-semibold text-sky-700 transition hover:bg-sky-100",children:"?"})]})}),ea?(0,t.jsx)("div",{className:"absolute inset-x-0 top-[calc(100%+0.5rem)] z-20 flex justify-end",children:(0,t.jsxs)("div",{className:"w-full max-w-[820px] rounded-2xl border border-sky-200 bg-white p-4 shadow-[0_24px_50px_-30px_rgba(14,116,214,0.55)]",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-base font-semibold text-slate-900",children:"Clock-in Information"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Everything you need to know before clocking in"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>es(!1),"aria-label":"Close clock-in information details",className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-slate-500 transition hover:bg-slate-100 hover:text-slate-700",children:(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M6 6l12 12M18 6l-12 12"})})})]}),(0,t.jsxs)("div",{className:"mt-3 space-y-2 text-sm text-slate-700",children:[(0,t.jsxs)("p",{children:["Date: ",(0,t.jsx)("span",{className:"font-semibold text-slate-900",children:Number.isNaN((e=er instanceof Date?er:new Date(er||"")).getTime())?"-":new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).format(e)})]}),(0,t.jsxs)("p",{children:["Current Time: ",(0,t.jsx)("span",{className:"font-semibold text-slate-900",children:f(er)})]}),(0,t.jsxs)("p",{children:["If you clock in now, your shift will be:"," ",(0,t.jsx)("span",{className:"font-semibold text-sky-700",children:ec.assignedShift})]}),(0,t.jsxs)("p",{children:["Attendance Status: ",(0,t.jsx)("span",{className:"font-semibold text-sky-700",children:em})]})]}),(0,t.jsxs)("div",{className:"mt-3 rounded-xl border border-sky-100 bg-sky-50/50 p-3",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-slate-700",children:[(0,t.jsx)("span",{className:"mr-2 inline-block h-2 w-2 rounded-full bg-sky-500 align-middle"}),"Clock in anytime. The system will automatically assign your shift."]}),(0,t.jsx)("div",{className:"mt-3 grid gap-3 lg:grid-cols-3",children:m.map(e=>{let a=e.id===ec.id;return(0,t.jsxs)("article",{className:`rounded-xl border p-3 ${a?"border-sky-300 bg-white":"border-slate-200 bg-white/80"}`,children:[(0,t.jsxs)("p",{className:"text-sm font-semibold text-slate-900",children:[e.sourceShift," ","->"," ",e.assignedShift]}),(0,t.jsxs)("p",{className:"mt-2 text-xs text-slate-600",children:["On Time: ",(0,t.jsx)("span",{className:"font-medium text-slate-900",children:e.onTimeLabel})]}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-slate-600",children:["Early: ",(0,t.jsx)("span",{className:"font-medium text-slate-900",children:e.earlyLabel})]}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-slate-600",children:["Late: ",(0,t.jsx)("span",{className:"font-medium text-slate-900",children:e.lateLabel})]})]},e.id)})})]})]})}):null]}),(0,t.jsx)(r.default,{title:"Your Profile",subtitle:"Clock-in and clock-out controls",children:(0,t.jsx)("div",{className:"rounded-xl border border-slate-200 bg-slate-50/80 px-4 py-5",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3 text-center",children:[(0,t.jsx)("span",{className:"inline-flex h-20 w-20 items-center justify-center rounded-full bg-slate-900 text-xl font-semibold text-white",children:L}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:$}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:T})]}),(0,t.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:ew,disabled:!a,className:"inline-flex h-9 items-center rounded-full bg-emerald-600 px-4 text-xs font-semibold text-white transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-60",children:z?"Processing...":`Clock In (${ec.assignedShift} - ${em})`}),(0,t.jsx)("button",{type:"button",onClick:ek,disabled:!s,className:"inline-flex h-9 items-center rounded-full bg-rose-600 px-4 text-xs font-semibold text-white transition hover:bg-rose-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Clock Out"})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"You can clock in anytime. The system automatically determines your attendance status."}),eu?(0,t.jsxs)("p",{className:"text-xs font-medium text-emerald-700",children:["Active record started at ",eu.checkIn||"-"]}):null,eh?(0,t.jsx)("p",{className:"text-xs font-medium text-slate-600",children:"Today's attendance is already completed."}):null]})})}),(0,t.jsx)(r.default,{title:"Recent Attendance",subtitle:"Latest attendance logs from your account",children:W?(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Loading attendance data..."}):0===ey.length?(0,t.jsx)(l.default,{title:"No attendance records yet",subtitle:"Your clock-in and clock-out activity will appear here."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Date"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock In"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock Out"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Shift"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Summary"})]})}),(0,t.jsx)("tbody",{children:ey.map(e=>{let a,s,r,l=u(e.checkOut)?"Completed":e.status||"Recorded";return(0,t.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,t.jsx)("td",{className:"px-2 py-3 font-medium text-slate-900",children:g(e.date||e.createdAt)}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.checkIn||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.checkOut||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:Number.isFinite(a=b(e.checkIn))?N(a).assignedShift:"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:(0,t.jsx)(n.default,{value:l,className:"early"===(s=String(l||"").trim().toLowerCase())?"bg-cyan-100 text-cyan-700":"on time"===s?"bg-emerald-100 text-emerald-700":"late"===s?"bg-amber-100 text-amber-700":"completed"===s?"bg-emerald-100 text-emerald-700":""})}),(0,t.jsx)("td",{className:"max-w-[460px] px-2 py-3 text-xs text-slate-600",children:(r=String(e.reason||"").trim())||(u(e.checkOut)?"Attendance completed and logged.":u(e.checkIn)?"Clock-in recorded.":"No summary available.")})]},e.id)})})]})})})]})}return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(i.default,{tabs:c,value:I,onChange:P}),X?(0,t.jsx)("p",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:X}):null,ee?(0,t.jsx)("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:ee}):null,("time-logs"===I||"adjustments"===I)&&(0,t.jsx)(r.default,{title:"Manual Attendance Entry",subtitle:"Clock-in and clock-out with traceability",children:(0,t.jsxs)("form",{className:"grid gap-2 md:grid-cols-4",onSubmit:eg,children:[M?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{required:!0,value:J.employeeEmail,onChange:eb("employeeEmail"),placeholder:"Employee email",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:J.employee,onChange:eb("employee"),placeholder:"Employee name",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,t.jsx)("input",{type:"date",required:!0,value:J.date,onChange:eb("date"),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{type:"time",value:J.checkIn,onChange:eb("checkIn"),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{type:"time",value:J.checkOut,onChange:eb("checkOut"),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:J.reason,onChange:eb("reason"),placeholder:"Reason / notes",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("div",{className:"md:col-span-4",children:(0,t.jsx)("button",{type:"submit",disabled:z,className:"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:z?"Saving...":"Save Attendance"})})]})}),("leave-requests"===I||"leave-approvals"===I)&&(0,t.jsx)(r.default,{title:"Leave Request Workflow",subtitle:"Requests, approvals, and leave balance impact",children:(0,t.jsxs)("form",{className:"grid gap-2 md:grid-cols-4",onSubmit:eN,children:[M?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{required:!0,value:G.employeeEmail,onChange:ef("employeeEmail"),placeholder:"Employee email",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:G.employee,onChange:ef("employee"),placeholder:"Employee name",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,t.jsxs)("select",{value:G.leaveType,onChange:ef("leaveType"),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,t.jsx)("option",{children:"Vacation Leave"}),(0,t.jsx)("option",{children:"Sick Leave"}),(0,t.jsx)("option",{children:"Emergency Leave"})]}),(0,t.jsx)("input",{type:"date",required:!0,value:G.startDate,onChange:ef("startDate"),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{type:"date",required:!0,value:G.endDate,onChange:ef("endDate"),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:G.reason,onChange:ef("reason"),placeholder:"Reason",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("div",{className:"md:col-span-4",children:(0,t.jsx)("button",{type:"submit",disabled:z,className:"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:z?"Submitting...":"Submit Leave Request"})})]})}),(0,t.jsx)(r.default,{title:"leave-balances"===I?"Leave Balances":"audit-logs"===I?"Attendance Audit Logs":"Attendance Records",subtitle:"Time logs, leave workflow, and modification traceability",children:W?(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Loading attendance data..."}):(0,t.jsx)(t.Fragment,{children:"leave-balances"===I?0===en.length?(0,t.jsx)(l.default,{title:"No leave balance data yet",subtitle:"Approved leave requests will update balances automatically."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Allocated"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Used"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Remaining"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Approved Requests"})]})}),(0,t.jsx)("tbody",{children:en.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,t.jsx)("td",{className:"px-2 py-3 font-medium text-slate-900",children:e.employee}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.allocated}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.usedDays}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.remaining}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.approvedCount})]},e.employeeEmail))})]})}):"leave-requests"===I||"leave-approvals"===I?0===U.length?(0,t.jsx)(l.default,{title:"No leave requests yet",subtitle:"Submitted leave requests will appear in this table."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Leave Type"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Date Range"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Approver"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:U.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,t.jsxs)("td",{className:"px-2 py-3",children:[(0,t.jsx)("p",{className:"font-medium text-slate-900",children:e.employee||"-"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:e.employeeEmail||"-"})]}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.leaveType||"-"}),(0,t.jsxs)("td",{className:"px-2 py-3",children:[g(e.startDate)," - ",g(e.endDate)]}),(0,t.jsx)("td",{className:"px-2 py-3",children:(0,t.jsx)(n.default,{value:e.status||"-"})}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.approver||e.approverName?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.default,{src:S(e.approverAvatar),alt:`${w(e.approverName,e.approverEmail||e.approver,"Approver")} profile`,width:28,height:28,className:"h-7 w-7 rounded-full border border-slate-200 bg-white object-cover"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"truncate text-xs font-medium text-slate-800",children:w(e.approverName,e.approverEmail||e.approver,"-")}),k(e.approverEmail||e.approver)?(0,t.jsx)("p",{className:"truncate text-[11px] text-slate-500",children:k(e.approverEmail||e.approver)}):null]})]}):"-"}),(0,t.jsx)("td",{className:"px-2 py-3 text-right",children:O?(0,t.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>ej(e.id,!0),disabled:z,className:"rounded-lg border border-emerald-200 bg-emerald-50 px-2.5 py-1.5 text-xs font-medium text-emerald-700 transition hover:bg-emerald-100 disabled:opacity-60",children:"Approve"}),(0,t.jsx)("button",{type:"button",onClick:()=>ej(e.id,!1),disabled:z,className:"rounded-lg border border-rose-200 bg-rose-50 px-2.5 py-1.5 text-xs font-medium text-rose-700 transition hover:bg-rose-100 disabled:opacity-60",children:"Reject"})]}):(0,t.jsx)("span",{className:"text-xs text-slate-500",children:"View only"})})]},e.id))})]})}):"audit-logs"===I?0===D.length?(0,t.jsx)(l.default,{title:"No attendance audit logs yet",subtitle:"Modification trails will appear after updates."}):(0,t.jsx)("div",{className:"space-y-2",children:D.map(e=>(0,t.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[(0,t.jsxs)("p",{className:"text-sm font-semibold text-slate-900",children:[e.employee||"-"," | ",e.date||"-"]}),(0,t.jsx)("div",{className:"mt-2 space-y-1",children:0===(e.modificationTrail||[]).length?(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"No trail entries yet."}):e.modificationTrail.map((s,r)=>{let l=w(s.byName,s.byEmail||s.by,"-"),i=k(s.byEmail||s.by);return(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-2 py-1.5",children:[(0,t.jsxs)("div",{className:"flex min-w-[200px] items-center gap-2",children:[(0,t.jsx)(a.default,{src:S(s.byAvatar),alt:`${l} profile`,width:24,height:24,className:"h-6 w-6 rounded-full border border-slate-200 bg-white object-cover"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"truncate text-xs font-medium text-slate-800",children:l}),i?(0,t.jsx)("p",{className:"truncate text-[11px] text-slate-500",children:i}):null]})]}),(0,t.jsxs)("p",{className:"text-xs text-slate-700",children:["[",g(s.at),"] ",s.action||"update"," | status: ",s.status||"-"]})]},`${e.id}-${r}`)})})]},e.id))}):(0,t.jsx)(t.Fragment,{children:0===D.length?(0,t.jsx)(l.default,{title:"No attendance records yet",subtitle:"Clock-in and clock-out entries will appear here."}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Date"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock In"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Clock Out"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Reason"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Select"})]})}),(0,t.jsx)("tbody",{children:D.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,t.jsxs)("td",{className:"px-2 py-3",children:[(0,t.jsx)("p",{className:"font-medium text-slate-900",children:e.employee||"-"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:e.employeeEmail||"-"})]}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.date||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.checkIn||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.checkOut||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:(0,t.jsx)(n.default,{value:e.status||"-"})}),(0,t.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:e.reason||"-"}),(0,t.jsx)("td",{className:"px-2 py-3 text-right",children:(0,t.jsx)("button",{type:"button",onClick:()=>B(e.id),className:"rounded-lg border border-slate-300 bg-white px-2.5 py-1.5 text-xs font-medium text-slate-700 transition hover:bg-slate-50",children:"Select"})})]},e.id))})]})}),"adjustments"===I?(0,t.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Attendance Adjustments"}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-slate-600",children:["Selected record: ",eo?`${eo.employee} (${eo.date})`:"None"]}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[(0,t.jsx)("input",{value:Y,onChange:e=>V(e.target.value),placeholder:"Adjustment reason",className:"h-9 min-w-[220px] rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("button",{type:"button",onClick:ev,disabled:!eo||z,className:"h-9 rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-60",children:"Save Adjustment"})]})]}):null]})})})})]})}e.s(["default",()=>T])}]);