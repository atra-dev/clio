module.exports=[55933,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(72131),e=a.i(44036),f=a.i(63824),g=a.i(99256),h=a.i(93363),i=a.i(3427),j=a.i(98719),k=a.i(51084),l=a.i(74404),m=a.i(63609);a.i(68248);let n=[{id:"profile",label:"Employee Profile"},{id:"compliance",label:"Government & Compliance IDs"},{id:"payroll",label:"Payroll Information"},{id:"access",label:"Access & Role Assignment"},{id:"documents",label:"Employee Attached Documents"},{id:"activity",label:"Recent Activity"}],o=["Active Employee","Probation","On Leave","Resigned","Terminated"],p=["Active","Probation","Inactive","Archived"],q=[{value:"SUPER_ADMIN",label:"Super Admin"},{value:"GRC",label:"GRC"},{value:"HR",label:"HR"},{value:"EA",label:"EA"},{value:"EMPLOYEE_L1",label:"Employee (L1)"},{value:"EMPLOYEE_L2",label:"Employee (L2)"},{value:"EMPLOYEE_L3",label:"Employee (L3)"}],r=[{value:"Governance, Risk, and Compliance (GRC)",label:"Governance, Risk, and Compliance (GRC)"},{value:"Research and Development (R&D)",label:"Research and Development (R&D)"},{value:"Cyber Security Operations Center (CSOC)",label:"Cyber Security Operations Center (CSOC)"},{value:"Threat Intelligence (TI)",label:"Threat Intelligence (TI)"}],s=[{key:"primaryId",label:"Primary Government ID"},{key:"sss",label:"SSS"},{key:"tin",label:"TIN"},{key:"philhealth",label:"PhilHealth"},{key:"pagibig",label:"Pag-IBIG"},{key:"passport",label:"Passport"}],t=[{key:"compensationType",label:"Compensation Type",placeholder:"Monthly"},{key:"baseSalary",label:"Base Salary",placeholder:"e.g. 45000"},{key:"bankName",label:"Bank Name",placeholder:"e.g. BPI"},{key:"accountName",label:"Account Name",placeholder:"Employee Name"},{key:"accountNumber",label:"Account Number",placeholder:"XXXX-XXXX"},{key:"taxCode",label:"Tax Code",placeholder:"S/ME1"}],u={employeeId:"",name:"",email:"",role:"EMPLOYEE_L1",department:"",jobTitle:"",hireDate:"",employmentStatus:"Active Employee",status:"Active",contact:"",address:"",emergencyContact:"",managerEmail:"",payrollGroup:"",govId:""},v={employeeId:"",lastName:"",firstName:"",middleName:"",suffix:"",email:"",department:"",jobTitle:"",hireDate:""},w={employmentStatus:"Active Employee",status:"Active",managerEmail:""},x={contact:"",address:"",emergencyContact:""},y={primaryId:"",sss:"",tin:"",philhealth:"",pagibig:"",passport:""},z={payrollGroup:"",compensationType:"",baseSalary:"",bankName:"",accountName:"",accountNumber:"",taxCode:""},A={role:"EMPLOYEE_L1",status:"Active",managerEmail:""},B={firstName:"",middleName:"",lastName:"",suffix:"",contact:"",address:"",emergencyContact:""};function C(a){let b=new Date(a||"");return Number.isNaN(b.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(b)}function D(a){return String(a||"").trim().toLowerCase()}function E(a){return String(a||"").trim()}function F(a){return Array.isArray(a)?a:[]}function G(a){return a&&"object"==typeof a&&!Array.isArray(a)?a:{}}function H(a,b){let c=[],d=new Set;return[...F(a),...F(b)].forEach(a=>{let b,e,f=(b=String(a?.value||"").trim(),e=String(a?.label||b).trim(),b?{value:b,label:e||b}:null);if(!f)return;let g=`${f.value}::${f.label}`.toLowerCase();d.has(g)||(d.add(g),c.push(f))}),c}function I(a){return String(a??"").trim()||"-"}function J(a){let b=String(a??"").trim();return"-"===b?"":b}function K(a,b){let c=String(a||"").trim();if(c)return c;let d=String(b||"").trim().toLowerCase();return d.includes("@")?(0,k.formatNameFromEmail)(d,{fallbackLabel:"User"}):I(b)}function L(a,b){let c=String(a||"").trim();if(c.includes("@"))return c.toLowerCase();let d=String(b||"").trim();return d.includes("@")?d.toLowerCase():""}function M(a){let b=String(a||"").trim();if(!b)return"-";let c=b.toUpperCase(),d={EMPLOYEE:"Employee (L1)",EMPLOYEE_L1:"Employee (L1)",EMPLOYEE_L2:"Employee (L2)",EMPLOYEE_L3:"Employee (L3)"};return d[c]?d[c]:b.includes("_")?b.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "):b}function N(a){return(0,k.formatEmployeeName)({lastName:a?.lastName,firstName:a?.firstName,middleName:a?.middleName,suffix:a?.suffix,fallback:a?.name,fallbackEmail:a?.email,fallbackLabel:"Employee"})}function O(a,c,d){return(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,b.jsx)("p",{className:"text-[11px] font-medium uppercase tracking-[0.08em] text-slate-500",children:a}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-800",children:I(c)})]},d)}function P({session:a}){let P=(0,j.useToast)(),Q=a?.role||"EMPLOYEE_L1",R=a?.email||"",S=String(Q||"").trim().toUpperCase().startsWith("EMPLOYEE_"),T=!S,[U,V]=(0,d.useState)({roles:q,departments:r}),[W,X]=(0,d.useState)("profile"),[Y,Z]=(0,d.useState)([]),[$,_]=(0,d.useState)(null),[aa,ab]=(0,d.useState)(""),[ac,ad]=(0,d.useState)(""),[ae,af]=(0,d.useState)(""),[ag,ah]=(0,d.useState)(1),[ai,aj]=(0,d.useState)(!0),[ak,al]=(0,d.useState)(""),[am,an]=(0,d.useState)(null),[ao,ap]=(0,d.useState)(u),[aq,ar]=(0,d.useState)(v),[as,at]=(0,d.useState)(w),[au,av]=(0,d.useState)(x),[aw,ax]=(0,d.useState)(y),[ay,az]=(0,d.useState)(z),[aA,aB]=(0,d.useState)(A),[aC,aD]=(0,d.useState)(B),[aE,aF]=(0,d.useState)(!1),[aG,aH]=(0,d.useState)(!1),[aI,aJ]=(0,d.useState)(!1),aK=(0,d.useRef)(null),aL=(0,d.useRef)(null),aM=(0,d.useMemo)(()=>S?n.filter(a=>"profile"===a.id||"documents"===a.id):n,[S]),aN=(0,d.useMemo)(()=>H(U.roles,q),[U.roles]),aO=(0,d.useMemo)(()=>H(U.departments,r),[U.departments]),aP=(0,d.useCallback)(a=>{let b=E(a?.id||a?.recordId);b?(al(b),X("profile"),aH(!0)):P.error("Unable to open employee details. Missing record identifier.")},[P]);(0,d.useEffect)(()=>{},[aE]),(0,d.useEffect)(()=>{if(S)return void V({roles:q,departments:r});let a=!0;return(async()=>{try{let b=await m.hrisApi.settings.referenceData.list();if(!a)return;V({roles:H(b?.catalogs?.roles,q),departments:H(b?.catalogs?.departments,r)})}catch{if(!a)return;V({roles:q,departments:r})}})(),()=>{a=!1}},[S]);let aQ=(0,d.useCallback)(async()=>{aj(!0);try{let a=await m.hrisApi.employees.list({q:aa,status:ac,role:ae,page:ag,pageSize:10}),b=F(a.records).map(a=>({...a,id:E(a?.id||a?.recordId),name:N(a)})).filter(a=>!!a.id);if(Z(b),_(a.pagination||null),S){let a=b[0]?.id||"";ak!==a&&al(a),aH(!!a);return}!ak&&b[0]?.id&&al(b[0].id),ak&&!b.some(a=>a.id===ak)&&al(b[0]?.id||"")}catch(a){P.error(a.message||"Unable to load employee directory.")}finally{aj(!1)}},[S,ag,aa,ae,ak,ac,P]),aR=(0,d.useCallback)(async()=>{let a=E(ak);if(!a)return void an(null);try{let b=await m.hrisApi.employees.get(a),c=b.record?{...b.record,name:N(b.record)}:null;an(c)}catch(a){String(a?.message||"").toLowerCase().includes("invalid record identifier")&&(al(""),aH(!1)),an(null),P.error(a.message||"Unable to load employee profile.")}},[ak,P]);(0,d.useEffect)(()=>{aQ()},[aQ]),(0,d.useEffect)(()=>{aR()},[aR]),(0,d.useEffect)(()=>{new Set(aM.map(a=>a.id)).has(W)||X(aM[0]?.id||"profile")},[W,aM]),(0,d.useEffect)(()=>{},[aM,ak]);let aS=(0,d.useMemo)(()=>{let a=Y.find(a=>a.id===ak)||null,b=E(am?.id||am?.recordId);if(a&&am&&b===a.id){let b={...a,...am,id:a.id};return{...b,name:N(b)}}if(a)return a;if(am){let a=E(am.id||am.recordId);return{...am,id:a,name:N(am)}}return null},[Y,ak,am]),aT=(0,d.useMemo)(()=>{let a=[...aN],b=String(aS?.role||"").trim();return b&&!a.some(a=>a.value===b)&&a.push({value:b,label:M(b)}),a},[aN,aS?.role]);(0,d.useEffect)(()=>{0!==aN.length&&ap(a=>{let b=String(a.role||"").trim();if(b&&aN.some(a=>a.value===b))return a;let c=aN.find(a=>"EMPLOYEE_L1"===a.value)?.value||aN.find(a=>"Employee"===a.value)?.value||aN[0].value;return{...a,role:c}})},[aN]),(0,d.useEffect)(()=>{if(!aS){ar(v),at(w),av(x),ax(y),az(z),aB(A);return}ar(function(a){if(!a)return v;let b=function(a){let b=String(a||"").trim().replace(/\s+/g," ");if(!b)return{lastName:"",firstName:"",middleName:"",suffix:""};let c=new Set(["JR","JR.","SR","SR.","I","II","III","IV","V"]);if(b.includes(",")){let[a,d]=b.split(",",2),e=String(d||"").trim().split(/\s+/).filter(Boolean),f="";e.length>0&&c.has(e[e.length-1].toUpperCase())&&(f=e.pop()||"");let g=e.shift()||"",h=e.join(" ");return{lastName:String(a||"").trim(),firstName:g,middleName:h,suffix:f}}let d=b.split(/\s+/).filter(Boolean);if(1===d.length)return{lastName:"",firstName:d[0],middleName:"",suffix:""};let e="";return(c.has(d[d.length-1].toUpperCase())&&(e=d.pop()||""),2===d.length)?{lastName:d[1],firstName:d[0],middleName:"",suffix:e}:{lastName:d[d.length-1]||"",firstName:d[0]||"",middleName:d.slice(1,-1).join(" "),suffix:e}}(a.name);return{employeeId:String(a.employeeId||""),lastName:String(a.lastName||b.lastName||""),firstName:String(a.firstName||b.firstName||""),middleName:String(a.middleName||b.middleName||""),suffix:String(a.suffix||b.suffix||""),email:String(a.email||""),department:String(a.department||""),jobTitle:String(a.jobTitle||""),hireDate:String(a.hireDate||"")}}(aS)),at(aS?{employmentStatus:String(aS.employmentStatus||"Active Employee"),status:String(aS.status||"Active"),managerEmail:String(aS.managerEmail||"")}:w),av(function(a){if(!a)return x;let b=G(a.contactInformation);return{contact:String(a.contact||b.primaryPhone||""),address:String(a.address||b.address||""),emergencyContact:String(a.emergencyContact||b.emergencyContact||"")}}(aS)),ax(function(a){if(!a)return y;let b=G(a.governmentIds);return{primaryId:String(a.govId||b.primaryId||""),sss:String(b.sss||""),tin:String(b.tin||""),philhealth:String(b.philhealth||""),pagibig:String(b.pagibig||""),passport:String(b.passport||"")}}(aS)),az(function(a){if(!a)return z;let b=G(a.payrollInformation);return{payrollGroup:String(a.payrollGroup||""),compensationType:String(b.compensationType||""),baseSalary:String(b.baseSalary||""),bankName:String(b.bankName||""),accountName:String(b.accountName||""),accountNumber:String(b.accountNumber||""),taxCode:String(b.taxCode||"")}}(aS)),aB(aS?{role:String(aS.role||"EMPLOYEE_L1"),status:String(aS.status||"Active"),managerEmail:String(aS.managerEmail||"")}:A)},[aS]);let aU=a=>b=>{ap(c=>({...c,[a]:b.target.value}))},aV=async a=>{if(a.preventDefault(),!T)return;let b=String(ao.name||"").trim()||"this employee";aJ(!0);try{await m.hrisApi.employees.create({...ao,email:D(ao.email)}),ap(u),aF(!1),P.success("Employee record created."),await aQ()}catch(a){P.error(a.message||"Unable to create employee record.")}finally{aJ(!1)}},aW=a=>b=>{aD(c=>({...c,[a]:b.target.value}))},aX=async a=>{if(a.preventDefault(),!S)return;let b=String(aC.firstName||"").trim(),c=String(aC.lastName||"").trim();if(!b||!c)return void P.error("First name and last name are required.");aJ(!0);try{let a=await m.hrisApi.employees.create({firstName:b,middleName:String(aC.middleName||"").trim(),lastName:c,suffix:String(aC.suffix||"").trim(),contact:String(aC.contact||"").trim(),address:String(aC.address||"").trim(),emergencyContact:String(aC.emergencyContact||"").trim()});aD(B),P.success("Your employee record has been created."),await aQ();let d=E(a?.record?.id||a?.record?.recordId);d&&(al(d),X("profile"),aH(!0))}catch(a){P.error(a.message||"Unable to create your employee record.")}finally{aJ(!1)}},aY=async(a,b,c="Save changes to this employee record?")=>{let d=E(ak)||E(aS?.id);if(!d)return P.error("Employee record reference is missing. Please reopen the employee details."),!1;aJ(!0);try{return await m.hrisApi.employees.update(d,a),P.success(b),await Promise.all([aQ(),aR()]),!0}catch(a){return String(a?.message||"").toLowerCase().includes("invalid record identifier")&&(al(""),aH(!1)),P.error(a.message||"Unable to update employee profile."),!1}finally{aJ(!1)}},aZ=async a=>{if(!a||!T)return;let b=Y.find(b=>b.id===a),c=I(b?.name||b?.employeeId||a);aJ(!0);try{await m.hrisApi.employees.archive(a),a===ak&&al(""),P.success("Employee record archived."),await aQ()}catch(a){P.error(a.message||"Unable to archive employee record.")}finally{aJ(!1)}},a$=async a=>{let b=a.target.files?.[0];if(!b)return;let c=E(ak)||E(aS?.id);if(!c||!aS?.id||!T){a.target.value="";return}if(b.size>0xa00000){P.error("Document upload is limited to 10MB per file."),a.target.value="";return}b.name;aJ(!0);try{let a=await (0,l.uploadEmployeeDocumentToStorage)({file:b,employeeRecordId:c,employeeEmail:aS.email}),d=F(aS.documents),e={name:String(b.name||"").trim()||"Employee Document",type:function(a){let b=String(a?.type||"").trim().toLowerCase();if(b.includes("pdf"))return"PDF";if(b.includes("image"))return"Image";if(b.includes("sheet")||b.includes("excel")||b.includes("csv"))return"Spreadsheet";if(b.includes("word")||b.includes("document"))return"Document";let c=String(a?.name||"").trim(),d=c.includes(".")?c.split(".").pop():"";return d?d.toUpperCase():"General"}(b),ref:a.downloadUrl,storagePath:a.storagePath,contentType:a.contentType||null,sizeBytes:a.sizeBytes,uploadedAt:new Date().toISOString(),uploadedBy:R};await m.hrisApi.employees.update(c,{documents:[...d,e]}),P.success("Employee document uploaded to secure storage."),await Promise.all([aQ(),aR()])}catch(a){P.error(a.message||"Unable to upload employee document.")}finally{aJ(!1),a.target.value=""}},a_=async a=>{if(!aS?.id||!T)return;let b=E(ak)||E(aS?.id);if(!b)return void P.error("Employee record reference is missing. Please reopen the employee details.");let c=F(aS.documents),d=c[a];if(!d)return;let e=String(d?.name||"").trim()||"this document";aJ(!0);try{await m.hrisApi.employees.update(b,{documents:c.filter((b,c)=>c!==a)});let e=String(d?.storagePath||"").trim();e&&(0,l.removeStorageObjectByPath)(e).catch(()=>null),P.success("Employee document removed."),await Promise.all([aQ(),aR()])}catch(a){P.error(a.message||"Unable to remove employee document.")}finally{aJ(!1)}},a0=async()=>{if(!aS?.id)return;let a={contact:String(au.contact||"").trim(),address:String(au.address||"").trim()};T&&(a.emergencyContact=String(au.emergencyContact||"").trim()),await aY(a,"Contact information updated.",T?"Save contact information changes?":"Save your contact information changes?")},a1=async()=>{if(!aS?.id)return;if(!T)return void await a0();let a=(0,k.formatEmployeeName)({lastName:aq.lastName,firstName:aq.firstName,middleName:aq.middleName,suffix:aq.suffix,fallback:aS?.name||aq.email,fallbackEmail:aq.email,fallbackLabel:"Employee"});await aY({employeeId:String(aq.employeeId||"").trim(),name:a,lastName:String(aq.lastName||"").trim(),firstName:String(aq.firstName||"").trim(),middleName:String(aq.middleName||"").trim(),suffix:String(aq.suffix||"").trim(),email:D(aq.email),department:String(aq.department||"").trim(),jobTitle:String(aq.jobTitle||"").trim(),hireDate:String(aq.hireDate||"").trim(),employmentStatus:String(as.employmentStatus||"").trim(),status:String(as.status||"").trim(),managerEmail:D(as.managerEmail),contact:String(au.contact||"").trim(),address:String(au.address||"").trim(),emergencyContact:String(au.emergencyContact||"").trim()},"Full profile information updated.","Save all profile updates for this employee?")},a2=async()=>{if(aS?.id&&T){let a;await aY({govId:String(aw.primaryId||"").trim(),governmentIds:(a={...G(aS.governmentIds)},s.forEach(({key:b})=>{let c=String(aw?.[b]||"").trim();c?a[b]=c:delete a[b]}),a)},"Government and compliance IDs updated.","Save government and compliance ID changes?")}},a3=async()=>{if(aS?.id&&T){let a;await aY({payrollGroup:String(ay.payrollGroup||"").trim(),payrollInformation:(a={...G(aS.payrollInformation)},t.forEach(({key:b})=>{let c=String(ay?.[b]||"").trim();c?a[b]=c:delete a[b]}),a)},"Payroll information updated.","Save payroll information changes?")}},a4=async()=>{aS?.id&&T&&await aY({role:String(aA.role||"").trim(),status:String(aA.status||"").trim(),managerEmail:D(aA.managerEmail)},"Access role assignment updated.","Save access role assignment changes?")},a5=T&&aE?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/45 p-4",role:"dialog","aria-modal":"true","aria-label":"Add Employee",onClick:()=>aF(!1),children:(0,b.jsxs)("div",{className:"max-h-[90vh] w-full max-w-5xl overflow-y-auto rounded-2xl border border-slate-200 bg-white p-5 shadow-2xl sm:p-6",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"mb-4 flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:"Add Employee"}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Provision employee master data with employment, contact, and restricted PII references"})]}),(0,b.jsx)("button",{type:"button",onClick:()=>aF(!1),className:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 hover:text-slate-900","aria-label":"Close add employee modal",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-4 w-4","aria-hidden":"true",children:(0,b.jsx)("path",{d:"m6 6 12 12M18 6 6 18"})})})]}),(0,b.jsxs)("form",{className:"grid gap-3 md:grid-cols-3",onSubmit:aV,children:[(0,b.jsx)("input",{value:ao.employeeId,onChange:aU("employeeId"),placeholder:"Employee ID",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{required:!0,value:ao.name,onChange:aU("name"),placeholder:"Full name",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{required:!0,type:"email",value:ao.email,onChange:aU("email"),placeholder:"work.email@gmail.com",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsxs)("select",{value:ao.department,onChange:aU("department"),className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"Department"}),aO.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},`create-department-${a.value}`))]}),(0,b.jsx)("input",{value:ao.jobTitle,onChange:aU("jobTitle"),placeholder:"Job title",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{type:"date",value:ao.hireDate,onChange:aU("hireDate"),className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("select",{value:ao.role,onChange:aU("role"),className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:aN.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))}),(0,b.jsx)("select",{value:ao.employmentStatus,onChange:aU("employmentStatus"),className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:o.map(a=>(0,b.jsx)("option",{value:a,children:a},a))}),(0,b.jsx)("select",{value:ao.status,onChange:aU("status"),className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none",children:p.map(a=>(0,b.jsx)("option",{value:a,children:a},a))}),(0,b.jsx)("input",{value:ao.managerEmail,onChange:aU("managerEmail"),placeholder:"Manager email",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:ao.contact,onChange:aU("contact"),placeholder:"Primary contact",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:ao.address,onChange:aU("address"),placeholder:"Address",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:ao.emergencyContact,onChange:aU("emergencyContact"),placeholder:"Emergency contact",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:ao.payrollGroup,onChange:aU("payrollGroup"),placeholder:"Payroll group",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:ao.govId,onChange:aU("govId"),placeholder:"Primary government ID",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsxs)("div",{className:"md:col-span-3 flex flex-wrap items-center justify-between gap-3",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Data classification: Restricted PII"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>aF(!1),className:"inline-flex h-10 items-center justify-center rounded-lg border border-slate-300 bg-white px-4 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:aI,className:"inline-flex h-10 items-center justify-center rounded-lg bg-sky-600 px-4 text-sm font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:aI?"Saving...":"Create Employee"})]})]})]})]})}):null;return(0,b.jsxs)("div",{className:"space-y-4",children:[aG?(0,b.jsx)("div",{id:"employee-details",ref:aK,className:"min-w-0",children:(0,b.jsx)("div",{className:"space-y-2 xl:max-h-[calc(100dvh-12rem)] xl:overflow-y-auto xl:pr-1",children:aS?(0,b.jsxs)(b.Fragment,{children:[S?null:(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2",children:[(0,b.jsx)(g.default,{tabs:aM,value:W,onChange:X,className:"min-w-[220px] flex-1"}),(0,b.jsxs)("button",{type:"button",onClick:()=>aH(!1),className:"inline-flex h-8 items-center gap-1.5 rounded-lg border border-slate-300 bg-white px-3 text-xs font-medium text-slate-700 transition hover:bg-slate-50",children:[(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-3.5 w-3.5","aria-hidden":"true",children:(0,b.jsx)("path",{d:"M15.5 18 9.5 12l6-6"})}),"Back"]})]}),"profile"===W?(0,b.jsx)(e.default,{title:S?"My Profile":"Employee Profile",subtitle:S?"View your employment snapshot and update personal contact details.":"Full employee information in one consolidated view",children:aS?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:(0,b.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-base font-semibold text-slate-900",children:I((0,k.formatEmployeeName)({lastName:aS.lastName,firstName:aS.firstName,middleName:aS.middleName,suffix:aS.suffix,fallback:aS.name,fallbackEmail:aS.email,fallbackLabel:"Employee"}))}),(0,b.jsxs)("p",{className:"text-xs text-slate-600",children:[I(aS.employeeId)," | ",I(aS.email)]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.default,{value:aS.status||"-"}),(0,b.jsx)("span",{className:"rounded-lg border border-slate-300 bg-white px-2 py-1 text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-600",children:"Restricted PII"})]})]})}),(0,b.jsx)("div",{className:"rounded-xl border border-slate-200 bg-white p-3",children:T?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid gap-2 md:grid-cols-3",children:[(0,b.jsx)("input",{value:aq.employeeId,onChange:a=>ar(b=>({...b,employeeId:a.target.value})),placeholder:"Employee ID",disabled:!T,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,b.jsx)("input",{value:aq.lastName,onChange:a=>ar(b=>({...b,lastName:a.target.value})),placeholder:"Last name",disabled:!T,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,b.jsx)("input",{value:aq.firstName,onChange:a=>ar(b=>({...b,firstName:a.target.value})),placeholder:"First name",disabled:!T,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,b.jsx)("input",{value:aq.middleName,onChange:a=>ar(b=>({...b,middleName:a.target.value})),placeholder:"Middle name",disabled:!T,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,b.jsx)("input",{value:aq.suffix,onChange:a=>ar(b=>({...b,suffix:a.target.value})),placeholder:"Suffix (e.g. Jr.)",disabled:!T,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,b.jsx)("input",{value:aq.email,onChange:a=>ar(b=>({...b,email:a.target.value})),placeholder:"Email",disabled:!T,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,b.jsxs)("select",{value:aq.department,onChange:a=>ar(b=>({...b,department:a.target.value})),disabled:!T,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100",children:[(0,b.jsx)("option",{value:"",children:"Department"}),aO.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},`profile-department-${a.value}`))]}),(0,b.jsx)("input",{value:aq.jobTitle,onChange:a=>ar(b=>({...b,jobTitle:a.target.value})),placeholder:"Job title",disabled:!T,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,b.jsx)("input",{type:"date",value:aq.hireDate,onChange:a=>ar(b=>({...b,hireDate:a.target.value})),disabled:!T,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,b.jsx)("select",{value:as.employmentStatus,onChange:a=>at(b=>({...b,employmentStatus:a.target.value})),disabled:!T,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100",children:o.map(a=>(0,b.jsx)("option",{value:a,children:a},a))}),(0,b.jsx)("select",{value:as.status,onChange:a=>at(b=>({...b,status:a.target.value})),disabled:!T,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100",children:p.map(a=>(0,b.jsx)("option",{value:a,children:a},a))}),(0,b.jsx)("input",{value:as.managerEmail,onChange:a=>at(b=>({...b,managerEmail:a.target.value})),placeholder:"Manager email",disabled:!T,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100"}),(0,b.jsx)("input",{value:au.contact,placeholder:"Contact",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:a=>av(b=>({...b,contact:a.target.value}))}),(0,b.jsx)("input",{value:au.address,placeholder:"Address",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:a=>av(b=>({...b,address:a.target.value}))}),(0,b.jsx)("input",{value:au.emergencyContact,placeholder:"Emergency contact",disabled:!T,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none disabled:bg-slate-100",onChange:a=>av(b=>({...b,emergencyContact:a.target.value}))})]}),(0,b.jsxs)("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"You can update full profile info in one action."}),(0,b.jsx)("button",{type:"button",onClick:a1,disabled:aI,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save Full Profile"})]})]}):(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500",children:[(0,b.jsx)("th",{className:"w-[38%] px-3 py-2 font-medium",children:"Profile Field"}),(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Value"})]})}),(0,b.jsx)("tbody",{children:[["Employee ID",I(aq.employeeId)],["Last Name",I(aq.lastName)],["First Name",I(aq.firstName)],["Middle Name",I(aq.middleName)],["Suffix",I(aq.suffix)],["Email",I(aq.email)],["Department",I(aq.department)],["Role",M(aS.role||"EMPLOYEE_L1")],["Job Title",I(aq.jobTitle)],["Employment Status",I(as.employmentStatus)],["Record Status",I(as.status)],["Start Date",I(aq.hireDate)],["Emergency Contact",I(au.emergencyContact)]].map(([a,c])=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-3 py-2 text-xs font-semibold uppercase tracking-[0.06em] text-slate-500",children:a}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-800",children:c})]},a))})]})}),(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Editable Contact Details"}),(0,b.jsxs)("div",{className:"mt-2 grid gap-2 md:grid-cols-2",children:[(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[11px] font-medium text-slate-600",children:"Contact Number"}),(0,b.jsx)("input",{value:J(au.contact),placeholder:"Enter contact number",className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:a=>av(b=>({...b,contact:a.target.value}))})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-[11px] font-medium text-slate-600",children:"Address"}),(0,b.jsx)("input",{value:J(au.address),placeholder:"Enter address",className:"h-9 w-full rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:a=>av(b=>({...b,address:a.target.value}))})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"All employment details are shown above. You can update contact details here."}),(0,b.jsx)("button",{type:"button",onClick:a1,disabled:aI,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save My Profile"})]})]})})]}):(0,b.jsx)(f.default,{title:"No employee selected",subtitle:"Select a record from the directory to manage employee profile data."})}):null,S||"compliance"!==W?null:(0,b.jsx)(e.default,{title:"Government & Compliance IDs",subtitle:"Restricted PII identifiers with controlled update workflow",children:aS?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[O("Data Classification",aS.classification||"Restricted PII"),s.map(a=>O(a.label,aw[a.key],a.key))]}),T?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid gap-2 md:grid-cols-3",children:s.map(a=>(0,b.jsx)("input",{value:aw[a.key],onChange:b=>ax(c=>({...c,[a.key]:b.target.value})),placeholder:a.label,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"},a.key))}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Government identifiers remain classified as Restricted PII."}),(0,b.jsx)("button",{type:"button",onClick:a2,disabled:aI,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save Compliance IDs"})]})]}):(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Sensitive identifiers are role-masked. Contact GRC/HR for compliance updates."})]}):(0,b.jsx)(f.default,{title:"No employee selected",subtitle:"Select a profile to review compliance identifiers."})}),S||"payroll"!==W?null:(0,b.jsx)(e.default,{title:"Payroll Information",subtitle:"Payroll grouping and compensation profile under restricted access",children:aS?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[O("Payroll Group",ay.payrollGroup),t.map(a=>O(a.label,ay[a.key],a.key)),O("Updated At",C(aS.updatedAt))]}),T?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid gap-2 md:grid-cols-3",children:[(0,b.jsx)("input",{value:ay.payrollGroup,onChange:a=>az(b=>({...b,payrollGroup:a.target.value})),placeholder:"Payroll group",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),t.map(a=>(0,b.jsx)("input",{value:ay[a.key],onChange:b=>az(c=>({...c,[a.key]:b.target.value})),placeholder:a.placeholder,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"},a.key))]}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Payroll information is Restricted PII."}),(0,b.jsx)("button",{type:"button",onClick:a3,disabled:aI,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save Payroll Information"})]})]}):(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Payroll values are restricted by role-based masking policy."})]}):(0,b.jsx)(f.default,{title:"No employee selected",subtitle:"Select a profile to view payroll information."})}),S||"access"!==W?null:(0,b.jsx)(e.default,{title:"Access & Role Assignment",subtitle:"Role, manager, and account access controls",children:aS?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[O("Role Assignment",M(aS.role||"EMPLOYEE_L1")),O("Manager",aS.managerEmail||"-"),O("Record Status",aS.status||"-"),O("Last Updated",C(aS.updatedAt))]}),T?(0,b.jsxs)("div",{className:"grid gap-2 md:grid-cols-3",children:[(0,b.jsx)("select",{value:aA.role,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:a=>aB(b=>({...b,role:a.target.value})),children:aT.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))}),(0,b.jsx)("input",{value:aA.managerEmail,placeholder:"Manager email",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:a=>aB(b=>({...b,managerEmail:a.target.value}))}),(0,b.jsx)("select",{value:aA.status,className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",onChange:a=>aB(b=>({...b,status:a.target.value})),children:p.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}):(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Access and role assignment can only be changed by GRC, HR, EA, or Super Admin."}),T?(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("button",{type:"button",onClick:a4,disabled:aI,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Save Access Assignment"})}):null]}):(0,b.jsx)(f.default,{title:"No employee selected",subtitle:"Select a profile to manage access assignments."})}),"documents"===W?(0,b.jsx)(e.default,{title:"Employee Attached Documents",subtitle:"All documents currently attached to this employee record",children:aS?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Attached Files"}),(0,b.jsxs)("p",{className:"mt-1 text-xs text-slate-600",children:[F(aS.documents).length," document(s) linked to this employee."]})]}),T?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>aL.current?.click(),disabled:aI,className:"inline-flex h-8 items-center rounded-lg border border-slate-300 bg-white px-3 text-[11px] font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-70",children:"Upload File"}),(0,b.jsx)("input",{ref:aL,type:"file",className:"hidden",onChange:a$})]}):null]}),0===F(aS.documents).length?(0,b.jsx)(f.default,{title:"No attached documents yet",subtitle:"Upload employee files to build this document list."}):(0,b.jsx)("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Document"}),(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Type"}),(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Size"}),(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Uploaded At"}),(0,b.jsx)("th",{className:"px-3 py-2 font-medium text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:F(aS.documents).map((a,c)=>{let d;return(0,b.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-3 py-2 text-slate-800",children:I(a.name)}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-700",children:I(a.type)}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-700",children:!Number.isFinite(d=Number(a.sizeBytes))||d<=0?"-":d<1024?`${d} B`:d<1048576?`${(d/1024).toFixed(1)} KB`:`${(d/1048576).toFixed(1)} MB`}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-700",children:C(a.uploadedAt)}),(0,b.jsx)("td",{className:"px-3 py-2 text-right",children:(0,b.jsxs)("div",{className:"inline-flex items-center justify-end gap-2",children:[String(a.ref||"").trim()?(0,b.jsx)("button",{type:"button",onClick:()=>{let b,d;return b=E(ak)||E(aS?.id),void((d=String(a?.ref||"").trim())&&(b&&m.hrisApi.employees.logDocumentAccess(b,{documentId:String(a?.id||a?.recordId||c).trim(),documentName:String(a?.name||"").trim(),documentType:String(a?.type||"").trim(),documentRef:d}).catch(()=>null),window.open(d,"_blank","noopener,noreferrer")))},className:"inline-flex h-7 items-center rounded-md border border-sky-200 bg-sky-50 px-2.5 text-[11px] font-semibold text-sky-700 transition hover:bg-sky-100",children:"Open"}):null,T?(0,b.jsx)("button",{type:"button",onClick:()=>a_(c),disabled:aI,className:"inline-flex h-7 items-center rounded-md border border-rose-200 bg-rose-50 px-2.5 text-[11px] font-semibold text-rose-700 transition hover:bg-rose-100 disabled:opacity-70",children:"Remove"}):null]})})]},`${a.name||"document"}-${c}`)})})]})})]}):(0,b.jsx)(f.default,{title:"No employee selected",subtitle:"Select a record to view attached employee documents."})}):null,S||"activity"!==W?null:(0,b.jsx)(e.default,{title:"Recent Activity",subtitle:"Latest change history for the selected employee record",children:aS?0===F(aS.activityHistory).length?(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"No change history yet."}):(0,b.jsx)("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase tracking-[0.08em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Action"}),(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Performed By"}),(0,b.jsx)("th",{className:"px-3 py-2 font-medium",children:"Timestamp"})]})}),(0,b.jsx)("tbody",{children:F(aS.activityHistory).slice(-20).reverse().map((a,d)=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 last:border-b-0",children:[(0,b.jsx)("td",{className:"px-3 py-2 text-slate-800",children:M(a.action||"update")}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c.default,{src:String(a.byAvatar||"").trim()||"/avatars/default-user.svg",alt:`${K(a.byName,a.byEmail||a.by)} profile`,width:28,height:28,className:"h-7 w-7 rounded-full border border-slate-200 bg-white object-cover"}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"truncate text-xs font-medium text-slate-800",children:K(a.byName,a.byEmail||a.by)}),L(a.byEmail,a.by)?(0,b.jsx)("p",{className:"truncate text-[11px] text-slate-500",children:L(a.byEmail,a.by)}):null]})]})}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-700",children:C(a.at)})]},`${a.at||"activity"}-${d}`))})]})}):(0,b.jsx)(f.default,{title:"No employee selected",subtitle:"Open an employee record to review recent activity."})})]}):(0,b.jsx)(f.default,{title:"No employee selected",subtitle:"Open an employee from the directory to view profile, compliance, payroll, and access role details."})})}):(0,b.jsx)("div",{id:"employee-directory",className:"min-w-0",children:(0,b.jsx)(e.default,{title:S?"My Employee Record":"Employee Directory",subtitle:S?"Provide and maintain your personal employee profile details.":"Centralized employee master data with search, filters, and profile routing",action:S?(0,b.jsx)("span",{className:"inline-flex h-9 items-center rounded-lg border border-sky-200 bg-sky-50 px-3 text-xs font-medium text-sky-700",children:"Own profile access only"}):(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)("input",{value:aa,onChange:a=>{ah(1),ab(a.target.value)},placeholder:"Search by name, ID, email",className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none"}),(0,b.jsxs)("select",{value:ac,onChange:a=>{ah(1),ad(a.target.value)},className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"All Status"}),p.map(a=>(0,b.jsx)("option",{value:a.toLowerCase(),children:a},a.toLowerCase()))]}),(0,b.jsxs)("select",{value:ae,onChange:a=>{ah(1),af(a.target.value)},className:"h-9 rounded-lg border border-slate-300 bg-white px-3 text-xs text-slate-800 focus:border-sky-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"All Roles"}),aN.map(a=>(0,b.jsx)("option",{value:a.value.toLowerCase(),children:a.label},a.value))]}),T?(0,b.jsx)("button",{type:"button",onClick:()=>aF(!0),className:"h-9 rounded-lg border border-sky-200 bg-sky-50 px-3 text-xs font-semibold text-sky-700 transition hover:bg-sky-100",children:"Add Employee"}):null]}),children:ai?(0,b.jsxs)("div",{className:"flex min-h-[160px] items-center justify-center",children:[(0,b.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 bg-white",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 animate-spin text-sky-600",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:(0,b.jsx)("path",{d:"M12 3a9 9 0 1 0 9 9"})})}),(0,b.jsx)("span",{className:"sr-only",children:"Loading employee directory..."})]}):0===Y.length?S?(0,b.jsxs)("div",{className:"mx-auto w-full max-w-4xl rounded-2xl border border-sky-100 bg-gradient-to-b from-sky-50/80 to-white p-5",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("p",{className:"text-base font-semibold text-slate-900",children:"Complete My Employee Record"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:"This form is for your own employee profile only. Fill in your details to continue."})]}),(0,b.jsxs)("form",{onSubmit:aX,className:"grid gap-3 md:grid-cols-2",children:[(0,b.jsx)("input",{value:aC.lastName,onChange:aW("lastName"),placeholder:"Last name",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:aC.firstName,onChange:aW("firstName"),placeholder:"First name",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:aC.middleName,onChange:aW("middleName"),placeholder:"Middle name",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:aC.suffix,onChange:aW("suffix"),placeholder:"Suffix (optional)",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:R,disabled:!0,className:"h-10 rounded-lg border border-slate-300 bg-slate-100 px-3 text-sm text-slate-700 md:col-span-2"}),(0,b.jsx)("input",{value:aC.contact,onChange:aW("contact"),placeholder:"Contact number",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:aC.address,onChange:aW("address"),placeholder:"Address",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,b.jsx)("input",{value:aC.emergencyContact,onChange:aW("emergencyContact"),placeholder:"Emergency contact",className:"h-10 rounded-lg border border-slate-300 bg-white px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none md:col-span-2"}),(0,b.jsx)("div",{className:"md:col-span-2 mt-1 flex justify-end",children:(0,b.jsx)("button",{type:"submit",disabled:aI,className:"inline-flex h-10 items-center rounded-lg bg-sky-600 px-4 text-sm font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:aI?"Saving...":"Submit My Record"})})]})]}):(0,b.jsx)(f.default,{title:"No employee records yet",subtitle:"Add a record to initialize the employee directory."}):(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee ID"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Name"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Email"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Department"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Role"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employment"}),(0,b.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:Y.map(a=>(0,b.jsxs)("tr",{className:`border-b border-slate-100 text-slate-700 last:border-b-0 ${a.id===ak?"bg-sky-50/50":""}`,children:[(0,b.jsx)("td",{className:"px-2 py-3 font-mono text-xs",children:a.employeeId||"-"}),(0,b.jsx)("td",{className:"px-2 py-3 font-medium text-slate-900",children:a.name||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.email||"-"}),(0,b.jsx)("td",{className:"px-2 py-3",children:I(a.department)}),(0,b.jsx)("td",{className:"px-2 py-3",children:M(a.role)}),(0,b.jsx)("td",{className:"px-2 py-3",children:(0,b.jsx)(i.default,{value:a.status||"-"})}),(0,b.jsx)("td",{className:"px-2 py-3",children:a.employmentStatus||"-"}),(0,b.jsx)("td",{className:"px-2 py-3 text-right",children:(0,b.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>aP(a),className:"rounded-lg border border-slate-300 bg-white px-2.5 py-1.5 text-xs font-medium text-slate-700 transition hover:bg-slate-50",children:"Open"}),T?(0,b.jsx)("button",{type:"button",onClick:()=>aZ(a.id),disabled:aI,className:"rounded-lg border border-rose-200 bg-rose-50 px-2.5 py-1.5 text-xs font-medium text-rose-700 transition hover:bg-rose-100 disabled:opacity-60",children:"Archive"}):null]})})]},a.id))})]})}),(0,b.jsx)(h.default,{pagination:$,onPageChange:ah})]})})}),a5]})}a.s(["default",()=>P])}];

//# sourceMappingURL=src_components_hris_modules_EmployeeRecordsModule_jsx_51a64ad6._.js.map