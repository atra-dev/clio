(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77135,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(80064);let i={critical:"bg-rose-100 text-rose-700 ring-1 ring-rose-200",high:"bg-orange-100 text-orange-700 ring-1 ring-orange-200",medium:"bg-amber-100 text-amber-700 ring-1 ring-amber-200",low:"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200",open:"bg-cyan-100 text-cyan-700 ring-1 ring-cyan-200",containment:"bg-blue-100 text-blue-700 ring-1 ring-blue-200",investigating:"bg-indigo-100 text-indigo-700 ring-1 ring-indigo-200",escalated:"bg-violet-100 text-violet-700 ring-1 ring-violet-200","regulatory review":"bg-fuchsia-100 text-fuchsia-700 ring-1 ring-fuchsia-200",resolved:"bg-teal-100 text-teal-700 ring-1 ring-teal-200",closed:"bg-slate-200 text-slate-700 ring-1 ring-slate-300",active:"bg-emerald-100 text-emerald-700",approved:"bg-emerald-100 text-emerald-700",completed:"bg-sky-100 text-sky-700",exported:"bg-sky-100 text-sky-700",pending:"bg-amber-100 text-amber-700",rejected:"bg-rose-100 text-rose-700",failed:"bg-rose-100 text-rose-700",archived:"bg-slate-200 text-slate-700","in progress":"bg-indigo-100 text-indigo-700"};function r(e){let r,n,o=(0,a.c)(6),{value:l,className:d}=e,c=i[String(l||"").trim().toLowerCase()]||"bg-slate-100 text-slate-700";o[0]!==d||o[1]!==c?(r=(0,s.cn)("inline-flex rounded-md px-2 py-1 text-xs font-medium",c,d),o[0]=d,o[1]=c,o[2]=r):r=o[2];let p=l||"N/A";return o[3]!==r||o[4]!==p?(n=(0,t.jsx)("span",{className:r,children:p}),o[3]=r,o[4]=p,o[5]=n):n=o[5],n}e.s(["default",()=>r])},46670,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(80064);function i(e){let i,r,n,o=(0,a.c)(12),{tabs:l,value:d,onChange:c,className:p}=e;if(o[0]!==p?(i=(0,s.cn)("flex flex-wrap gap-2",p),o[0]=p,o[1]=i):i=o[1],o[2]!==c||o[3]!==l||o[4]!==d){let e;o[6]!==c||o[7]!==d?(e=e=>{let a=e.id===d;return(0,t.jsx)("button",{type:"button",onClick:()=>c(e.id),className:(0,s.cn)("rounded-lg border px-3 py-1.5 text-xs font-medium transition",a?"border-sky-300 bg-sky-50 text-sky-700":"border-slate-300 bg-white text-slate-700 hover:bg-slate-50"),children:e.label},e.id)},o[6]=c,o[7]=d,o[8]=e):e=o[8],r=l.map(e),o[2]=c,o[3]=l,o[4]=d,o[5]=r}else r=o[5];return o[9]!==i||o[10]!==r?(n=(0,t.jsx)("div",{className:i,children:r}),o[9]=i,o[10]=r,o[11]=n):n=o[11],n}e.s(["default",()=>i])},38418,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(80064);function i(e){let i,r,n,o=(0,a.c)(10),{title:l,subtitle:d,className:c,children:p,action:m}=e;return o[0]!==c?(i=(0,s.cn)("rounded-2xl border border-slate-200 bg-white p-5 shadow-[0_12px_30px_-24px_rgba(15,23,42,0.55)]",c),o[0]=c,o[1]=i):i=o[1],o[2]!==m||o[3]!==d||o[4]!==l?(r=(l||d||m)&&(0,t.jsxs)("header",{className:"mb-4 flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[l&&(0,t.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:l}),d&&(0,t.jsx)("p",{className:"text-sm text-slate-600",children:d})]}),m]}),o[2]=m,o[3]=d,o[4]=l,o[5]=r):r=o[5],o[6]!==p||o[7]!==i||o[8]!==r?(n=(0,t.jsxs)("section",{className:i,children:[r,p]}),o[6]=p,o[7]=i,o[8]=r,o[9]=n):n=o[9],n}e.s(["default",()=>i])},97256,e=>{"use strict";function t(e={}){let a=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{if(null==t)return;let s=String(t).trim();s&&a.set(e,s)});let s=a.toString();return s?`?${s}`:""}async function a(e){if((e.headers.get("content-type")||"").includes("text/csv"))return await e.text();let t=await e.json().catch(()=>({}));if(!e.ok)throw Error(t?.message||"Request failed.");return t}async function s(e,t={}){let i=await fetch(e,{...t,headers:{"Content-Type":"application/json",...t.headers||{}},cache:"no-store"});return await a(i)}async function i(e,t={}){let a=await fetch(e,{...t,cache:"no-store"});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e?.message||"Export failed.")}return await a.text()}e.s(["hrisApi",0,{employees:{list:async(e={})=>await s(`/api/hris/employees${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/employees",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),archive:async e=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify({status:"Archived"})}),logDocumentAccess:async(e,t)=>await s(`/api/hris/employees/${encodeURIComponent(e)}/documents/access`,{method:"POST",body:JSON.stringify(t||{})})},lifecycle:{list:async(e={})=>await s(`/api/hris/lifecycle${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/lifecycle",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),offboard:async(e,t={})=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}/offboard`,{method:"POST",body:JSON.stringify(t)}),approve:async(e,t={})=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}/approve`,{method:"POST",body:JSON.stringify(t)})},attendance:{list:async(e={})=>await s(`/api/hris/attendance${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/attendance",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/attendance/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},leave:{list:async(e={})=>await s(`/api/hris/attendance/leave-requests${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/attendance/leave-requests",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/attendance/leave-requests/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),approve:async(e,{approved:t,approvalNote:a})=>await s(`/api/hris/attendance/leave-requests/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify({status:t?"Approved":"Rejected",approvalNote:a||""})})},performance:{list:async(e={})=>await s(`/api/hris/performance${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/performance",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/performance/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},templates:{list:async(e={})=>await s(`/api/hris/templates${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/templates",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/templates/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),archive:async e=>await s(`/api/hris/templates/${encodeURIComponent(e)}`,{method:"DELETE"})},activityLogs:{list:async(e={})=>await s(`/api/hris/activity-logs${t(e)}`,{method:"GET"}),async exportCsv(e={}){let a=t({...e,export:"csv"});return await i(`/api/hris/activity-logs${a}`,{method:"GET"})}},exports:{list:async(e={})=>await s(`/api/hris/exports${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/exports",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/exports/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),approve:async(e,t)=>await s(`/api/hris/exports/${encodeURIComponent(e)}/approve`,{method:"POST",body:JSON.stringify(t)}),execute:async e=>await i(`/api/hris/exports/${encodeURIComponent(e)}/execute`,{method:"POST"})},retention:{list:async(e={})=>await s(`/api/hris/retention${t(e)}`,{method:"GET"}),purge:async(e={})=>await s("/api/hris/retention",{method:"POST",body:JSON.stringify(e)})},incidents:{list:async(e={})=>await s(`/api/hris/incidents${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/incidents/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/incidents",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/incidents/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},settings:{referenceData:{list:async()=>await s("/api/hris/settings/reference-data",{method:"GET"}),create:async e=>await s("/api/hris/settings/reference-data",{method:"POST",body:JSON.stringify(e)}),remove:async e=>await s("/api/hris/settings/reference-data",{method:"DELETE",body:JSON.stringify(e)})}}}])},93096,e=>{"use strict";var t=e.i(43476),a=e.i(932);function s(e){let s,i,r,n=(0,a.c)(7),{title:o,subtitle:l}=e;return n[0]!==o?(s=(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:o}),n[0]=o,n[1]=s):s=n[1],n[2]!==l?(i=l?(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-600",children:l}):null,n[2]=l,n[3]=i):i=n[3],n[4]!==s||n[5]!==i?(r=(0,t.jsxs)("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50/80 px-4 py-5 text-center",children:[s,i]}),n[4]=s,n[5]=i,n[6]=r):r=n[6],r}e.s(["default",()=>s])},95060,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(38418),i=e.i(93096),r=e.i(46670),n=e.i(77135),o=e.i(97256);let l=[{id:"kpi",label:"KPI Management"},{id:"evaluation",label:"Evaluation Forms"},{id:"reviews",label:"Performance Reviews"},{id:"history",label:"Performance History"},{id:"promotion",label:"Promotion Justification"}],d={employeeEmail:"",employee:"",period:"",kpiScore:"",rating:"",reviewer:"",status:"Draft",selfEvaluation:"",managerEvaluation:"",promotionJustification:""};function c({session:e}){let c,p=e?.role||"EMPLOYEE_L1",m=e?.email||"",x=String(p||"").trim().toUpperCase().startsWith("EMPLOYEE_"),u=!x,[h,y]=(0,a.useState)("kpi"),[g,b]=(0,a.useState)([]),[f,v]=(0,a.useState)(""),[N,w]=(0,a.useState)(d),[j,S]=(0,a.useState)(!0),[E,C]=(0,a.useState)(!1),[T,P]=(0,a.useState)(""),[k,O]=(0,a.useState)(""),R=(0,a.useCallback)(async()=>{S(!0),P("");try{let e=await o.hrisApi.performance.list(x?{employeeEmail:m}:{}),t=Array.isArray(e.records)?e.records:[];b(t),!f&&t[0]?.id&&v(t[0].id)}catch(e){P(e.message||"Unable to load performance records.")}finally{S(!1)}},[m,x,f]);(0,a.useEffect)(()=>{R()},[R]);let J=(0,a.useMemo)(()=>g.find(e=>e.id===f)||null,[g,f]),$=e=>t=>{w(a=>({...a,[e]:t.target.value}))},U=async e=>{if(e.preventDefault(),u){C(!0),P(""),O("");try{await o.hrisApi.performance.create({employeeEmail:N.employeeEmail,employee:N.employee,period:N.period,kpiScore:N.kpiScore,rating:N.rating,reviewer:N.reviewer,status:N.status,evaluationForm:{self:N.selfEvaluation,manager:N.managerEvaluation},promotionJustification:N.promotionJustification}),w(d),O("Performance record created."),await R()}catch(e){P(e.message||"Unable to create performance record.")}finally{C(!1)}}},A=async(e,t)=>{if(f){C(!0),P(""),O("");try{await o.hrisApi.performance.update(f,e),O(t),await R()}catch(e){P(e.message||"Unable to update performance record.")}finally{C(!1)}}};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(r.default,{tabs:l,value:h,onChange:y}),T?(0,t.jsx)("p",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:T}):null,k?(0,t.jsx)("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:k}):null,u?(0,t.jsx)(s.default,{title:"Assign KPI / Create Evaluation",subtitle:"Manager-side KPI assignment and formal review setup",children:(0,t.jsxs)("form",{className:"grid gap-2 md:grid-cols-3",onSubmit:U,children:[(0,t.jsx)("input",{required:!0,value:N.employeeEmail,onChange:$("employeeEmail"),placeholder:"Employee email",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{required:!0,value:N.employee,onChange:$("employee"),placeholder:"Employee name",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:N.period,onChange:$("period"),placeholder:"Period (e.g., Q1 2026)",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:N.kpiScore,onChange:$("kpiScore"),placeholder:"KPI score",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:N.rating,onChange:$("rating"),placeholder:"Rating",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:N.reviewer,onChange:$("reviewer"),placeholder:"Reviewer",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:N.selfEvaluation,onChange:$("selfEvaluation"),placeholder:"Self evaluation notes",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:N.managerEvaluation,onChange:$("managerEvaluation"),placeholder:"Manager evaluation notes",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:N.promotionJustification,onChange:$("promotionJustification"),placeholder:"Promotion justification",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("div",{className:"md:col-span-3",children:(0,t.jsx)("button",{type:"submit",disabled:E,className:"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:E?"Saving...":"Create Performance Record"})})]})}):null,(0,t.jsx)(s.default,{title:"Performance Records",subtitle:"Ratings, review history, and promotion evidence",children:j?(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Loading performance records..."}):0===g.length?(0,t.jsx)(i.default,{title:"No performance records yet",subtitle:"KPI assignment and reviews will appear here."}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Employee"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Period"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"KPI"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Rating"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Reviewer"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:g.map(e=>(0,t.jsxs)("tr",{className:`border-b border-slate-100 text-slate-700 last:border-b-0 ${e.id===f?"bg-sky-50/50":""}`,children:[(0,t.jsxs)("td",{className:"px-2 py-3",children:[(0,t.jsx)("p",{className:"font-medium text-slate-900",children:e.employee||"-"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:e.employeeEmail||"-"})]}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.period||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.kpiScore||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.rating||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.reviewer||"-"}),(0,t.jsx)("td",{className:"px-2 py-3",children:(0,t.jsx)(n.default,{value:e.status||"-"})}),(0,t.jsx)("td",{className:"px-2 py-3 text-right",children:(0,t.jsx)("button",{type:"button",onClick:()=>v(e.id),className:"rounded-lg border border-slate-300 bg-white px-2.5 py-1.5 text-xs font-medium text-slate-700 transition hover:bg-slate-50",children:"Select"})})]},e.id))})]})}),J?(0,t.jsxs)("div",{className:"grid gap-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-3 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Evaluation Form"}),(0,t.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Self:"})," ",J.evaluationForm?.self||"-"]}),(0,t.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Manager:"})," ",J.evaluationForm?.manager||"-"]}),(0,t.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Promotion Justification:"})," ",J.promotionJustification||"-"]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Updated ",Number.isNaN((c=new Date(J.updatedAt||J.createdAt||"")).getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric"}).format(c)]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Actions"}),x?(0,t.jsx)("button",{type:"button",onClick:()=>A({evaluationForm:{...J.evaluationForm||{},self:"Employee self-evaluation submitted"}},"Self-evaluation submitted."),disabled:E,className:"w-full rounded-lg border border-sky-200 bg-sky-50 px-3 py-2 text-xs font-medium text-sky-700 transition hover:bg-sky-100 disabled:opacity-60",children:"Submit Self Evaluation"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{type:"button",onClick:()=>A({status:"Under Review"},"Record set to Under Review."),disabled:E,className:"w-full rounded-lg border border-sky-200 bg-sky-50 px-3 py-2 text-xs font-medium text-sky-700 transition hover:bg-sky-100 disabled:opacity-60",children:"Set Under Review"}),(0,t.jsx)("button",{type:"button",onClick:()=>A({status:"Approved"},"Performance record approved."),disabled:E,className:"w-full rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs font-medium text-emerald-700 transition hover:bg-emerald-100 disabled:opacity-60",children:"Approve"})]})]})]}):null]})})]})}e.s(["default",()=>c])}]);