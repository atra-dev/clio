(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87748,e=>{"use strict";var t=e.i(43476),a=e.i(932),r=e.i(22016),s=e.i(57688),i=e.i(71645),l=e.i(18566),n=e.i(1616),o=e.i(32295),c=e.i(80064);let d={employees:[{id:"profile",label:"Employee Profile"},{id:"compliance",label:"Government & Compliance IDs"},{id:"payroll",label:"Payroll Information"},{id:"access",label:"Access & Role Assignment"},{id:"documents",label:"Employee Attached Documents"},{id:"activity",label:"Recent Activity"}],"employment-lifecycle":[{id:"workflow-status-tracking",label:"Workflow Status Tracking"},{id:"onboarding",label:"Onboarding"},{id:"role-changes",label:"Role Changes"},{id:"disciplinary-records",label:"Disciplinary Records"},{id:"offboarding-access-revocation",label:"Offboarding + Access Revocation"}],"incident-management":[{id:"escalation-plan",label:"Escalation Plan"},{id:"regulatory-72-hour-notification",label:"72-Hour Notification"},{id:"forensic-logging",label:"Forensic Logging"}]},m=new Set(["profile","documents"]);function h(e){let r,s,n,m,h,x,u=(0,a.c)(17),{moduleId:f,moduleHref:g,role:b,visible:v}=e,y=(0,l.usePathname)(),[w,j]=(0,i.useState)("");if(u[0]!==f||u[1]!==b){e:{let e,t=d[f]||[];if("employees"!==f||!("EMPLOYEE"===(e=String(b||"").trim().toUpperCase())||e.startsWith("EMPLOYEE_"))){r=t;break e}r=t.filter(p)}u[0]=f,u[1]=b,u[2]=r}else r=u[2];let N=r;if(u[3]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{let e=()=>{j(String(window.location.hash||"").trim().replace(/^#/,""))};return e(),window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},n=[],u[3]=s,u[4]=n):(s=u[3],n=u[4]),(0,i.useEffect)(s,n),!(void 0===v||v)||y!==g||0===N.length)return null;u[5]!==g||u[6]!==f?(m=e=>{let t=`${g}#${e}`;window.history.pushState(null,"",t),j(e),window.dispatchEvent(new CustomEvent("clio:subtab-anchor",{detail:{moduleId:f,anchor:e}}))},u[5]=g,u[6]=f,u[7]=m):m=u[7];let S=m;if(u[8]!==S||u[9]!==w||u[10]!==N){let e;u[12]!==S||u[13]!==w?(e=(e,a)=>{let r=(0,o.toSubTabAnchor)(e.id),s=w===r||!w&&0===a;return(0,t.jsx)("button",{type:"button",onClick:()=>S(r),className:(0,c.cn)("block w-full rounded-lg border px-2.5 py-1.5 text-left text-[11px] font-medium transition",s?"border-sky-200 bg-sky-50 text-sky-700":"border-transparent text-slate-600 hover:border-slate-200 hover:bg-white hover:text-slate-800"),children:e.label},e.id)},u[12]=S,u[13]=w,u[14]=e):e=u[14],h=N.map(e),u[8]=S,u[9]=w,u[10]=N,u[11]=h}else h=u[11];return u[15]!==h?(x=(0,t.jsx)("div",{className:"mt-1.5 space-y-1.5 pl-12 pr-1",children:h}),u[15]=h,u[16]=x):x=u[16],x}function p(e){return m.has(e.id)}var x=e.i(74923),u=e.i(75686);let f="EMPLOYEE_L1",g=new Set(u.ROLES.map(e=>e.id));function b(e){if("string"!=typeof e)return f;let t=e.trim().toUpperCase();return g.has(t)?t:f}e.i(47167);let v={SUPER_ADMIN:["*"],GRC:["dashboard:view","employees:view","employees:edit","employees:view:sensitive","lifecycle:view","lifecycle:edit","lifecycle:approve","attendance:view","attendance:edit","attendance:approve","performance:view","performance:edit","performance:approve","templates:view","templates:edit","exports:view","exports:manage","exports:approve","exports:request","activity_log:export","activity_log:view","audit:view","access_management:view","retention_archive:view","retention_archive:manage","incident_management:view","incident_management:edit","settings:view","audit:write:nonsensitive","auth:logout","resource:own"],HR:["dashboard:view","employees:view","employees:edit","employees:view:sensitive","lifecycle:view","lifecycle:edit","lifecycle:approve","attendance:view","attendance:edit","attendance:approve","performance:view","performance:edit","performance:approve","templates:view","templates:edit","exports:view","exports:manage","exports:approve","exports:request","activity_log:export","settings:view","audit:write:nonsensitive","auth:logout","resource:own"],EA:["dashboard:view","employees:view","employees:edit","employees:view:sensitive","lifecycle:view","lifecycle:edit","lifecycle:approve","attendance:view","attendance:edit","attendance:approve","performance:view","performance:edit","performance:approve","templates:view","templates:edit","exports:view","exports:manage","exports:approve","exports:request","activity_log:export","settings:view","audit:write:nonsensitive","auth:logout","resource:own"],EMPLOYEE_L1:["dashboard:view","employees:view","employees:edit:self","attendance:view","attendance:edit:self","performance:view","templates:view","requests:view","requests:create:self","exports:request:self","audit:write:nonsensitive","auth:logout","resource:own"],EMPLOYEE_L2:["dashboard:view","employees:view","employees:edit:self","attendance:view","attendance:edit:self","performance:view","templates:view","requests:view","requests:create:self","exports:request:self","audit:write:nonsensitive","auth:logout","resource:own"],EMPLOYEE_L3:["dashboard:view","employees:view","employees:edit:self","attendance:view","attendance:edit:self","performance:view","templates:view","requests:view","requests:create:self","exports:request:self","audit:write:nonsensitive","auth:logout","resource:own"]},y={dashboard:"dashboard:view",employees:"employees:view","employment-lifecycle":"lifecycle:view",attendance:"attendance:view",performance:"performance:view","activity-log":"activity_log:view",exports:"exports:view",documents:"templates:view","access-management":"access_management:view","retention-archive":"retention_archive:view","incident-management":"incident_management:view",requests:"requests:view",settings:"settings:view","user-management":"user_management:view"};var w=e.i(13634),j=e.i(9968);let N=new Map(u.MODULES.map(e=>[String(e?.href||"").trim().toLowerCase(),e.id])),S=new Map(u.MODULES.map(e=>[String(e?.label||"").trim().toLowerCase(),e.id]));function k(e){let t=String(e||"").trim().toUpperCase();return"EMPLOYEE"===t||t.startsWith("EMPLOYEE_")?"Employee":({SUPER_ADMIN:"Super Admin",GRC:"GRC",HR:"HR",EA:"EA"})[t]||"Employee"}function E(e){let t=e?new Date(e):null;return!t||Number.isNaN(t.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}function _(e){let r,s=(0,a.c)(78),{moduleId:i,active:l}=e,n=l?"text-sky-700":"text-slate-500 group-hover:text-slate-700";s[0]!==n?(r=(0,c.cn)("h-4 w-4 transition-colors",n),s[0]=n,s[1]=r):r=s[1];let o=r;switch(i){case"dashboard":{let e,a,r,i,l;return s[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("rect",{x:"3.5",y:"3.5",width:"7",height:"7",rx:"1.2"}),a=(0,t.jsx)("rect",{x:"13.5",y:"3.5",width:"7",height:"4.5",rx:"1.2"}),r=(0,t.jsx)("rect",{x:"13.5",y:"10.5",width:"7",height:"10",rx:"1.2"}),i=(0,t.jsx)("rect",{x:"3.5",y:"13",width:"7",height:"7.5",rx:"1.2"}),s[2]=e,s[3]=a,s[4]=r,s[5]=i):(e=s[2],a=s[3],r=s[4],i=s[5]),s[6]!==o?(l=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[e,a,r,i]}),s[6]=o,s[7]=l):l=s[7],l}case"employees":{let e,a,r,i,l;return s[8]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("circle",{cx:"9",cy:"8.3",r:"3.1"}),a=(0,t.jsx)("path",{d:"M3.8 18.3c0-3.2 2.4-5.2 5.2-5.2s5.2 2 5.2 5.2"}),r=(0,t.jsx)("path",{d:"M15.1 9.3a2.5 2.5 0 1 0 0-5"}),i=(0,t.jsx)("path",{d:"M20 18.2c0-2.3-1.3-3.9-3.4-4.7"}),s[8]=e,s[9]=a,s[10]=r,s[11]=i):(e=s[8],a=s[9],r=s[10],i=s[11]),s[12]!==o?(l=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[e,a,r,i]}),s[12]=o,s[13]=l):l=s[13],l}case"employment-lifecycle":{let e,a,r,i,l,n,c;return s[14]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("path",{d:"M4.5 6.2h15"}),a=(0,t.jsx)("path",{d:"M4.5 12h15"}),r=(0,t.jsx)("path",{d:"M4.5 17.8h15"}),i=(0,t.jsx)("circle",{cx:"7.2",cy:"6.2",r:"1.2"}),l=(0,t.jsx)("circle",{cx:"12",cy:"12",r:"1.2"}),n=(0,t.jsx)("circle",{cx:"16.8",cy:"17.8",r:"1.2"}),s[14]=e,s[15]=a,s[16]=r,s[17]=i,s[18]=l,s[19]=n):(e=s[14],a=s[15],r=s[16],i=s[17],l=s[18],n=s[19]),s[20]!==o?(c=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[e,a,r,i,l,n]}),s[20]=o,s[21]=c):c=s[21],c}case"attendance":{let e,a,r,i;return s[22]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("rect",{x:"4",y:"5.2",width:"16",height:"14.2",rx:"2"}),a=(0,t.jsx)("path",{d:"M8 3.8v2.4M16 3.8v2.4M4 9.2h16"}),r=(0,t.jsx)("path",{d:"m9.1 14 1.9 1.9 4-4"}),s[22]=e,s[23]=a,s[24]=r):(e=s[22],a=s[23],r=s[24]),s[25]!==o?(i=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[e,a,r]}),s[25]=o,s[26]=i):i=s[26],i}case"performance":{let e,a,r,i,l;return s[27]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("path",{d:"M4.2 18.5h15.6"}),a=(0,t.jsx)("rect",{x:"6.2",y:"11.5",width:"2.8",height:"7",rx:"0.8"}),r=(0,t.jsx)("rect",{x:"10.6",y:"8.5",width:"2.8",height:"10",rx:"0.8"}),i=(0,t.jsx)("rect",{x:"15",y:"5.5",width:"2.8",height:"13",rx:"0.8"}),s[27]=e,s[28]=a,s[29]=r,s[30]=i):(e=s[27],a=s[28],r=s[29],i=s[30]),s[31]!==o?(l=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[e,a,r,i]}),s[31]=o,s[32]=l):l=s[32],l}case"activity-log":{let e,a,r;return s[33]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("circle",{cx:"12",cy:"12",r:"8.5"}),a=(0,t.jsx)("path",{d:"M12 7.4v5.1l3.6 2.2"}),s[33]=e,s[34]=a):(e=s[33],a=s[34]),s[35]!==o?(r=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[e,a]}),s[35]=o,s[36]=r):r=s[36],r}case"exports":{let e,a,r,i;return s[37]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("path",{d:"M12 4.2v9.6"}),a=(0,t.jsx)("path",{d:"m8.4 10.1 3.6 3.7 3.6-3.7"}),r=(0,t.jsx)("rect",{x:"4",y:"15.5",width:"16",height:"4.3",rx:"1.2"}),s[37]=e,s[38]=a,s[39]=r):(e=s[37],a=s[38],r=s[39]),s[40]!==o?(i=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[e,a,r]}),s[40]=o,s[41]=i):i=s[41],i}case"access-management":{let e,a,r;return s[42]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("path",{d:"M12 3.8 5.2 6.5v5.3c0 4.1 2.5 7.7 6.8 8.4 4.3-.7 6.8-4.3 6.8-8.4V6.5L12 3.8Z"}),a=(0,t.jsx)("path",{d:"M9.2 12.3 11 14l3.8-3.9"}),s[42]=e,s[43]=a):(e=s[42],a=s[43]),s[44]!==o?(r=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[e,a]}),s[44]=o,s[45]=r):r=s[45],r}case"retention-archive":{let e,a,r,i;return s[46]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("rect",{x:"4.4",y:"5.2",width:"15.2",height:"4.2",rx:"1"}),a=(0,t.jsx)("path",{d:"M6.1 9.6h11.8v8.7a1.7 1.7 0 0 1-1.7 1.7H7.8a1.7 1.7 0 0 1-1.7-1.7V9.6Z"}),r=(0,t.jsx)("path",{d:"M9 13.1h6M9 16h6"}),s[46]=e,s[47]=a,s[48]=r):(e=s[46],a=s[47],r=s[48]),s[49]!==o?(i=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[e,a,r]}),s[49]=o,s[50]=i):i=s[50],i}case"incident-management":{let e,a,r;return s[51]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("path",{d:"m12 3.8 8.1 14.1a1.2 1.2 0 0 1-1 1.8H4.9a1.2 1.2 0 0 1-1-1.8L12 3.8Z"}),a=(0,t.jsx)("path",{d:"M12 9v5.2M12 17.5h.01"}),s[51]=e,s[52]=a):(e=s[51],a=s[52]),s[53]!==o?(r=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[e,a]}),s[53]=o,s[54]=r):r=s[54],r}case"documents":{let e,a,r,i;return s[55]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("path",{d:"M7.5 3.8h7l4 4v12.4a1.8 1.8 0 0 1-1.8 1.8H7.5a1.8 1.8 0 0 1-1.8-1.8V5.6a1.8 1.8 0 0 1 1.8-1.8Z"}),a=(0,t.jsx)("path",{d:"M14.5 3.8v4h4"}),r=(0,t.jsx)("path",{d:"M8.8 13h6.6M8.8 16.4h6.6"}),s[55]=e,s[56]=a,s[57]=r):(e=s[55],a=s[56],r=s[57]),s[58]!==o?(i=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[e,a,r]}),s[58]=o,s[59]=i):i=s[59],i}case"requests":{let e,a,r,i;return s[60]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("rect",{x:"4",y:"4.5",width:"16",height:"15",rx:"2"}),a=(0,t.jsx)("path",{d:"M8 9h8M8 13h5"}),r=(0,t.jsx)("path",{d:"m14 16 2.1 2.1L20 14.2"}),s[60]=e,s[61]=a,s[62]=r):(e=s[60],a=s[61],r=s[62]),s[63]!==o?(i=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[e,a,r]}),s[63]=o,s[64]=i):i=s[64],i}case"settings":{let e,a,r;return s[65]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("path",{d:"M9.9 4.8h4.2l.7 2 2.1.9 1.9-1.1 2.1 3.6-1.6 1.4v2.4l1.6 1.4-2.1 3.6-1.9-1.1-2.1.9-.7 2H9.9l-.7-2-2.1-.9-1.9 1.1-2.1-3.6 1.6-1.4v-2.4l-1.6-1.4 2.1-3.6 1.9 1.1 2.1-.9.7-2Z"}),a=(0,t.jsx)("circle",{cx:"12",cy:"12",r:"2.7"}),s[65]=e,s[66]=a):(e=s[65],a=s[66]),s[67]!==o?(r=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[e,a]}),s[67]=o,s[68]=r):r=s[68],r}case"user-management":{let e,a,r,i,l;return s[69]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("circle",{cx:"8.2",cy:"8.4",r:"2.6"}),a=(0,t.jsx)("circle",{cx:"16.1",cy:"9.6",r:"2.2"}),r=(0,t.jsx)("path",{d:"M3.9 18.7c0-2.9 2.1-4.8 4.8-4.8s4.8 1.9 4.8 4.8"}),i=(0,t.jsx)("path",{d:"M13.4 18.3c.3-2 1.7-3.4 3.9-3.4 2.1 0 3.4 1.1 3.8 2.9"}),s[69]=e,s[70]=a,s[71]=r,s[72]=i):(e=s[69],a=s[70],r=s[71],i=s[72]),s[73]!==o?(l=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[e,a,r,i]}),s[73]=o,s[74]=l):l=s[74],l}default:{let e,a;return s[75]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("circle",{cx:"12",cy:"12",r:"3"}),s[75]=e):e=s[75],s[76]!==o?(a=(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:o,"aria-hidden":"true",children:e}),s[76]=o,s[77]=a):a=s[77],a}}}function P(e){let r,s,i,l,n=(0,a.c)(5),{className:o}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("rect",{x:"3.6",y:"4.6",width:"16.8",height:"14.8",rx:"2.2"}),s=(0,t.jsx)("path",{d:"M9 4.8v14.4"}),i=(0,t.jsx)("path",{d:"m14.9 9-2.7 3 2.7 3"}),n[0]=r,n[1]=s,n[2]=i):(r=n[0],s=n[1],i=n[2]),n[3]!==o?(l=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[r,s,i]}),n[3]=o,n[4]=l):l=n[4],l}function C(e){let r,s,i,l,n=(0,a.c)(5),{className:o}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("rect",{x:"3.6",y:"4.6",width:"16.8",height:"14.8",rx:"2.2"}),s=(0,t.jsx)("path",{d:"M9 4.8v14.4"}),i=(0,t.jsx)("path",{d:"m13 9 2.8 3-2.8 3"}),n[0]=r,n[1]=s,n[2]=i):(r=n[0],s=n[1],i=n[2]),n[3]!==o?(l=(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:o,"aria-hidden":"true",children:[r,s,i]}),n[3]=o,n[4]=l):l=n[4],l}function M({children:e,session:a}){var o;let d,m,p,f,g=(0,l.usePathname)(),M=(0,l.useRouter)(),U=(0,x.useToast)(),L=b(a?.role),[A,D]=(0,i.useState)(!1),[O,R]=(0,i.useState)(!1),T=a?.email??"user@gmail.com",[I,B]=(0,i.useState)(null),[W,q]=(0,i.useState)({firstName:"",middleName:"",lastName:"",profilePhotoDataUrl:"",profilePhotoStoragePath:""}),[Y,$]=(0,i.useState)(!0),[H,G]=(0,i.useState)(!1),[z,J]=(0,i.useState)(!1),[F,Z]=(0,i.useState)([]),[V,K]=(0,i.useState)(0),[Q,X]=(0,i.useState)(!1),[ee,et]=(0,i.useState)(!1),[ea,er]=(0,i.useState)(!1),[es,ei]=(0,i.useState)(!1),[el,en]=(0,i.useState)(!1),[eo,ec]=(0,i.useState)(!1),[ed,em]=(0,i.useState)({role:String(a?.role||""),employmentRole:String(a?.role||""),employeeId:"-",employeeName:"-",employeeEmail:T,department:"-",jobTitle:"-",employmentStatus:"-",recordStatus:"-",managerEmail:"-",hireDate:"-",lastLoginAt:null,lastActiveIp:"unknown",lastActiveDevice:"Unknown device",recentActivity:[]}),eh=(0,i.useRef)(null),ep=(0,i.useRef)(null),ex=(0,i.useRef)(null),eu=(0,i.useRef)(null),ef=(0,i.useRef)(null),eg=(0,i.useMemo)(()=>(0,w.formatPersonName)({firstName:I?.firstName,middleName:I?.middleName,lastName:I?.lastName,fallbackEmail:T,fallbackLabel:"Clio User"}),[I?.firstName,I?.middleName,I?.lastName,T]),eb=(0,i.useMemo)(()=>eg.split(" ").filter(Boolean).map(e=>e.charAt(0).toUpperCase()).slice(0,2).join("")||"CU",[eg]),ev=(0,i.useMemo)(()=>String(I?.profilePhotoDataUrl||"").trim()||"",[I]);(0,i.useEffect)(()=>{R("true"===window.localStorage.getItem("clio_sidebar_collapsed"))},[]),(0,i.useEffect)(()=>{window.localStorage.setItem("clio_sidebar_collapsed",String(O))},[O]),(0,i.useEffect)(()=>{let e=!0;return async function(){$(!0);try{let t=await fetch("/api/auth/profile",{method:"GET",cache:"no-store"}),a=await t.json().catch(()=>({}));if(!t.ok)throw Error(a?.message||"Unable to load account profile.");if(!e)return;let r={firstName:String(a?.firstName||""),middleName:String(a?.middleName||""),lastName:String(a?.lastName||""),profilePhotoDataUrl:String(a?.profilePhotoDataUrl||""),profilePhotoStoragePath:String(a?.profilePhotoStoragePath||"")};B(r),q(r)}catch(t){e&&U.error(t.message||"Unable to load account profile.")}finally{e&&$(!1)}}(),()=>{e=!1}},[U,T]);let ey=(0,i.useCallback)(async({quiet:e=!1}={})=>{e||X(!0);try{let e=await fetch("/api/notifications?status=all&limit=16",{method:"GET",cache:"no-store"}),t=await e.json().catch(()=>({}));if(!e.ok)throw Error(t?.message||"Unable to load notifications.");Z(Array.isArray(t?.records)?t.records:[]),K(Number(t?.unreadCount||0))}catch(t){e||U.error(t.message||"Unable to load notifications.")}finally{e||X(!1)}},[U]);(0,i.useEffect)(()=>{ey().catch(()=>null);let e=window.setInterval(()=>{ey({quiet:!0}).catch(()=>null)},3e4);return()=>{window.clearInterval(e)}},[ey]),(0,i.useEffect)(()=>{if(!H&&!z)return;let e=e=>{"Escape"===e.key&&(ea||es||eo||G(!1),ee||J(!1))},t=e=>{let t=e.target;if(!(t instanceof Node))return;let a=ef.current?.contains(t)||eu.current?.contains(t),r=ex.current?.contains(t)||ep.current?.contains(t);a||r||(ea||es||eo||G(!1),ee||J(!1))};return window.addEventListener("keydown",e),window.addEventListener("mousedown",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("mousedown",t)}},[ee,z,H,eo,ea,es]);let ew=(0,i.useMemo)(()=>{let e,t;return e=b(L),t=new Set(u.MODULE_ACCESS[e]??[]),u.MODULES.filter(e=>t.has(e.id))},[L]),ej=new Intl.DateTimeFormat("en-US",{dateStyle:"medium"}).format(new Date),eN=k(ed.role||L),eS=(d=String(ed.employmentRole||ed.role||L||"").trim().toUpperCase(),(m={EMPLOYEE:"Employee",EMPLOYEE_L1:"Employee (L1)",EMPLOYEE_L2:"Employee (L2)",EMPLOYEE_L3:"Employee (L3)"})[d]?m[d]:k(d)),ek=Array.isArray(ed.recentActivity)?ed.recentActivity.slice(0,5):[],eE=(0,i.useCallback)(e=>{if(!String(e?.actionUrl||"").trim())return!1;let t=function(e){let t=function(e){let t=String(e||"").trim();if(!t)return"";try{let e=window.location.origin;return String(new URL(t,e).pathname||"").trim().toLowerCase()}catch{return t.split("?")[0].split("#")[0].trim().toLowerCase()}}(e?.actionUrl);if(t){let e=t.replace(/^\/+/,"").split("/")[0],a=N.get(`/${e}`);if(a)return a}let a=String(e?.module||"").trim().toLowerCase();return S.get(a)||""}(e);return!!t&&function(e,t){let a=b(e);if(!new Set(u.MODULE_ACCESS[a]??[]).has(t))return!1;let r=y[t];if(!r)return!0;let s=v[b(a)]??[];return s.includes("*")||s.includes(r)}(L,t)},[L]);(0,i.useEffect)(()=>{ew.forEach(e=>{M.prefetch(e.href)})},[ew,M]);let e_=async()=>{D(!0);try{await fetch("/api/auth/logout",{method:"POST"})}finally{M.replace("/login"),M.refresh()}},eP=()=>{ea||es||eo||G(!1)},eC=async e=>{let t=String(e?.id||e?.recordId||"").trim();if(t&&"read"!==String(e?.status||"").trim().toLowerCase()){et(!0);try{let e=await fetch(`/api/notifications/${encodeURIComponent(t)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({read:!0})}),a=await e.json().catch(()=>({}));if(!e.ok)throw Error(a?.message||"Unable to update notification.");Z(e=>e.map(e=>String(e?.id||e?.recordId||"").trim()===t?{...e,status:"read",readAt:new Date().toISOString()}:e)),K(e=>Math.max(0,e-1))}catch(e){U.error(e.message||"Unable to update notification.")}finally{et(!1)}}},eM=async()=>{if(!ee){et(!0);try{let e=await fetch("/api/notifications/read-all",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limit:200})}),t=await e.json().catch(()=>({}));if(!e.ok)throw Error(t?.message||"Unable to mark notifications as read.");Z(e=>e.map(e=>({...e,status:"read",readAt:e?.readAt||new Date().toISOString()}))),K(0)}catch(e){U.error(e.message||"Unable to mark notifications as read.")}finally{et(!1)}}},eU=async e=>{if(!eE(e))return;await eC(e);let t=String(e?.actionUrl||"").trim();t&&(J(!1),M.push(t))},eL=async()=>{en(!0);try{let e=await fetch("/api/auth/profile/activity",{method:"GET",cache:"no-store"}),t=await e.json().catch(()=>({}));if(!e.ok)throw Error(t?.message||"Unable to load account insights.");em(e=>({...e,role:String(t?.role||e.role||a?.role||""),employmentRole:String(t?.employmentRole||e.employmentRole||t?.role||e.role||a?.role||""),employeeId:String(t?.employeeId||"-"),employeeName:String(t?.employeeName||"-"),employeeEmail:String(t?.employeeEmail||T),department:String(t?.department||"-"),jobTitle:String(t?.jobTitle||"-"),employmentStatus:String(t?.employmentStatus||"-"),recordStatus:String(t?.recordStatus||"-"),managerEmail:String(t?.managerEmail||"-"),hireDate:String(t?.hireDate||"-"),lastLoginAt:t?.lastLoginAt||null,lastActiveIp:String(t?.lastActiveIp||"unknown"),lastActiveDevice:String(t?.lastActiveDevice||"Unknown device"),recentActivity:Array.isArray(t?.recentActivity)?t.recentActivity:[]}))}catch(e){U.error(e.message||"Unable to load account insights.")}finally{en(!1)}},eA=e=>t=>{q(a=>({...a,[e]:t.target.value}))},eD=async e=>{let t=e.target.files?.[0];if(t){if(!["image/png","image/jpeg","image/jpg","image/webp"].includes(String(t.type||"").toLowerCase())){U.error("Only PNG, JPG, or WEBP images are allowed."),e.target.value="";return}if(t.size>1e6){U.error("Profile picture must be 1MB or below."),e.target.value="";return}ei(!0);try{let e=await (0,j.uploadProfilePhotoToStorage)({file:t,userEmail:T});q(t=>({...t,profilePhotoDataUrl:e.downloadUrl,profilePhotoStoragePath:e.storagePath})),U.success("Profile photo uploaded to secure storage.")}catch(e){U.error(e.message||"Unable to upload profile photo.")}finally{ei(!1),e.target.value=""}}},eO=async()=>{if(!es&&!eo){er(!0);try{let e=String(I?.profilePhotoStoragePath||"").trim(),t=await fetch("/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:W.firstName,middleName:W.middleName,lastName:W.lastName,profilePhotoDataUrl:W.profilePhotoDataUrl||null,profilePhotoStoragePath:W.profilePhotoStoragePath||null})}),a=await t.json().catch(()=>({}));if(!t.ok)throw Error(a?.message||"Unable to save profile.");let r={firstName:String(a?.profile?.firstName||""),middleName:String(a?.profile?.middleName||""),lastName:String(a?.profile?.lastName||""),profilePhotoDataUrl:String(a?.profile?.profilePhotoDataUrl||""),profilePhotoStoragePath:String(a?.profile?.profilePhotoStoragePath||"")};B(r),q(r),G(!1);let s=String(r.profilePhotoStoragePath||"").trim();e&&e!==s&&(0,j.removeStorageObjectByPath)(e).catch(()=>null),U.success("Profile updated.")}catch(e){U.error(e.message||"Unable to save profile.")}finally{er(!1)}}},eR=async()=>{if(!ea&&!es&&!A&&!eo){ec(!0);try{let e=await fetch("/api/auth/sessions/revoke",{method:"POST"}),t=await e.json().catch(()=>({}));if(!e.ok)throw Error(t?.message||"Unable to revoke active sessions.");U.success("All active sessions were signed out."),G(!1),M.replace("/login"),M.refresh()}catch(e){U.error(e.message||"Unable to revoke active sessions.")}finally{ec(!1)}}};return(0,t.jsxs)("div",{className:"h-dvh w-full overflow-hidden bg-slate-100/80",children:[(0,t.jsx)("a",{href:"#main-content",className:"sr-only rounded-lg bg-white px-4 py-2 text-sm text-slate-900 focus:not-sr-only",children:"Skip to main content"}),(0,t.jsxs)("div",{className:(0,c.cn)("grid h-full w-full gap-0 lg:transition-[grid-template-columns] lg:duration-500 lg:ease-[cubic-bezier(0.22,1,0.36,1)]",O?"lg:grid-cols-[88px_minmax(0,1fr)]":"lg:grid-cols-[280px_minmax(0,1fr)]"),children:[(0,t.jsx)("aside",{className:(0,c.cn)("h-full border-r border-slate-200 bg-[linear-gradient(180deg,#f8fbff_0%,#f2f7fc_45%,#eef3f8_100%)] p-5 lg:overflow-hidden lg:transition-[padding] lg:duration-500 lg:ease-[cubic-bezier(0.22,1,0.36,1)]",O?"lg:px-3.5 lg:py-5":"lg:p-6"),children:(0,t.jsxs)("div",{className:"flex h-full min-h-0 flex-col",children:[(0,t.jsxs)("div",{className:(0,c.cn)("flex transition-all duration-300 ease-out",O?"flex-col items-center gap-2":"items-center justify-between"),children:[(0,t.jsx)(n.default,{href:"/dashboard",iconOnly:O}),(0,t.jsx)("button",{type:"button",onClick:()=>{R(e=>!e)},className:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:border-slate-400 hover:bg-slate-50 hover:text-slate-900","aria-label":O?"Open sidebar":"Close sidebar",title:O?"Open sidebar":"Close sidebar",children:O?(0,t.jsx)(C,{className:"h-4 w-4"}):(0,t.jsx)(P,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:(0,c.cn)("mt-7 min-h-0 flex-1",O&&"mt-6"),children:[(0,t.jsx)("div",{className:(0,c.cn)("overflow-hidden px-1 transition-all duration-300 ease-out",O?"max-h-0 opacity-0":"max-h-6 opacity-100"),children:(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.14em] text-sky-700/80",children:"Navigation"})}),(0,t.jsx)("nav",{className:"mt-2 max-h-full space-y-1 overflow-y-auto pr-1 pb-3 [scrollbar-color:#bfdbfe_transparent] [scrollbar-width:thin]","aria-label":"Main navigation",children:ew.map(e=>{var a,s;let i=g===e.href,l=(a=e.id,s=e.label,String(L||"").trim().toUpperCase().startsWith("EMPLOYEE_")&&({employees:"My Profile",attendance:"My Attendance",performance:"My Performance",documents:"My Documents"})[a]||s);return(0,t.jsxs)("div",{children:[(0,t.jsxs)(r.default,{href:e.href,prefetch:!0,"aria-current":i?"page":void 0,title:O?l:void 0,className:(0,c.cn)("group flex items-center gap-2.5 rounded-lg border py-2 text-[13px] transition",O?"justify-center px-2.5":"px-3",i?"border-sky-200 bg-white text-sky-700 shadow-[0_12px_28px_-20px_rgba(14,116,214,0.8)]":"border-transparent text-slate-700 hover:border-slate-200/90 hover:bg-white/75"),children:[(0,t.jsx)("span",{className:(0,c.cn)("inline-flex h-7 w-7 shrink-0 items-center justify-center rounded-md border transition",i?"border-sky-200 bg-sky-50":"border-slate-200 bg-white"),children:(0,t.jsx)(_,{moduleId:e.id,active:i})}),(0,t.jsx)("span",{className:(0,c.cn)("overflow-hidden whitespace-nowrap font-medium leading-none transition-all duration-300 ease-out",i?"text-sky-700":"text-slate-800",O?"max-w-0 -translate-x-2 opacity-0":"max-w-[11.5rem] translate-x-0 opacity-100"),children:l})]}),(0,t.jsx)(h,{moduleId:e.id,moduleHref:e.href,role:L,visible:!O})]},e.id)})})]}),(0,t.jsx)("div",{className:"mt-auto shrink-0 pt-2"})]})}),(0,t.jsxs)("div",{className:"flex min-h-0 min-w-0 flex-col overflow-hidden",children:[(0,t.jsxs)("header",{className:"shrink-0 flex flex-col gap-3 border-b border-slate-200 bg-white/90 px-5 py-4 sm:flex-row sm:items-center sm:justify-between lg:px-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900",children:"Clio HRIS Workspace"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Today: ",ej]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{ref:ep,type:"button",onClick:()=>{z?J(!1):(G(!1),J(!0),ey({quiet:!0}).catch(()=>null))},className:"relative inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-300 bg-white text-slate-700 transition hover:border-sky-300 hover:bg-sky-50/60","aria-label":"Open notifications","aria-expanded":z,title:"Notifications",children:[(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-4.5 w-4.5","aria-hidden":"true",children:[(0,t.jsx)("path",{d:"M7.3 10.2a4.7 4.7 0 1 1 9.4 0v3.3l1.4 2v1h-12v-1l1.2-2v-3.3"}),(0,t.jsx)("path",{d:"M10.1 17.6a2.1 2.1 0 0 0 3.8 0"})]}),V>0?(0,t.jsx)("span",{className:"absolute -right-1.5 -top-1.5 inline-flex min-w-5 items-center justify-center rounded-full bg-rose-600 px-1.5 py-0.5 text-[10px] font-semibold text-white",children:V>99?"99+":V}):null]}),(0,t.jsxs)("div",{ref:ex,role:"dialog","aria-label":"Notifications","aria-hidden":!z,className:(0,c.cn)("absolute right-0 top-[calc(100%+0.55rem)] z-50 w-[min(92vw,24rem)] max-h-[calc(100dvh-8rem)] overflow-y-auto rounded-2xl border border-slate-200 bg-white p-3 shadow-[0_20px_50px_-30px_rgba(15,23,42,0.45)] transition-all duration-200",z?"pointer-events-auto translate-y-0 opacity-100":"pointer-events-none -translate-y-2 opacity-0"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 pb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Notifications"}),(0,t.jsx)("p",{className:"text-[11px] text-slate-500",children:V>0?`${V} unread alert${1===V?"":"s"}`:"No unread alerts"})]}),(0,t.jsx)("button",{type:"button",onClick:eM,disabled:ee||0===V,className:"inline-flex h-7 items-center rounded-md border border-slate-300 bg-white px-2.5 text-[11px] font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-60",children:"Mark all read"})]}),(0,t.jsx)("div",{className:"mt-2",children:Q?(0,t.jsx)("div",{className:"flex justify-center py-6",children:(0,t.jsx)("span",{className:"inline-flex h-5 w-5 animate-spin rounded-full border-2 border-slate-300 border-t-sky-600","aria-hidden":"true"})}):0===F.length?(0,t.jsx)("p",{className:"rounded-lg border border-dashed border-slate-300 px-3 py-4 text-center text-xs text-slate-500",children:"No notifications yet."}):(0,t.jsx)("ul",{className:"space-y-2",children:F.map(e=>{let a,r=String(e?.id||e?.recordId||"").trim()||`${e?.title}-${e?.createdAt}`,s="read"!==String(e?.status||"").trim().toLowerCase(),i=eE(e);return(0,t.jsx)("li",{children:(0,t.jsxs)("button",{type:"button",onClick:()=>eU(e),disabled:!i,"aria-disabled":!i,title:i?"Open notification":"You do not have access to open this notification target.",className:(0,c.cn)("w-full rounded-lg border px-2.5 py-2 text-left transition",i?"hover:bg-slate-50":"cursor-default",s?"border-sky-200 bg-sky-50/50":"border-slate-200 bg-white"),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-slate-900",children:String(e?.title||"Security notification")}),(0,t.jsx)("span",{className:(0,c.cn)("inline-flex shrink-0 rounded-full border px-1.5 py-0.5 text-[10px] font-semibold capitalize","critical"===(a=String(e?.severity||"").trim().toLowerCase())?"border-rose-200 bg-rose-50 text-rose-700":"high"===a?"border-amber-200 bg-amber-50 text-amber-700":"low"===a?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-sky-200 bg-sky-50 text-sky-700"),children:String(e?.severity||"medium")})]}),(0,t.jsx)("p",{className:"mt-1 text-[11px] text-slate-600",children:String(e?.message||"")}),i?null:(0,t.jsx)("p",{className:"mt-1 text-[10px] font-medium text-slate-500",children:"Read-only alert for visibility."}),(0,t.jsxs)("p",{className:"mt-1 text-[10px] text-slate-500",children:[function(e){let t=e?new Date(e):null;if(!t||Number.isNaN(t.getTime()))return"Just now";let a=Math.floor((Date.now()-t.getTime())/6e4);if(a<=0)return"Just now";if(a<60)return`${a}m ago`;let r=Math.floor(a/60);if(r<24)return`${r}h ago`;let s=Math.floor(r/24);return s<7?`${s}d ago`:E(t.toISOString())}(e?.createdAt)," | ",String(e?.module||"System")]})]})},r)})})})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{ref:eu,type:"button",onClick:()=>{H?eP():(q({firstName:String(I?.firstName||""),middleName:String(I?.middleName||""),lastName:String(I?.lastName||""),profilePhotoDataUrl:String(I?.profilePhotoDataUrl||""),profilePhotoStoragePath:String(I?.profilePhotoStoragePath||"")}),J(!1),G(!0),eL())},disabled:Y,className:"inline-flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-2.5 py-1.5 text-left transition hover:border-sky-300 hover:bg-sky-50/50 disabled:cursor-wait disabled:opacity-70","aria-label":"Open account profile",title:"Account profile","aria-expanded":H,children:[ev?(0,t.jsx)("span",{className:"inline-flex h-8 w-8 items-center justify-center overflow-hidden rounded-lg border border-slate-200 bg-white",children:(0,t.jsx)(s.default,{src:ev,alt:"Profile picture",width:32,height:32,className:"h-full w-full object-cover",unoptimized:!0})}):(0,t.jsx)("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-slate-900 text-xs font-semibold text-white",children:eb}),(0,t.jsxs)("span",{className:"hidden text-left sm:block",children:[(0,t.jsx)("p",{className:"max-w-[12rem] truncate text-xs font-semibold text-slate-900",children:eg}),(0,t.jsx)("p",{className:"max-w-[12rem] truncate text-[11px] text-slate-500",children:T})]}),(0,t.jsx)("span",{className:"inline-flex h-5 w-5 items-center justify-center text-slate-400",children:(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-3.5 w-3.5","aria-hidden":"true",children:(0,t.jsx)("path",{d:"m6.7 9.3 5.3 5.4 5.3-5.4"})})})]}),(0,t.jsxs)("div",{ref:ef,role:"dialog","aria-label":"Account profile","aria-hidden":!H,className:(0,c.cn)("absolute right-0 top-[calc(100%+0.6rem)] z-50 w-[min(94vw,42rem)] max-h-[calc(100dvh-7rem)] origin-top-right overflow-y-auto overscroll-contain rounded-2xl border border-slate-200 bg-white p-4 shadow-[0_22px_60px_-28px_rgba(15,23,42,0.45)] transition-all duration-200 sm:p-5",H?"pointer-events-auto translate-y-0 opacity-100":"pointer-events-none -translate-y-2 opacity-0"),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:"Account Profile"}),(0,t.jsx)("p",{className:"mt-0.5 text-sm text-slate-600",children:"Update your name and profile picture."})]}),(0,t.jsx)("button",{type:"button",onClick:eP,disabled:ea||es||eo,className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-600 transition hover:bg-slate-50 disabled:opacity-70","aria-label":"Close profile panel",children:(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.9",className:"h-4 w-4","aria-hidden":"true",children:(0,t.jsx)("path",{d:"m6 6 12 12M18 6 6 18"})})})]}),(0,t.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[W.profilePhotoDataUrl?(0,t.jsx)("span",{className:"inline-flex h-14 w-14 items-center justify-center overflow-hidden rounded-xl border border-slate-200 bg-white",children:(0,t.jsx)(s.default,{src:W.profilePhotoDataUrl,alt:"Profile preview",width:56,height:56,className:"h-full w-full object-cover",unoptimized:!0})}):(0,t.jsx)("span",{className:"inline-flex h-14 w-14 items-center justify-center rounded-xl bg-slate-900 text-sm font-semibold text-white",children:eb}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>eh.current?.click(),disabled:es||ea||eo,className:"inline-flex h-9 items-center rounded-lg border border-slate-300 bg-white px-3 text-xs font-semibold text-slate-700 transition hover:bg-slate-50",children:es?"Uploading...":"Upload Photo"}),(0,t.jsx)("button",{type:"button",onClick:()=>{q(e=>({...e,profilePhotoDataUrl:"",profilePhotoStoragePath:""}))},disabled:es||ea||eo,className:"inline-flex h-9 items-center rounded-lg border border-rose-200 bg-rose-50 px-3 text-xs font-semibold text-rose-700 transition hover:bg-rose-100",children:"Remove"}),(0,t.jsx)("input",{ref:eh,type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp",className:"hidden",onChange:eD})]})]}),(0,t.jsxs)("div",{className:"grid gap-2.5 sm:grid-cols-3",children:[(0,t.jsx)("input",{value:W.firstName,onChange:eA("firstName"),placeholder:"First name",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:W.middleName,onChange:eA("middleName"),placeholder:"Middle name",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{value:W.lastName,onChange:eA("lastName"),placeholder:"Last name",className:"h-10 rounded-lg border border-slate-300 px-3 text-sm text-slate-900 focus:border-sky-400 focus:outline-none"})]}),(0,t.jsx)("section",{className:"rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:(0,t.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Account Role"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900",children:eN})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employment Role"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900",children:eS})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employee ID"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900",children:ed.employeeId||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employee Name"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900",children:ed.employeeName||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employee Email"}),(0,t.jsx)("p",{className:"truncate text-sm font-medium text-slate-900",children:ed.employeeEmail||T})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Department"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900",children:ed.department||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Position"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900",children:ed.jobTitle||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employment Status"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900",children:ed.employmentStatus||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Record Status"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900",children:ed.recordStatus||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Employment Start Date"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900",children:!(p=(o=ed.hireDate)?new Date(o):null)||Number.isNaN(p.getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric"}).format(p)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Manager"}),(0,t.jsx)("p",{className:"truncate text-sm font-medium text-slate-900",children:ed.managerEmail||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Last Login"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900",children:E(ed.lastLoginAt)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Last Active"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900",children:ed.lastActiveDevice||"Unknown device"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Source IP"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900",children:(f=String(ed.lastActiveIp||"").trim())&&"unknown"!==f.toLowerCase()?new Set(["::1","127.0.0.1","::ffff:127.0.0.1"]).has(f.toLowerCase())?`Localhost (${f})`:f:"Unknown"})]})]})}),(0,t.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Recent Account Activity"}),el?(0,t.jsx)("span",{className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-slate-300 border-t-sky-600","aria-hidden":"true"}):null]}),el?(0,t.jsx)("div",{className:"flex justify-center py-3",children:(0,t.jsx)("span",{className:"inline-flex h-5 w-5 animate-spin rounded-full border-2 border-slate-300 border-t-sky-600","aria-hidden":"true"})}):0===ek.length?(0,t.jsx)("p",{className:"mt-2 text-xs text-slate-500",children:"No recent account activity."}):(0,t.jsx)("ul",{className:"mt-2 space-y-2",children:ek.map(e=>(0,t.jsxs)("li",{className:"rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-slate-800",children:e.activityName}),(0,t.jsxs)("p",{className:"mt-0.5 text-[11px] text-slate-500",children:[e.module," | ",e.status," | ",e.relativeTime||e.loggedAt]})]},e.id||`${e.activityName}-${e.loggedAt}`))})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:e_,disabled:A||ea||es||eo,className:"inline-flex h-9 items-center rounded-lg border border-rose-200 bg-rose-50 px-3 text-xs font-semibold text-rose-700 transition hover:bg-rose-100 disabled:opacity-70",children:A?"Signing out...":"Sign out"}),(0,t.jsx)("button",{type:"button",onClick:eR,disabled:eo||A||ea||es,className:"inline-flex h-9 items-center rounded-lg border border-amber-300 bg-amber-50 px-3 text-xs font-semibold text-amber-800 transition hover:bg-amber-100 disabled:opacity-70",children:eo?"Revoking...":"Sign out all devices"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:eP,disabled:ea||es||eo,className:"inline-flex h-9 items-center rounded-lg border border-slate-300 bg-white px-3 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-70",children:"Cancel"}),(0,t.jsx)("button",{type:"button",onClick:eO,disabled:ea||es||eo,className:"inline-flex h-9 items-center rounded-lg bg-sky-600 px-3 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:es?"Uploading...":ea?"Saving...":"Save Profile"})]})]})]})]})]})]}),(0,t.jsx)("main",{id:"main-content",className:"min-h-0 flex-1 overflow-y-auto bg-slate-100/70 px-5 py-5 sm:px-6 sm:py-6 lg:px-8 lg:py-7",children:e})]})]})]})}e.s(["default",()=>M],87748)}]);