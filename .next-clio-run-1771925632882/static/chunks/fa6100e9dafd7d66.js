(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77135,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(80064);let i={critical:"bg-rose-100 text-rose-700 ring-1 ring-rose-200",high:"bg-orange-100 text-orange-700 ring-1 ring-orange-200",medium:"bg-amber-100 text-amber-700 ring-1 ring-amber-200",low:"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200",open:"bg-cyan-100 text-cyan-700 ring-1 ring-cyan-200",containment:"bg-blue-100 text-blue-700 ring-1 ring-blue-200",investigating:"bg-indigo-100 text-indigo-700 ring-1 ring-indigo-200",escalated:"bg-violet-100 text-violet-700 ring-1 ring-violet-200","regulatory review":"bg-fuchsia-100 text-fuchsia-700 ring-1 ring-fuchsia-200",resolved:"bg-teal-100 text-teal-700 ring-1 ring-teal-200",closed:"bg-slate-200 text-slate-700 ring-1 ring-slate-300",active:"bg-emerald-100 text-emerald-700",approved:"bg-emerald-100 text-emerald-700",completed:"bg-sky-100 text-sky-700",exported:"bg-sky-100 text-sky-700",pending:"bg-amber-100 text-amber-700",rejected:"bg-rose-100 text-rose-700",failed:"bg-rose-100 text-rose-700",archived:"bg-slate-200 text-slate-700","in progress":"bg-indigo-100 text-indigo-700"};function r(e){let r,n,o=(0,a.c)(6),{value:l,className:d}=e,c=i[String(l||"").trim().toLowerCase()]||"bg-slate-100 text-slate-700";o[0]!==d||o[1]!==c?(r=(0,s.cn)("inline-flex rounded-md px-2 py-1 text-xs font-medium",c,d),o[0]=d,o[1]=c,o[2]=r):r=o[2];let u=l||"N/A";return o[3]!==r||o[4]!==u?(n=(0,t.jsx)("span",{className:r,children:u}),o[3]=r,o[4]=u,o[5]=n):n=o[5],n}e.s(["default",()=>r])},46670,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(80064);function i(e){let i,r,n,o=(0,a.c)(12),{tabs:l,value:d,onChange:c,className:u}=e;if(o[0]!==u?(i=(0,s.cn)("flex flex-wrap gap-2",u),o[0]=u,o[1]=i):i=o[1],o[2]!==c||o[3]!==l||o[4]!==d){let e;o[6]!==c||o[7]!==d?(e=e=>{let a=e.id===d;return(0,t.jsx)("button",{type:"button",onClick:()=>c(e.id),className:(0,s.cn)("rounded-lg border px-3 py-1.5 text-xs font-medium transition",a?"border-sky-300 bg-sky-50 text-sky-700":"border-slate-300 bg-white text-slate-700 hover:bg-slate-50"),children:e.label},e.id)},o[6]=c,o[7]=d,o[8]=e):e=o[8],r=l.map(e),o[2]=c,o[3]=l,o[4]=d,o[5]=r}else r=o[5];return o[9]!==i||o[10]!==r?(n=(0,t.jsx)("div",{className:i,children:r}),o[9]=i,o[10]=r,o[11]=n):n=o[11],n}e.s(["default",()=>i])},38418,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(80064);function i(e){let i,r,n,o=(0,a.c)(10),{title:l,subtitle:d,className:c,children:u,action:m}=e;return o[0]!==c?(i=(0,s.cn)("rounded-2xl border border-slate-200 bg-white p-5 shadow-[0_12px_30px_-24px_rgba(15,23,42,0.55)]",c),o[0]=c,o[1]=i):i=o[1],o[2]!==m||o[3]!==d||o[4]!==l?(r=(l||d||m)&&(0,t.jsxs)("header",{className:"mb-4 flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[l&&(0,t.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:l}),d&&(0,t.jsx)("p",{className:"text-sm text-slate-600",children:d})]}),m]}),o[2]=m,o[3]=d,o[4]=l,o[5]=r):r=o[5],o[6]!==u||o[7]!==i||o[8]!==r?(n=(0,t.jsxs)("section",{className:i,children:[r,u]}),o[6]=u,o[7]=i,o[8]=r,o[9]=n):n=o[9],n}e.s(["default",()=>i])},97256,e=>{"use strict";function t(e={}){let a=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{if(null==t)return;let s=String(t).trim();s&&a.set(e,s)});let s=a.toString();return s?`?${s}`:""}async function a(e){if((e.headers.get("content-type")||"").includes("text/csv"))return await e.text();let t=await e.json().catch(()=>({}));if(!e.ok)throw Error(t?.message||"Request failed.");return t}async function s(e,t={}){let i=await fetch(e,{...t,headers:{"Content-Type":"application/json",...t.headers||{}},cache:"no-store"});return await a(i)}async function i(e,t={}){let a=await fetch(e,{...t,cache:"no-store"});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e?.message||"Export failed.")}return await a.text()}e.s(["hrisApi",0,{employees:{list:async(e={})=>await s(`/api/hris/employees${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/employees",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),archive:async e=>await s(`/api/hris/employees/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify({status:"Archived"})}),logDocumentAccess:async(e,t)=>await s(`/api/hris/employees/${encodeURIComponent(e)}/documents/access`,{method:"POST",body:JSON.stringify(t||{})})},lifecycle:{list:async(e={})=>await s(`/api/hris/lifecycle${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/lifecycle",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),offboard:async(e,t={})=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}/offboard`,{method:"POST",body:JSON.stringify(t)}),approve:async(e,t={})=>await s(`/api/hris/lifecycle/${encodeURIComponent(e)}/approve`,{method:"POST",body:JSON.stringify(t)})},attendance:{list:async(e={})=>await s(`/api/hris/attendance${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/attendance",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/attendance/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},leave:{list:async(e={})=>await s(`/api/hris/attendance/leave-requests${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/attendance/leave-requests",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/attendance/leave-requests/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),approve:async(e,{approved:t,approvalNote:a})=>await s(`/api/hris/attendance/leave-requests/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify({status:t?"Approved":"Rejected",approvalNote:a||""})})},performance:{list:async(e={})=>await s(`/api/hris/performance${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/performance",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/performance/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},templates:{list:async(e={})=>await s(`/api/hris/templates${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/templates",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/templates/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),archive:async e=>await s(`/api/hris/templates/${encodeURIComponent(e)}`,{method:"DELETE"})},activityLogs:{list:async(e={})=>await s(`/api/hris/activity-logs${t(e)}`,{method:"GET"}),async exportCsv(e={}){let a=t({...e,export:"csv"});return await i(`/api/hris/activity-logs${a}`,{method:"GET"})}},exports:{list:async(e={})=>await s(`/api/hris/exports${t(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/exports",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/exports/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),approve:async(e,t)=>await s(`/api/hris/exports/${encodeURIComponent(e)}/approve`,{method:"POST",body:JSON.stringify(t)}),execute:async e=>await i(`/api/hris/exports/${encodeURIComponent(e)}/execute`,{method:"POST"})},retention:{list:async(e={})=>await s(`/api/hris/retention${t(e)}`,{method:"GET"}),purge:async(e={})=>await s("/api/hris/retention",{method:"POST",body:JSON.stringify(e)})},incidents:{list:async(e={})=>await s(`/api/hris/incidents${t(e)}`,{method:"GET"}),get:async e=>await s(`/api/hris/incidents/${encodeURIComponent(e)}`,{method:"GET"}),create:async e=>await s("/api/hris/incidents",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>await s(`/api/hris/incidents/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})},settings:{referenceData:{list:async()=>await s("/api/hris/settings/reference-data",{method:"GET"}),create:async e=>await s("/api/hris/settings/reference-data",{method:"POST",body:JSON.stringify(e)}),remove:async e=>await s("/api/hris/settings/reference-data",{method:"DELETE",body:JSON.stringify(e)})}}}])},93096,e=>{"use strict";var t=e.i(43476),a=e.i(932);function s(e){let s,i,r,n=(0,a.c)(7),{title:o,subtitle:l}=e;return n[0]!==o?(s=(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:o}),n[0]=o,n[1]=s):s=n[1],n[2]!==l?(i=l?(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-600",children:l}):null,n[2]=l,n[3]=i):i=n[3],n[4]!==s||n[5]!==i?(r=(0,t.jsxs)("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50/80 px-4 py-5 text-center",children:[s,i]}),n[4]=s,n[5]=i,n[6]=r):r=n[6],r}e.s(["default",()=>s])},9272,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(38418),i=e.i(93096),r=e.i(46670),n=e.i(77135),o=e.i(13634),l=e.i(97256);let d=[{id:"leave",label:"Leave Request"},{id:"attendance",label:"Attendance Adjustment"},{id:"document",label:"Document Request"}],c={leaveType:"Vacation Leave",startDate:"",endDate:"",reason:""},u={date:"",checkIn:"",checkOut:"",reason:""},m={dataset:"Own Employee Record",format:"PDF",justification:""};function p({session:e}){let p=e?.email||"",h=(0,a.useMemo)(()=>(0,o.formatPersonName)({firstName:e?.firstName,middleName:e?.middleName,lastName:e?.lastName,fallbackEmail:p,fallbackLabel:"Employee"}),[p,e?.firstName,e?.lastName,e?.middleName]),[x,y]=(0,a.useState)("leave"),[b,g]=(0,a.useState)(c),[f,v]=(0,a.useState)(u),[N,j]=(0,a.useState)(m),[w,S]=(0,a.useState)([]),[T,C]=(0,a.useState)([]),[O,k]=(0,a.useState)(!0),[A,R]=(0,a.useState)(!1),[q,E]=(0,a.useState)(""),[$,P]=(0,a.useState)(""),D=(0,a.useCallback)(async()=>{k(!0),E("");try{let[e,t]=await Promise.all([l.hrisApi.leave.list({employeeEmail:p}),l.hrisApi.exports.list({ownerEmail:p})]);S(Array.isArray(e.records)?e.records:[]),C(Array.isArray(t.records)?t.records:[])}catch(e){E(e.message||"Unable to load requests.")}finally{k(!1)}},[p]);(0,a.useEffect)(()=>{D()},[D]);let U=(0,a.useMemo)(()=>[...w.map(e=>({id:e.id,type:"Leave Request",submittedAt:e.createdAt,targetDate:`${e.startDate||"-"} - ${e.endDate||"-"}`,status:e.status||"-"})),...T.map(e=>({id:e.id,type:"Document Export Request",submittedAt:e.createdAt,targetDate:e.dataset||"-",status:e.status||"-"}))].sort((e,t)=>new Date(t.submittedAt||0).getTime()-new Date(e.submittedAt||0).getTime()),[T,w]),I=async e=>{e.preventDefault(),R(!0),E(""),P("");try{await l.hrisApi.leave.create({employeeEmail:p,employee:h,...b}),g(c),P("Leave request submitted."),await D()}catch(e){E(e.message||"Unable to submit leave request.")}finally{R(!1)}},J=async e=>{e.preventDefault(),R(!0),E(""),P("");try{await l.hrisApi.attendance.create({employeeEmail:p,employee:h,date:f.date,checkIn:f.checkIn,checkOut:f.checkOut,status:"Adjustment Request",reason:f.reason}),v(u),P("Attendance adjustment request submitted."),await D()}catch(e){E(e.message||"Unable to submit attendance adjustment.")}finally{R(!1)}},L=async e=>{e.preventDefault(),R(!0),E(""),P("");try{await l.hrisApi.exports.create({dataset:N.dataset,format:N.format,scope:"self",estimateVolume:"1",justification:N.justification,requestedBy:p}),j(m),P("Document request submitted."),await D()}catch(e){E(e.message||"Unable to submit document request.")}finally{R(!1)}};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(r.default,{tabs:d,value:x,onChange:y}),q?(0,t.jsx)("p",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:q}):null,$?(0,t.jsx)("p",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:$}):null,"leave"===x?(0,t.jsx)(s.default,{title:"Leave Request",subtitle:"Submit leave request for manager approval",children:(0,t.jsxs)("form",{className:"grid gap-2 md:grid-cols-4",onSubmit:I,children:[(0,t.jsxs)("select",{value:b.leaveType,onChange:e=>g(t=>({...t,leaveType:e.target.value})),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,t.jsx)("option",{children:"Vacation Leave"}),(0,t.jsx)("option",{children:"Sick Leave"}),(0,t.jsx)("option",{children:"Emergency Leave"})]}),(0,t.jsx)("input",{type:"date",required:!0,value:b.startDate,onChange:e=>g(t=>({...t,startDate:e.target.value})),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{type:"date",required:!0,value:b.endDate,onChange:e=>g(t=>({...t,endDate:e.target.value})),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{required:!0,value:b.reason,onChange:e=>g(t=>({...t,reason:e.target.value})),placeholder:"Reason",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("div",{className:"md:col-span-4",children:(0,t.jsx)("button",{type:"submit",disabled:A,className:"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Submit Leave"})})]})}):null,"attendance"===x?(0,t.jsx)(s.default,{title:"Attendance Adjustment Request",subtitle:"Submit correction requests for attendance logs",children:(0,t.jsxs)("form",{className:"grid gap-2 md:grid-cols-4",onSubmit:J,children:[(0,t.jsx)("input",{type:"date",required:!0,value:f.date,onChange:e=>v(t=>({...t,date:e.target.value})),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{type:"time",value:f.checkIn,onChange:e=>v(t=>({...t,checkIn:e.target.value})),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{type:"time",value:f.checkOut,onChange:e=>v(t=>({...t,checkOut:e.target.value})),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("input",{required:!0,value:f.reason,onChange:e=>v(t=>({...t,reason:e.target.value})),placeholder:"Reason",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("div",{className:"md:col-span-4",children:(0,t.jsx)("button",{type:"submit",disabled:A,className:"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Submit Adjustment"})})]})}):null,"document"===x?(0,t.jsx)(s.default,{title:"Document / Export Request",subtitle:"Request copy of your own records and generated documents",children:(0,t.jsxs)("form",{className:"grid gap-2 md:grid-cols-3",onSubmit:L,children:[(0,t.jsx)("input",{value:N.dataset,onChange:e=>j(t=>({...t,dataset:e.target.value})),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsxs)("select",{value:N.format,onChange:e=>j(t=>({...t,format:e.target.value})),className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none",children:[(0,t.jsx)("option",{children:"PDF"}),(0,t.jsx)("option",{children:"CSV"}),(0,t.jsx)("option",{children:"Sheets"})]}),(0,t.jsx)("input",{required:!0,value:N.justification,onChange:e=>j(t=>({...t,justification:e.target.value})),placeholder:"Request justification",className:"h-9 rounded-lg border border-slate-300 px-3 text-xs text-slate-900 focus:border-sky-400 focus:outline-none"}),(0,t.jsx)("div",{className:"md:col-span-3",children:(0,t.jsx)("button",{type:"submit",disabled:A,className:"inline-flex h-9 items-center justify-center rounded-lg bg-sky-600 px-4 text-xs font-semibold text-white transition hover:bg-sky-700 disabled:opacity-70",children:"Submit Document Request"})})]})}):null,(0,t.jsx)(s.default,{title:"My Request History",subtitle:"Leave and document/export request tracking",children:O?(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Loading request history..."}):0===U.length?(0,t.jsx)(i.default,{title:"No requests yet",subtitle:"Submitted requests will appear here."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.1em] text-slate-500",children:[(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Request ID"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Type"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Submitted"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Target"}),(0,t.jsx)("th",{className:"px-2 py-3 font-medium",children:"Status"})]})}),(0,t.jsx)("tbody",{children:U.map(e=>{let a;return(0,t.jsxs)("tr",{className:"border-b border-slate-100 text-slate-700 last:border-b-0",children:[(0,t.jsx)("td",{className:"px-2 py-3 font-mono text-xs",children:e.id}),(0,t.jsx)("td",{className:"px-2 py-3 font-medium text-slate-900",children:e.type}),(0,t.jsx)("td",{className:"px-2 py-3 text-xs text-slate-600",children:Number.isNaN((a=new Date(e.submittedAt||"")).getTime())?"-":new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(a)}),(0,t.jsx)("td",{className:"px-2 py-3",children:e.targetDate}),(0,t.jsx)("td",{className:"px-2 py-3",children:(0,t.jsx)(n.default,{value:e.status})})]},e.id)})})]})})})]})}e.s(["default",()=>p])}]);